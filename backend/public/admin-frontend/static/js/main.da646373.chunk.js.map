{"version":3,"sources":["components/Page.tsx","pages/Dashboard.tsx","theme.ts","components/Badge.tsx","components/DeleteDialog.tsx","components/loading/LoadingContext.tsx","components/Table/DebouncedTableSearch.js","components/Table/index.tsx","components/Table/FilterResetButton.tsx","hooks/useDeleteCollections.ts","store/filter/index.ts","hooks/useFilter.ts","util/vendor/yup.ts","util/http/index.ts","util/http/http-resource.ts","util/http/category-http.ts","pages/category/Table.tsx","pages/category/PageList.tsx","components/SubmitActions.tsx","components/DefaultForm.tsx","hooks/useSnackbarFormError.ts","pages/category/Form.tsx","pages/category/PageForm.tsx","util/http/cast-member-http.ts","util/models.ts","pages/cast-member/Table.tsx","pages/cast-member/PageList.tsx","pages/cast-member/Form.tsx","pages/cast-member/PageForm.tsx","util/http/genre-http.ts","pages/genre/Table.tsx","pages/genre/PageList.tsx","pages/genre/Form.tsx","pages/genre/PageForm.tsx","util/http/video-http.ts","pages/video/Table.tsx","pages/video/PageList.tsx","store/upload/getters.ts","components/UploadProgress.tsx","store/upload/index.ts","components/SnackbarUpload/UploadAction.tsx","components/SnackbarUpload/UploadItem.tsx","components/SnackbarUpload/index.tsx","components/GridSelected.tsx","components/GridSelectedItem.tsx","components/Table/AsyncAutocomplete.tsx","hooks/useCollectionManager.ts","hooks/useHttpHandled.ts","pages/video/Form/CastMemberField.tsx","util/model-filter.ts","pages/video/Form/CategoryField.tsx","pages/video/Form/GenreField.tsx","components/Rating.tsx","pages/video/Form/RatingField.tsx","components/InputFile.tsx","pages/video/Form/UploadField.tsx","pages/video/Form/index.tsx","pages/video/PageForm.tsx","pages/uploads/UploadAction.tsx","pages/uploads/UploadItem.tsx","pages/uploads/index.tsx","routes/index.tsx","components/Navibar/Menu.tsx","components/Navibar/index.tsx","static/img/logo.png","routes/AppRouter.tsx","components/Breadcrumbs.tsx","components/SnackbarProvider.tsx","components/Spinner.tsx","components/loading/LoadingProvider.tsx","App.tsx","reportWebVitals.ts","store/upload/sagas.ts","store/root-saga.ts","store/index.ts","index.tsx"],"names":["useStyles","makeStyles","title","color","Page","props","classes","Container","Box","paddingTop","Typography","className","component","variant","children","Dashboard","palette","primary","main","contrastText","secondary","dark","background","default","success","green","error","red","theme","createTheme","overrides","MUIDataTable","paper","boxShadow","MUIDataTableToolbar","root","minHeight","backgroundColor","icon","iconActive","MUIDataTableHeadCell","fixedHeader","paddingBottom","sortActive","sortAction","alignItems","sortLabelRoot","toolButton","MUIDataTableSelectCell","headerCell","MUIDataTableBodyCell","MUIDataTableToolbarSelect","iconButton","MUIDataTableBodyRow","MUIDataTablePagination","MUIDataTableFilterList","marginBottom","localTheme","BadgeYes","Chip","label","BadgeNo","DeleteDialog","open","handleClose","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","onClick","autoFocus","LoadingContext","createContext","DebouncedTableSearch","handleTextChange","event","value","target","setState","text","debouncedOnSearch","onSearch","onKeyDown","keyCode","onHide","searchText","undefined","state","debounce","bind","debounceTime","prevProps","prevState","snapshot","this","e","document","addEventListener","removeEventListener","options","Grow","appear","in","timeout","ref","el","rootRef","searchIcon","TextField","InputProps","textLabels","toolbar","search","onChange","fullWidth","inputRef","searchField","placeholder","searchPlaceholder","IconButton","clearIcon","React","PureComponent","withStyles","display","flex","marginTop","marginRight","name","Table","debouncedSearchTime","columns","cloneDeep","useTheme","isSmOrDown","useMediaQuery","breakpoints","down","defaultOptions","print","download","body","noMatch","toolTip","pagination","next","previous","rowsPerPage","displayRows","downloadCsv","viewColumns","filterTable","filter","all","reset","titleAria","selectedRows","delete","deleteAria","customSearchRender","handleSearch","hideSearch","debouncedTime","newProps","merge","omit","forEach","column","key","width","map","loading","applyLoading","responsive","originalProps","makeActionStyles","copyTheme","selector","FilterResetButton","Tooltip","handleClick","useDeleteCollection","useState","openDeleteDialog","setOpenDeleteDialog","data","rowsToDelete","setRowsToDelete","useEffect","length","createActions","setSearch","setPage","setPerPage","setOrder","setReset","updateExtraFilter","Types","Creators","INITIAL_STATE","page","per_page","order","sort","dir","reducer","createReducer","SET_SEARCH","action","payload","SET_PAGE","SET_PER_PAGE","SET_ORDER","SET_RESET","UPDATE_EXTRA_FILTER","extraFilter","useFilter","history","useHistory","location","useLocation","locationSearch","locationPathname","pathname","locationState","rowsPerPageOptions","schema","useMemo","yup","shape","transform","isNaN","parseInt","includes","nullable","toLowerCase","createValidationsSchema","stateFromUrl","queryParams","URLSearchParams","substring","cast","get","getStateFromURL","cleanSearchText","useCallback","newText","formatSearchParams","useReducer","filterState","dispatch","filterManager","FilterManager","useDebounce","debouncedFilterState","totalRecords","setTotalRecords","replace","newLocation","oldState","newState","isEqual","push","applyOrderInColumns","setLocale","mixed","required","path","notType","string","max","number","min","array","tableRef","current","changeRowsPerPage","changePage","perPage","changedColumn","direction","resetTablePagination","update","sortOrder","httpVideo","axios","create","baseURL","process","instances","HttpResource","http","resource","cancelList","cancel","CancelToken","source","config","cancelToken","token","params","id","sendData","makeSendData","post","containsFile","getFormData","usePost","put","patch","isCancel","serialize","booleansAsIntegers","Object","values","File","categoryHttp","isActive","columnsDefinition","filterOptions","names","keys","customBodyRender","tableMeta","updateValue","format","parseISO","Link","to","rowData","subscribed","useRef","setData","useContext","enqueueSnackbar","useSnackbar","is_active","indexColumnIsActive","findIndex","c","columnIsActive","isActiveFilterValue","filterList","getData","a","list","meta","total","console","isCancelledRequest","confirmed","ids","index","join","deleteCollection","then","response","serverSide","count","onFilterChange","type","columnLocal","columnIndex","changeExtraFilter","customToolbar","resetFilter","onSearchChange","changeSearch","onChangePage","onChangeRowsPerPage","onColumnSortChange","changeColumnSort","onRowsDelete","rowsDeleted","newTableData","PageList","Fab","size","submit","margin","spacing","SubmitActions","buttonProps","disabled","disabledButtons","handleSave","gridItem","padding","DefaultForm","GridContainerProps","GridItemProps","others","Grid","container","item","useSnackbarFormError","submitCount","errors","hasError","validationSchema","Form","useForm","defaultValues","register","handleSubmit","getValues","setValue","watch","triggerValidation","formState","useParams","category","setCategory","onSubmit","formData","setTimeout","isSubscribed","xs","md","helperText","message","InputLabelProps","shrink","multiline","rows","FormControlLabel","control","Checkbox","checked","labelPlacement","isValid","PageForm","castMemberHttp","CastMemberTypeMap","VideoFileFieldsMap","castMemberNames","indexColumnType","columnType","typeFilterValue","invert","castMember","setCastMember","FormControl","FormLabel","RadioGroup","Radio","FormHelperText","genreHttp","filterType","categories","split","indexColumnCategories","columnCategories","categoriesFilterValue","categories_id","setCategories","genre","setGenre","catch","log","promises","Promise","categoriesResponse","genreResponse","select","SelectProps","multiple","MenuItem","videoHttp","genres","indexColumnGenres","columnGenres","genresFilterValue","isFinished","obj","progress","isUploadType","files","some","file","progressContainer","position","progressBackground","grey","left","UploadProgress","uploadOrFile","Fade","enter","exit","CircularProgress","addUpload","removeUpload","updateProgress","setUploadError","uploads","ADD_UPLOAD","findIndexUpload","video","$splice","fileField","filename","REMOVE_UPLOAD","upload","UPDATE_PROGRESS","videoId","findIndexUploadAndFile","indexUpload","indexFile","$apply","$set","calculateGlobalProgress","SET_UPLOAD_ERROR","findIndexFile","countFiles","reduce","sum","successIcon","errorIcon","UploadAction","hover","useDispatch","show","setShow","debouncedShow","ListItemSecondaryAction","hidden","edge","listItem","height","movieIcon","minWidth","listItemText","marginLeft","UploadItem","itemHover","setItemHover","disableFocusListener","disableTouchListener","placement","ListItem","button","onMouseOver","onMouseLeave","ListItemIcon","ListItemText","noWrap","Divider","card","cardActionRoot","fontSize","icons","expand","transition","transitions","duration","shortest","expandOpen","SnackbarUpload","forwardRef","closeSnackbar","expanded","setExpanded","useSelector","totalInProgress","countInProgress","Card","CardActions","classNames","Collapse","List","borderRadius","GridSelected","wrap","GridSelectedItem","onDelete","AsyncAutocomplete","AutocompleteProps","fetchOptions","freeSolo","onOpen","onInputChange","setOpen","setSearchText","debouncedSearchText","setLoading","setOptions","textFieldProps","TextFieldProps","autocompleteProps","loadingText","noOptionsText","inputValue","reason","renderInput","endAdornment","useImperativeHandle","clear","Autocomplete","useCollectionManager","collection","setCollection","addItem","find","i","unshift","removeItem","splice","useHttpHandled","request","CastMemberField","castMembers","setCastMembers","autocompleteHttp","autocompleteRef","clearOnEscape","getOptionLabel","option","getOptionSelected","FormControlProps","getGenresFromCategory","cat","genresSubtitle","CategoryField","style","genresFromCategory","GenreField","setGenres","removeCategory","justifyContent","backgroundColors","Rating","rating","ratings","RatingField","row","InputFile","fileRef","setFilename","readOnly","InputAdornment","ButtonFile","inputFileProps","InputFileProps","Array","from","openWindow","click","UploadField","accept","endIcon","cardUpload","cardOpened","cardContentOpened","description","year_launched","cast_members","test","every","v","parent","fileFields","opened","setVideo","isGreaterMd","up","castMemberRef","genreRef","categoryRef","uploadsRef","zipObject","createRef","resetForm","field","uploadFiles","persist","anchorOrigin","vertical","horizontal","content","CardContent","divider","activeActions","orientation","gridTitle","justify","panelSummary","expandedIcon","routes","exact","CategoryList","CategoryCreate","CastMemberList","CastMemberCreate","GenreList","GenreCreate","VideoList","VideoCreate","elevation","Accordion","AccordionSummary","expandIcon","AccordionDetails","dense","Fragment","listRoutes","menuRoutes","route","Menu","anchorEl","setAnchorEl","Boolean","currentTarget","transformOrigin","getContentAnchorEl","routeName","flexGrow","textAlign","logo","Navbar","AppBar","Toolbar","src","alt","AppRouter","breadcrumbNameMap","createStyles","linkRouter","LinkRouter","RouterLink","Breadcrumbs","pathnames","x","last","slice","RouteParser","match","makeBreadcrumb","variantSuccess","variantError","variantInfo","SnackbarProvider","snackbarProviderRef","defaultProps","autoHideDuration","maxSnack","preventDuplicate","makeLocalTheme","Spinner","LinearProgress","zIndex","LoadingProvider","countRequest","setCountRequest","decrementCountRequest","prevCountRequest","requestIds","onFulfilled","onRejected","interceptors","use","addGlobalRequestInterceptor","headers","hasOwnProperty","responseIds","addGlobalResponseInterceptor","reject","eject","removeGlobalResponseInterceptor","Provider","App","CssBaseline","basename","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","uploadWatcherSaga","uploadFile","actionChannel","newFilesChannel","take","fileInfo","call","f","sendUpload","channel","eventChannel","emitter","partialUpdate","_method","onUploadProgress","progressEvent","lengthComputable","loaded","finally","END","rootSaga","sagaMiddleware","createSagaMiddleware","store","createStore","combineReducers","applyMiddleware","run","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.da646373.chunk.js","sourcesContent":["import { Box, Container, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport * as React from 'react';\n\nconst useStyles = makeStyles({\n    title: {\n        color: '#999999'\n    }\n});\n\ntype PageProps = {\n    title: string\n};\nexport const Page:React.FC<PageProps> = (props) => {\n    const classes = useStyles();\n    return (\n        <Container>\n            <Box paddingTop={1}>\n                <Typography className={ classes.title } component=\"h1\" variant=\"h5\" >\n                    { props.title }\n                </Typography>\n                { props.children }\n            </Box>\n        </Container>\n    );\n};","import * as React from 'react';\nimport { Page } from '../components/Page';\n\ninterface DashboardProps {\n    \n};\n\nconst Dashboard = (props: DashboardProps) => {\n    return (\n        <Page title=\"Dashboard\">\n\n        </Page>\n    );\n};\n\nexport default Dashboard;\n","import { createTheme } from \"@material-ui/core\";\nimport { green, red } from \"@material-ui/core/colors\";\nimport { PaletteOptions, SimplePaletteColorOptions } from \"@material-ui/core/styles/createPalette\";\n\nconst palette: PaletteOptions = {\n    primary: {\n        main: '#79aec8',\n        contrastText: '#fff'\n    },\n    secondary: {\n        main: '#4db5ab',\n        contrastText: '#fff', \n        dark: '#055a52'        \n    },\n    background: {\n        default: '#fafafa'\n    },\n    success: {\n        main: green['500'],\n        contrastText: '#fff'\n    },\n\n    error: {\n        main: red['500']\n    },\n}\n\nconst theme = createTheme({\n    palette,\n    overrides: {\n        MUIDataTable: {\n            paper: {\n                boxShadow:\"none\",\n            }\n        },\n        MUIDataTableToolbar: {\n            root: {\n                minHeight: '58px',\n                backgroundColor: palette!.background!.default\n            },\n            icon: {\n                color: (palette!.primary as SimplePaletteColorOptions).main,\n                '&:hover, &:active, &.focus': {\n                    color: (palette!.secondary as SimplePaletteColorOptions).dark,\n                },\n            },\n            iconActive: {\n                color: (palette!.secondary as SimplePaletteColorOptions).dark,\n                '&:hover, &:active, &.focus': {\n                    color: (palette!.secondary as SimplePaletteColorOptions).dark,\n                },\n            }\n        },\n        MUIDataTableHeadCell: {\n            fixedHeader: {\n                paddingTop: 8,\n                paddingBottom: 8,\n                backgroundColor: (palette!.primary as SimplePaletteColorOptions).main,\n                color: '#ffffff',\n                '&[aria-sort]':{\n                    backgroundColor: '#459ac4',\n                }\n            },\n            sortActive: {\n                color: '#fff'\n            },\n            sortAction:{\n                alignItems: 'center'\n            },\n            sortLabelRoot: {\n                '& svg': {\n                    color: '#fff !important'\n                }\n            },\n            toolButton: {\n                color: '#fff'\n            }\n        },\n        MUIDataTableSelectCell: {\n            headerCell: {\n                backgroundColor: (palette!.primary as SimplePaletteColorOptions).main,\n                '& span': {\n                    color: '#fff !important'\n                }\n            },\n        },\n        MUIDataTableBodyCell: {\n            root: {\n                color: (palette!.secondary as SimplePaletteColorOptions).main,\n                '&:hover, &:active, &.focus': {\n                    color: (palette!.secondary as SimplePaletteColorOptions).main,\n                },\n            },\n        },\n        MUIDataTableToolbarSelect:{\n            title: {\n                color: (palette!.primary as SimplePaletteColorOptions).main,\n            },\n            iconButton:{\n                color: (palette!.primary as SimplePaletteColorOptions).main,\n            }\n        },\n        MUIDataTableBodyRow: {\n            root: {\n                '&:nth-child(odd)': {\n                    backgroundColor: palette!.background!.default\n                }\n            }\n        },\n        MUIDataTablePagination: {\n            root: {\n                color: (palette!.primary as SimplePaletteColorOptions).main,\n            }\n        },\n        MUIDataTableFilterList: {\n            root: {\n                marginBottom: '16px'\n            }\n        }\n    }\n});\n\nexport default theme;\n","// import * as React from 'react';\nimport { Chip, createTheme, MuiThemeProvider } from '@material-ui/core';\nimport theme from '../theme';\n\nconst localTheme = createTheme ({\n    palette: {\n        primary: theme.palette.success,\n        secondary: theme.palette.error\n    }\n});\n\nexport const BadgeYes = () => {\n    return (\n        <MuiThemeProvider theme={ localTheme }>\n            <Chip label=\"Sim\" color=\"primary\" />\n        </MuiThemeProvider>\n    );\n};\n\nexport const BadgeNo = () => {\n    return (\n        <MuiThemeProvider theme={ localTheme }>\n            <Chip label=\"Não\" color=\"secondary\" />\n        </MuiThemeProvider>\n    );\n};\n","import { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from \"@material-ui/core\";\n\ninterface DeleteDialogProps {\n    open: boolean;\n    handleClose: (confirmed: boolean) => void;\n};\nconst DeleteDialog: React.FC<DeleteDialogProps> = (props) => {\n    const { open, handleClose } = props;\n    return (\n        <Dialog\n            open={open}\n            onClose={() => handleClose(false)}\n        >\n            <DialogTitle>\n                Exclusão de registros\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Deseja realmente excluir este(s) registros?\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={() => handleClose(false)} color={'primary'}>\n                    Cancelar\n                </Button>\n                <Button onClick={() => handleClose(true)} color={'primary'} autoFocus>\n                    Excluir\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default DeleteDialog;\n","import { createContext } from \"react\";\n\nconst LoadingContext = createContext(false);\n\nexport default LoadingContext;\n","// import Grow from '@material-ui/core/Grow';\n// import TextField from '@material-ui/core/TextField';\n// import SearchIcon from '@material-ui/icons/Search';\n// import IconButton from '@material-ui/core/IconButton';\n// import ClearIcon from '@material-ui/icons/Clear';\n// import { makeStyles } from '@material-ui/core/styles';\n// import { useState, useEffect, useCallback } from 'react';\n// import {debounce} from 'lodash'; \n\n// const useStyles = makeStyles(\n//     theme => ({\n//         main: {\n//             display: 'flex',\n//             flex: '1 0 auto',\n//         },\n//         searchIcon: {\n//             color: theme.palette.text.secondary,\n//             marginTop: '10px',\n//             marginRight: '8px',\n//         },\n//         searchText: {\n//             flex: '0.8 0',\n//         },\n//         clearIcon: {\n//             '&:hover': {\n//                 color: theme.palette.error.main,\n//             },\n//         },\n//     }),\n//     { name: 'MUIDataTableSearch' },\n// );\n\n// const DebouncedTableSearch = ({ options, searchText, onSearch, onHide, debouncedTime }) => {\n//     const classes = useStyles();\n//     const [text, setText] = useState(searchText);\n\n//     let value = text;\n\n//     if(searchText && searchText.value !== undefined){ \n//         value = searchText.value; \n//     } \n\n//     useEffect(() => { \n//         debouncedOnSearch(text);\n//     },[text]) \n\n//     const handleTextChange = event => { \n//         const value = event.target.value; \n//         setText(value); \n//     }; \n\n//     const debouncedOnSearch = useCallback(debounce(value => onSearch(value),debouncedTime),[]); \n\n//     const onKeyDown = event => {\n//         if (event.key === 'Escape') {\n//             onHide();\n//         }\n//     };\n\n//     if (searchText && searchText.value !== undefined) {\n//         value = searchText.value;\n//     }\n//     return (\n//         <Grow appear in={true} timeout={300}>\n//             <div className={classes.main}>\n//                 <SearchIcon className={classes.searchIcon} />\n//                 <TextField\n//                     className={classes.searchText}\n//                     autoFocus={true}\n//                     InputProps={{\n//                         'data-test-id': options.textLabels.toolbar.search,\n//                     }}\n//                     inputProps={{\n//                         'aria-label': options.textLabels.toolbar.search,\n//                     }}\n//                     value={value || ''}\n//                     onKeyDown={onKeyDown}\n//                     onChange={handleTextChange}\n//                     fullWidth={true}\n//                     placeholder={options.searchPlaceholder}\n//                     {...(options.searchProps ? options.searchProps : {})}\n//                 />\n//                 <IconButton className={classes.clearIcon} onClick={onHide}>\n//                     <ClearIcon />\n//                 </IconButton>\n//             </div>\n//         </Grow>\n//     );\n// };\n\n// export default DebouncedTableSearch;\n\n\n// Versão do Luis\n\nimport React from 'react';\nimport Grow from '@material-ui/core/Grow';\nimport TextField from '@material-ui/core/TextField';\nimport SearchIcon from '@material-ui/icons/Search';\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport {withStyles} from '@material-ui/core/styles';\nimport {debounce} from 'lodash';\n\nconst defaultSearchStyles = theme => ({\n    main: {\n        display: 'flex',\n        flex: '1 0 auto',\n    },\n    searchIcon: {\n        color: theme.palette.text.secondary,\n        marginTop: '10px',\n        marginRight: '8px',\n    },\n    searchText: {\n        flex: '0.8 0',\n    },\n    clearIcon: {\n        '&:hover': {\n            color: theme.palette.error.main,\n        },\n    },\n});\n\n//pura - , impura\nclass DebouncedTableSearch extends React.PureComponent {\n\n    constructor(props) {\n        super(props);\n        const {searchText} = this.props;\n        let value = searchText;\n        if (searchText && searchText.value !== undefined) {\n            value = searchText.value;\n        }\n        this.state = {\n            text: value\n        };\n        this.debouncedOnSearch = debounce(this.debouncedOnSearch.bind(this), this.props.debounceTime);\n    }\n\n    handleTextChange = event => {\n        const value = event.target.value;\n        this.setState({\n            text: value\n        }, () => this.debouncedOnSearch(value))\n    };\n\n    debouncedOnSearch = value => {\n        this.props.onSearch(value)\n    };\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        const {searchText} = this.props;\n        if (searchText && searchText.value !== undefined && prevProps.searchText !== this.props.searchText) {\n            const value = searchText.value;\n            if (value) {\n                this.setState({\n                    text: value\n                }, () => this.props.onSearch(value))\n            } else {\n                try {\n                    this.props.onHide()\n                } catch (e) {\n\n                }\n            }\n        }\n    }\n\n\n    componentDidMount() {\n        document.addEventListener('keydown', this.onKeyDown, false);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('keydown', this.onKeyDown, false);\n    }\n\n    onKeyDown = event => {\n        if (event.keyCode === 27) {\n            this.props.onHide();\n        }\n    };\n\n    render() {\n        const {classes, options, onHide} = this.props;\n        let value = this.state.text;\n        return (\n            <Grow appear in={true} timeout={300}>\n                <div className={classes.main} ref={el => (this.rootRef = el)}>\n                    <SearchIcon className={classes.searchIcon}/>\n                    <TextField\n                        className={classes.searchText}\n                        autoFocus={true}\n                        InputProps={{\n                            'data-test-id': options.textLabels.toolbar.search,\n                            'aria-label': options.textLabels.toolbar.search,\n                        }}\n                        value={value || ''}\n                        onChange={this.handleTextChange}\n                        fullWidth={true}\n                        inputRef={el => (this.searchField = el)}\n                        placeholder={options.searchPlaceholder}\n                    />\n                    <IconButton className={classes.clearIcon} onClick={onHide}>\n                        <ClearIcon/>\n                    </IconButton>\n                </div>\n            </Grow>\n        );\n    }\n}\n\nexport default withStyles(defaultSearchStyles, {name: 'MUIDataTableSearch'})(DebouncedTableSearch);","import * as React from 'react';\nimport MUIDataTable, { MUIDataTableColumn, MUIDataTableOptions, MUIDataTableProps } from 'mui-datatables';\nimport { merge, omit, cloneDeep } from 'lodash';\nimport { useTheme } from '@material-ui/styles';\nimport { MuiThemeProvider, Theme, useMediaQuery } from '@material-ui/core';\nimport DebouncedTableSearch from './DebouncedTableSearch';\n\nconst makeDefaultOptions = (debouncedSearchTime?): MUIDataTableOptions => ({\n    print: false,\n    download: false,\n    textLabels: {\n        body: {\n            noMatch: \"Nenhum registro encontrado\",\n            toolTip: \"Classificar\",\n        },\n        pagination: {\n            next: \"Próxima página\",\n            previous: \"Página anterior\",\n            rowsPerPage: \"Por página:\",\n            displayRows: \"de\",\n        },\n        toolbar: {\n            search: \"Busca\",\n            downloadCsv: \"Download CSV\",\n            print: \"Imprimir\",\n            viewColumns: \"Ver Colunas\",\n            filterTable: \"Filtrar Tabelas\",\n        },\n        filter: {\n            all: \"Todos\",\n            title: \"FILTROS\",\n            reset: \"LIMPAR\",\n        },\n        viewColumns: {\n            title: \"Ver Colunas\",\n            titleAria: \"Ver/Esconder Colunas da Tabela\",\n        },\n        selectedRows: {\n            text: \"registros(s) selecionados\",\n            delete: \"Excluir\",\n            deleteAria: \"Excluir registros selecionados\",\n        },\n    },\n    customSearchRender: (\n        searchText: string,\n        handleSearch: (text: string) => void,\n        hideSearch: () => void,\n        options: any) => {\n        return <DebouncedTableSearch\n            searchText={searchText}\n            onSearch={handleSearch}\n            onHide={hideSearch}\n            options={options}\n            debouncedTime={debouncedSearchTime}\n        />\n    }\n});\n\nexport interface TableColumn extends MUIDataTableColumn {\n    width?: string;\n}\n\nexport interface MuiDataTableRefComponent {\n    changePage: (page: number) => void;\n    changeRowsPerPage: (rowsPerPage: number) => void;\n}\n\nexport interface TableProps extends MUIDataTableProps, React.RefAttributes<MuiDataTableRefComponent> {\n    columns: TableColumn[];\n    loading?: boolean;\n    debouncedSearchTime?: number;\n}\n\n// const Table: React.FC<TableProps> = (props) => {\nconst Table = React.forwardRef<MuiDataTableRefComponent, TableProps>((props, ref) => {\n\n    function extractMUIDataTableColumns(columns: TableColumn[]): MUIDataTableColumn[] {\n        setColumnsWidth(columns);\n        return columns.map(column => omit(column, 'width'));\n    }\n\n    function setColumnsWidth(colums: TableColumn[]) {\n        colums.forEach((column, key) => {\n            if (column.width) {\n                const overrides = theme.overrides as any;\n                overrides.MUIDataTableHeadCell.fixedHeader[`&:nth-child(${key + 2})`] = {\n                    width: column.width,\n                }\n            }\n        })\n    }\n\n    function applyLoading() {\n        const textLabels = (newProps.options as any).textLabels;\n        // if (newProps.loading) {\n        //     textLabels.body.noMatch = 'Carregando...'\n        // }\n        textLabels.body.noMatch = newProps.loading === true\n            ? 'Carregando...'\n            : textLabels.body.noMatch;\n    }\n\n    function applyResponsive() {\n        newProps.options.responsive = isSmOrDown ? 'simple' : 'standard'\n    }\n\n    function getOriginalMuiDataTableProps() {\n        // return omit(newProps, 'loading');\n        return {\n            ...omit(newProps, 'loading'),\n            ref\n        }\n    }\n\n    const theme = cloneDeep<Theme>(useTheme());\n    const isSmOrDown = useMediaQuery(theme.breakpoints.down('sm'));\n\n    const defaultOptions = makeDefaultOptions(props.debouncedSearchTime);\n\n    const newProps = merge(\n        { options: cloneDeep(defaultOptions) },\n        omit(props, 'columns'),\n        { columns: extractMUIDataTableColumns(props.columns) },\n    );\n\n    applyLoading();\n    applyResponsive();\n\n    const originalProps = getOriginalMuiDataTableProps();\n\n    return (\n        <MuiThemeProvider theme={theme}>\n            <MUIDataTable\n                {...originalProps}\n            />\n        </MuiThemeProvider>\n    );\n});\n\nexport default Table;\n\nexport function makeActionStyles(column) {\n    return theme => {\n        const copyTheme = cloneDeep(theme);\n        const selector = `&[data-testid^=\"MuiDataTableBodyCell-${column}\"]`;\n        (copyTheme.overrides as any).MUIDataTableBodyCell.root[selector] = {\n            paddingTop: '0px',\n            paddingBottom: '0px'\n        };\n        return copyTheme;\n    }\n}\n","import { IconButton, makeStyles, Tooltip } from \"@material-ui/core\";\nimport ClearAllIcon from '@material-ui/icons/ClearAll';\n\nconst useStyles = makeStyles(theme => ({\n    IconButton: (theme as any).overrides.MUIDataTableToolbar.icon\n}));\n\ninterface FilterResetButtonProps {\n    handleClick: () => void;\n}\n\nconst FilterResetButton: React.FC<FilterResetButtonProps> = (props) => {\n    const classes = useStyles();\n    return (\n        <Tooltip title='Limpar busca'>\n            <IconButton className={classes.IconButton} onClick={props.handleClick}>\n                <ClearAllIcon />\n            </IconButton>\n        </Tooltip>\n\n    );\n};\n\nexport default FilterResetButton;\n","import { useEffect, useState } from \"react\";\n\nconst useDeleteCollection = () => {\n    const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\n    const [rowsToDelete, setRowsToDelete] = useState<{ data: Array<{ index, dataIndex }> }>({ data: [] });\n    useEffect(() => {\n        if (rowsToDelete.data.length) { setOpenDeleteDialog(true) };\n    }, [rowsToDelete]);\n    return {\n        openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete\n    }\n};\n\nexport default useDeleteCollection;\n","import * as Typings from \"./types\";\nimport { createActions, createReducer } from 'reduxsauce';\n\nexport const { Types, Creators } = createActions<{\n    SET_SEARCH: string,\n    SET_PAGE: string,\n    SET_PER_PAGE: string,\n    SET_ORDER: string,\n    SET_RESET: string,\n    UPDATE_EXTRA_FILTER: string\n}, {\n    setSearch(payload: Typings.SetSearchAction['payload']): Typings.SetSearchAction\n    setPage(payload: Typings.SetPageAction['payload']): Typings.SetPageAction\n    setPerPage(payload: Typings.SetPerPageAction['payload']): Typings.SetPerPageAction\n    setOrder(payload: Typings.SetOrderAction['payload']): Typings.SetOrderAction\n    setReset(payload: Typings.SetResetAction['payload']): Typings.SetResetAction\n    updateExtraFilter(payload: Typings.UpdateExtraFilterAction['payload']): Typings.UpdateExtraFilterAction\n}>\n    ({\n        setSearch: ['payload'],\n        setPage: ['payload'],\n        setPerPage: ['payload'],\n        setOrder: ['payload'],\n        setReset: ['payload'],\n        updateExtraFilter: ['payload']\n    });\n\nexport const INITIAL_STATE: Typings.State = {\n    search: '',\n    pagination: {\n        page: 1,\n        per_page: 15,\n    },\n    order: {\n        sort: null,\n        dir: null,\n    }\n};\n\nconst reducer = createReducer(INITIAL_STATE, {\n    [Types.SET_SEARCH]: setSearch,\n    [Types.SET_PAGE]: setPage,\n    [Types.SET_PER_PAGE]: setPerPage,\n    [Types.SET_ORDER]: setOrder,\n    [Types.SET_RESET]: setReset,\n    [Types.UPDATE_EXTRA_FILTER]: updateExtraFilter,\n});\n\nexport default reducer;\n\nfunction setSearch(state = INITIAL_STATE, action: Typings.SetSearchAction): Typings.State {\n    return {\n        ...state,\n        search: action.payload.search,\n        pagination: {\n            ...state.pagination,\n            page: 1,\n        }\n    }\n}\n\nfunction setPage(state = INITIAL_STATE, action: Typings.SetPageAction): Typings.State {\n    return {\n        ...state,\n        pagination: {\n            ...state.pagination,\n            page: action.payload.page\n        }\n    }\n}\n\nfunction setPerPage(state = INITIAL_STATE, action: Typings.SetPerPageAction): Typings.State {\n    return {\n        ...state,\n        pagination: {\n            ...state.pagination,\n            per_page: action.payload.per_page,\n        }\n    }\n}\n\nfunction setOrder(state = INITIAL_STATE, action: Typings.SetOrderAction): Typings.State {\n    return {\n        ...state,\n        pagination: {\n            ...state.pagination,\n            page: 1\n        },\n        order: {\n            sort: action.payload.sort, dir: action.payload.dir\n        }\n    }\n}\n\nfunction setReset(state = INITIAL_STATE, action: Typings.SetResetAction): Typings.State {\n    // return {\n    //     ...INITIAL_STATE,\n    //     search: {value: null, update: true}\n    // }\n    return action.payload.state;\n}\n\nfunction updateExtraFilter(state = INITIAL_STATE, action: Typings.UpdateExtraFilterAction): Typings.State {\n    return {\n        ...state,\n        extraFilter: {\n            ...state.extraFilter,\n            ...action.payload\n        }\n    }\n}\n","import { MUIDataTableColumn } from \"mui-datatables\";\nimport React, { Dispatch, Reducer, useCallback, useEffect, useMemo, useReducer, useState } from \"react\";\nimport reducer, { Creators } from \"../store/filter\";\nimport { Actions as FilterActions, State as FilterState } from '../store/filter/types'\nimport { useDebounce } from 'use-debounce';\nimport { useHistory, useLocation } from 'react-router';\nimport { isEqual } from 'lodash';\nimport * as yup from '../util/vendor/yup';\nimport { MuiDataTableRefComponent } from '../components/Table';\nimport { ObjectSchema } from '../util/vendor/yup';\n\ninterface FilterManagerOptions {\n    schema: ObjectSchema<any>;\n    columns: MUIDataTableColumn[];\n    rowsPerPage: number;\n    tableRef: React.MutableRefObject<MuiDataTableRefComponent>;\n    dispatch: Dispatch<FilterActions>;\n    state: FilterState;\n}\n\ninterface ExtraFilter {\n    getStateFromURL: (queryParams: URLSearchParams) => any;\n    formatSearchParams: (debouncedState: FilterState) => any;\n    createValidationsSchema: () => any;\n}\n\ninterface UseFilterOptions {\n    columns: MUIDataTableColumn[];\n    rowsPerPage: number;\n    rowsPerPageOptions: number[];\n    debouncedTime: number;\n    tableRef: React.MutableRefObject<MuiDataTableRefComponent>;\n    extraFilter?: ExtraFilter;\n}\nexport default function useFilter(options: UseFilterOptions) {\n    const history = useHistory();\n    const location = useLocation();\n    const { search: locationSearch, pathname: locationPathname, state: locationState } = location;\n    const { rowsPerPageOptions, rowsPerPage, columns, extraFilter } = options;\n    const schema = useMemo(() => {\n        return yup.object().shape<any>({\n            search: yup\n                .string()\n                .transform((value) => (!value ? undefined : value))\n                .default(''),\n            pagination: yup.object().shape({\n                page: yup\n                    .number()\n                    .transform((value) =>\n                        isNaN(value) || parseInt(value) < 1 ? undefined : value\n                    )\n                    .default(1),\n                per_page: yup\n                    .number()\n                    .transform((value) =>\n                        isNaN(value) || !rowsPerPageOptions.includes(parseInt(value))\n                            ? undefined\n                            : value\n                    )\n                    .default(rowsPerPage),\n            }),\n            order: yup.object().shape({\n                sort: yup\n                    .string()\n                    .nullable()\n                    .transform((value) => {\n                        const columnsName = columns\n                            .filter(\n                                (column) => !column.options || column.options.sort !== false\n                            )\n                            .map(column => column.name)\n                        return columnsName.includes(value) ? value : undefined;\n                    })\n                    .default(null),\n                dir: yup\n                    .string()\n                    .nullable()\n                    .transform((value) =>\n                        !value || !['asc', 'desc'].includes(value.toLowerCase())\n                            ? undefined\n                            : value\n                    )\n                    .default(null),\n            }),\n            ...(\n                extraFilter && {\n                    extraFilter: extraFilter.createValidationsSchema()\n                }\n            )\n        });\n    }, [rowsPerPageOptions, rowsPerPage, columns, extraFilter]);\n\n    const stateFromUrl = useMemo<any>(() => {\n        const queryParams = new URLSearchParams(locationSearch.substring(1));\n        return schema.cast({\n            search: queryParams.get('search'),\n            pagination: {\n                page: queryParams.get('page'),\n                per_page: queryParams.get('per_page'),\n            },\n            order: {\n                sort: queryParams.get('sort'),\n                dir: queryParams.get('dir'),\n            },\n            ...(\n                extraFilter && {\n                    extraFilter: extraFilter.getStateFromURL(queryParams)\n                }\n            )\n        })\n    }, [\n        locationSearch,\n        schema,\n        extraFilter,\n    ]);\n\n    const cleanSearchText = useCallback((text) => {\n        let newText = text;\n        if (text && text.value !== undefined) {\n            newText = text.value\n        }\n        return newText;\n    }, [])\n\n    const formatSearchParams = useCallback((state, extraFilter) => {\n        const search = cleanSearchText(state.search);\n        return {\n            ...search && search !== '' && { search: search },\n            ...(state.pagination.page !== 1 && { page: state.pagination.page }),\n            ...(state.pagination.per_page !== 15 && { per_page: state.pagination.per_page }),\n            ...(\n                state.order.sort && {\n                    sort: state.order.sort,\n                    dir: state.order.dir\n                }\n            ),\n            ...(\n                extraFilter && extraFilter.formatSearchParams(state)\n            )\n        }\n    }, [cleanSearchText]);\n\n    const INITIAL_STATE = stateFromUrl;\n    const [filterState, dispatch] = useReducer<Reducer<FilterState, FilterActions>>(reducer, INITIAL_STATE);\n    const filterManager = new FilterManager({ ...options, state: filterState, dispatch, schema });\n    const [debouncedFilterState] = useDebounce(filterState, options.debouncedTime);\n    const [totalRecords, setTotalRecords] = useState<number>(0);\n\n    useEffect(() => {\n        history.replace({\n            pathname: locationPathname,\n            search:\n                '?' +\n                new URLSearchParams(formatSearchParams(stateFromUrl, extraFilter)),\n            state: stateFromUrl,\n        });\n    }, [\n        history,\n        locationPathname,\n        formatSearchParams,\n        stateFromUrl,\n        extraFilter,\n    ]);\n\n    useEffect(() => {\n        const newLocation = {\n            pathname: locationPathname,\n            search: '?' + new URLSearchParams(formatSearchParams(debouncedFilterState, extraFilter)),\n            state: {\n                ...debouncedFilterState,\n                search: cleanSearchText(debouncedFilterState.search)\n            }\n        };\n        const oldState = locationState;\n        const newState = debouncedFilterState;\n\n        if (isEqual(oldState, newState)) {\n            return\n        }\n\n        history.push(newLocation);\n    }, [history, locationPathname, locationState, formatSearchParams, cleanSearchText, debouncedFilterState, extraFilter]);\n\n    filterManager.state = filterState;\n\n    filterManager.applyOrderInColumns();\n\n    return {\n        columns: filterManager.columns,\n        cleanSearchText,\n        filterManager,\n        filterState,\n        debouncedFilterState,\n        dispatch,\n        totalRecords,\n        setTotalRecords\n    }\n}\n\nexport class FilterManager {\n    schema;\n    state: FilterState;\n    dispatch: Dispatch<FilterActions>;\n    columns: MUIDataTableColumn[];\n    rowsPerPage: number;\n    tableRef: React.MutableRefObject<MuiDataTableRefComponent>;\n\n    constructor(options: FilterManagerOptions) {\n        const {\n            schema,\n            columns,\n            rowsPerPage,\n            tableRef,\n            dispatch,\n            state,\n        } = options;\n        this.schema = schema;\n        this.columns = columns;\n        this.rowsPerPage = rowsPerPage;\n        this.tableRef = tableRef;\n        this.dispatch = dispatch;\n        this.state = state;\n    }\n\n    private resetTablePagination() {\n        this.tableRef.current.changeRowsPerPage(this.rowsPerPage);\n        this.tableRef.current.changePage(0);\n    }\n\n    changeSearch(value) {\n        this.dispatch(Creators.setSearch({ search: value }));\n    }\n\n    changePage(page) {\n        this.dispatch(Creators.setPage({ page: page + 1 }));\n    }\n\n    changeRowsPerPage(perPage) {\n        this.dispatch(Creators.setPerPage({ per_page: perPage }))\n    }\n\n    changeColumnSort(changedColumn: string, direction: string) {\n        this.dispatch(Creators.setOrder({\n            sort: changedColumn,\n            dir: direction.includes('desc') ? 'desc' : 'asc',\n        }));\n        this.resetTablePagination();\n    }\n\n    changeExtraFilter(data) {\n        this.dispatch(Creators.updateExtraFilter(data));\n    }\n\n    resetFilter() {\n        const INITIAL_STATE = {\n            ...this.schema.cast({}),\n            search: { value: null, update: true }\n        };\n        this.dispatch(Creators.setReset({\n            state: INITIAL_STATE\n        }));\n        this.resetTablePagination();\n    }\n\n    applyOrderInColumns() {\n        this.columns = this.columns.map(column => {\n            return column.name === this.state.order.sort\n                ? {\n                    ...column,\n                    options: {\n                        ...column.options,\n                        sortOrder: this.state.order.dir as any\n                    }\n                }\n                : column;\n        });\n    }\n\n    cleanSearchText(text) {\n        let newText = text;\n        if (text && text.value !== undefined) {\n            newText = text.value\n        }\n        return newText;\n    }\n}\n","import { setLocale } from \"yup\";\n\nconst ptBR = {\n  mixed: {\n    required: ({ path }) => `${path} é requerido`,\n    notType: ({ path }) => `${path} é inválido`,\n  },\n  string: {\n    max: ({ path, max }) => `${path} precisa ter no máximo ${max} caracteres`,\n  },\n  number: {\n    min: ({ path, min }) => `${path} precisa ser no mínimo ${min}`,\n  },\n  array: {\n    min: ({ path, min }) => `${path} precisa ter no mínimo ${min} item`,\n  },\n};\n\nsetLocale(ptBR);\n\nexport * from \"yup\";\n","import axios, { AxiosError, AxiosRequestConfig, AxiosResponse } from \"axios\";\n\nexport const httpVideo = axios.create({\n    baseURL: process.env.REACT_APP_VIDEO_API_URL\n});\nconst instances = [httpVideo];\nexport function addGlobalRequestInterceptor(\n    onFulfilled?: (value: AxiosRequestConfig) => AxiosRequestConfig | Promise<AxiosRequestConfig>,\n    onRejected?: (error: AxiosError) => any\n) {\n    const ids: number[] = [];\n    for (let i of instances) {\n        const id = i.interceptors.request.use(onFulfilled, onRejected);\n        ids.push(id);\n    }\n    return ids;\n}\nexport function removeGlobalRequestInterceptor(ids: number[]) {\n    ids.forEach(\n        (id, index) => instances[index].interceptors.request.eject(id)\n    )\n}\nexport function addGlobalResponseInterceptor(\n    onFulfilled?: (value: AxiosResponse) => AxiosResponse | Promise<AxiosResponse>,\n    onRejected?: (error: AxiosError) => any\n) {\n    const ids: number[] = [];\n    for (let i of instances) {\n        const id = i.interceptors.response.use(onFulfilled, onRejected);\n        ids.push(id);\n    }\n    return ids;\n}\nexport function removeGlobalResponseInterceptor(ids: number[]) {\n    ids.forEach(\n        (id, index) => instances[index].interceptors.response.eject(id)\n    )\n}\n","import axios, { AxiosInstance, AxiosRequestConfig, AxiosResponse, CancelTokenSource } from \"axios\";\nimport { serialize } from \"object-to-formdata\";\n\nexport default class HttpResource {\n\n    private cancelList: CancelTokenSource | null = null;\n\n    constructor(protected http: AxiosInstance, protected resource) {\n\n    }\n\n    list<T = any>(options?: { queryParams?}): Promise<AxiosResponse<T>> {\n        if (this.cancelList) {\n            this.cancelList.cancel('list request cancelled');\n        }\n        this.cancelList = axios.CancelToken.source();\n\n        const config: AxiosRequestConfig = {\n            cancelToken: this.cancelList.token,\n        };\n        if (options && options.queryParams) {\n            config.params = options.queryParams;\n        }\n        return this.http.get<T>(this.resource, config);\n    }\n\n    get<T = any>(id): Promise<AxiosResponse<T>> {\n        return this.http.get<T>(`${this.resource}/${id}`);\n    }\n\n    create<T = any>(data): Promise<AxiosResponse<T>> {\n        let sendData = this.makeSendData(data);\n        return this.http.post<T>(this.resource, sendData);\n    }\n\n    update<T = any>(id, data, options?: { http?: { usePost: boolean }, config?: AxiosRequestConfig }): Promise<AxiosResponse<T>> {\n        let sendData = data;\n        if (this.containsFile(data)) {\n            sendData = this.getFormData(data);\n        }\n        const { http, config } = (options || {}) as any;\n        return !options || !http || !http.usePost\n            ? this.http.put<T>(`${this.resource}/${id}`, sendData, config)\n            : this.http.post<T>(`${this.resource}/${id}`, sendData, config);\n    }\n\n    partialUpdate<T = any>(id, data, options?: { http?: { usePost: boolean }, config?: AxiosRequestConfig }): Promise<AxiosResponse<T>> {\n        let sendData = data;\n        if (this.containsFile(data)) {\n            sendData = this.getFormData(data);\n        }\n        const { http, config } = (options || {}) as any;\n        return !options || !http || !http.usePost\n            ? this.http.patch<T>(`${this.resource}/${id}`, sendData, config)\n            : this.http.post<T>(`${this.resource}/${id}`, sendData, config);\n    }\n\n    delete<T = any>(id): Promise<AxiosResponse<T>> {\n        return this.http.delete(`${this.resource}/${id}`);\n    }\n\n    deleteCollection<T = any>(queryParams): Promise<AxiosResponse<T>> {\n        const config: AxiosRequestConfig = {};\n        if (queryParams) { config['params'] = queryParams };\n        return this.http.delete<T>(`${this.resource}`, config);\n    }\n\n    isCancelledRequest(error: any) {\n        return axios.isCancel(error);\n    }\n\n    private makeSendData(data) {\n        return this.containsFile(data) ? this.getFormData(data) : data;\n    }\n\n    private getFormData(data) {\n        // const formData = new FormData();\n        // Object\n        //     .keys(data)\n        //     .forEach(key => {\n        //         let value = data[key];\n        //         if (typeof value === \"undefined\") {\n        //             return;\n        //         }\n        //         if (typeof value === \"boolean\") {\n        //             value = value ? 1 : 0;\n        //         }\n        //         if(value instanceof Array){\n        //             value.forEach(v => formData.append(`${key}[]`, v))\n        //             return;\n        //         }\n        //         formData.append(key, value)\n        //     });\n        // return formData;\n        return serialize(data, { booleansAsIntegers: true });\n    }\n\n    private containsFile(data) {\n        return Object\n            .values(data)\n            .filter(el => el instanceof File).length !== 0\n    }\n}\n","import { httpVideo } from \"./index\";\nimport HttpResource from \"./http-resource\";\n\nconst categoryHttp = new HttpResource(httpVideo, 'categories');\n\nexport default categoryHttp;","import { IconButton, MuiThemeProvider } from '@material-ui/core';\nimport EditIcon from '@material-ui/icons/Edit';\nimport format from 'date-fns/format';\nimport parseISO from 'date-fns/parseISO';\nimport { useSnackbar } from 'notistack';\nimport { useEffect, useState, useRef, useContext, useMemo, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { BadgeNo, BadgeYes } from '../../components/Badge';\nimport DeleteDialog from '../../components/DeleteDialog';\nimport LoadingContext from '../../components/loading/LoadingContext';\nimport DefaultTable, { makeActionStyles, TableColumn, MuiDataTableRefComponent } from '../../components/Table';\nimport FilterResetButton from '../../components/Table/FilterResetButton';\nimport useDeleteCollection from '../../hooks/useDeleteCollections';\nimport useFilter from '../../hooks/useFilter';\nimport categoryHttp from '../../util/http/category-http';\nimport { Category, ListResponse } from '../../util/models';\nimport * as yup from '../../util/vendor/yup';\n\nconst isActive = { 'Sim': true, 'Não': false };\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: \"id\",\n        label: \"ID\",\n        width: \"30%\",\n        options: {\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: \"name\",\n        label: \"Nome\",\n        width: \"43%\",\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: \"is_active\",\n        label: \"Ativo?\",\n        width: \"4%\",\n        options: {\n            filterOptions: {\n                names: Object.keys(isActive)\n            },\n            customBodyRender(value, tableMeta, updateValue) {\n                return value ? <BadgeYes /> : <BadgeNo />;\n            }\n        }\n    },\n    {\n        name: \"created_at\",\n        label: \"Criado em\",\n        width: \"10%\",\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n            }\n        },\n    },\n    {\n        name: \"actions\",\n        label: \"Ações\",\n        width: \"13%\",\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender: (value, tableMeta) => {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/categories/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon />\n                    </IconButton>\n                )\n            }\n        }\n    },\n];\n\nconst debouncedTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\n\nconst Table = () => {\n    const subscribed = useRef(true);\n    const [data, setData] = useState<Category[]>([]);\n    const loading = useContext(LoadingContext);\n    const { enqueueSnackbar } = useSnackbar();\n    const { openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete } = useDeleteCollection();\n    const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n    const extraFilter = useMemo(() => ({\n        createValidationsSchema: () => {\n            return yup.object().shape({\n                is_active: yup.string()\n                    .nullable()\n                    .transform(value => {\n                        return !value || !Object.keys(isActive).includes(value) ? undefined : value;\n                    })\n                    .default(null)\n            })\n        },\n        formatSearchParams: (debouncedFilterState) => {\n            return debouncedFilterState.extraFilter\n                ? {\n                    ...(\n                        debouncedFilterState.extraFilter.is_active &&\n                        { is_active: debouncedFilterState.extraFilter.is_active }\n                    )\n                }\n                : undefined\n        },\n        getStateFromURL: (queryParams) => {\n            return {\n                is_active: queryParams.get('is_active')\n            }\n        }\n    }), []);\n    const {\n        columns,\n        cleanSearchText,\n        filterManager,\n        filterState,\n        debouncedFilterState,\n        totalRecords,\n        setTotalRecords,\n    } = useFilter({\n        columns: columnsDefinition,\n        debouncedTime: debouncedTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n        tableRef,\n        extraFilter: extraFilter,\n    });\n    const searchText = cleanSearchText(debouncedFilterState.search);\n\n    const indexColumnIsActive = columns.findIndex(c => c.name === 'is_active');\n    const columnIsActive = columns[indexColumnIsActive];\n    const isActiveFilterValue = filterState.extraFilter && filterState.extraFilter.is_active as never;\n    (columnIsActive.options as any).filterList = isActiveFilterValue ? [isActiveFilterValue] : []\n\n    const getData = useCallback(async ({ search, page, per_page, sort, dir, is_active }) => {\n        try {\n            const { data } = await categoryHttp.list<ListResponse<Category>>({\n                queryParams: {\n                    search,\n                    page,\n                    per_page,\n                    sort,\n                    dir,\n                    is_active\n                }\n            });\n            if (subscribed.current) {\n                setData(data.data);\n                setTotalRecords(data.meta.total);\n                if (openDeleteDialog) {\n                    setOpenDeleteDialog(false)\n                };\n            }\n        } catch (error) {\n            console.error(error);\n            if (categoryHttp.isCancelledRequest(error)) {\n                return;\n            }\n            enqueueSnackbar(\n                `Não foi possível encontrar as informações`,\n                { variant: 'error' }\n            );\n        }\n    }, [enqueueSnackbar, openDeleteDialog, setOpenDeleteDialog, setTotalRecords]);\n\n    useEffect(() => {\n        subscribed.current = true\n        getData({\n            search: searchText,\n            page: debouncedFilterState.pagination.page,\n            per_page: debouncedFilterState.pagination.per_page,\n            sort: debouncedFilterState.order.sort,\n            dir: debouncedFilterState.order.dir,\n            ...(\n                debouncedFilterState.extraFilter &&\n                debouncedFilterState?.extraFilter?.is_active &&\n                { is_active: isActive[debouncedFilterState.extraFilter.is_active] }\n            )\n        });\n        return () => {\n            subscribed.current = false;\n        }\n    }, [\n        getData,\n        searchText,\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order,\n        debouncedFilterState.extraFilter\n    ]);\n\n    function deleteRows(confirmed: boolean) {\n        if (!confirmed) {\n            setOpenDeleteDialog(false);\n            return;\n        }\n        const ids = rowsToDelete\n            .data\n            .map(value => data[value.index].id)\n            .join(',');\n        categoryHttp\n            .deleteCollection({ ids })\n            .then(response => {\n                enqueueSnackbar(\n                    'Registros excluídos com sucesso',\n                    { variant: 'success' }\n                );\n                if (\n                    rowsToDelete.data.length === filterState.pagination.per_page\n                    && filterState.pagination.page > 1\n                ) {\n                    const page = filterState.pagination.page - 2;\n                    filterManager.changePage(page);\n                } else {\n                    getData({\n                        search: searchText,\n                        page: debouncedFilterState.pagination.page,\n                        per_page: debouncedFilterState.pagination.per_page,\n                        sort: debouncedFilterState.order.sort,\n                        dir: debouncedFilterState.order.dir,\n                        ...(\n                            debouncedFilterState.extraFilter &&\n                            debouncedFilterState?.extraFilter?.is_active &&\n                            { is_active: isActive[debouncedFilterState.extraFilter.is_active] }\n                        )\n                    });\n                }\n            });\n    }\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length - 1)}>\n            <DeleteDialog open={openDeleteDialog} handleClose={deleteRows} />\n            <DefaultTable\n                title=\"\"\n                columns={columns}\n                data={data}\n                loading={loading}\n                debouncedSearchTime={debouncedSearchTime}\n                ref={tableRef}\n                options={{\n                    serverSide: true,\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    onFilterChange: (column: any, filterList, type) => {\n                        const columnLocal = !column ? 'is_active' : column\n                        const columnIndex = columns.findIndex(c => c.name === columnLocal);\n                        filterManager.changeExtraFilter({\n                            [columnLocal]: filterList[columnIndex].length ? filterList[columnIndex][0] : null\n                        })\n                    },\n                    customToolbar: () => (\n                        <FilterResetButton\n                            handleClick={() => {\n                                filterManager.resetFilter();\n                            }}\n                        />\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) =>\n                        filterManager.changeColumnSort(changedColumn, direction),\n                    onRowsDelete: (rowsDeleted: {\n                        lookup: { [dataIndex: number]: boolean };\n                        data: Array<{ index: number; dataIndex: number }>;\n                    }, newTableData: any[]) => {\n                        setRowsToDelete(rowsDeleted as any);\n                        return false;\n                    }\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table;\n","import { Box, Fab } from '@material-ui/core';\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport AddIcon from '@material-ui/icons/Add';\nimport Table from './Table';\n\n\nconst PageList = () => {\n    return (\n        <Page title='Listagem categorias'>\n            <Box dir={'rtl'} paddingBottom={ 2 }>\n                <Fab \n                    title=\"Adicionar categoria\"\n                    color=\"secondary\"\n                    size=\"small\"\n                    component={Link}\n                    to=\"/categories/create\"\n                >\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList;\n","import { Box, Button, ButtonProps, makeStyles, Theme } from '@material-ui/core';\nimport * as React from 'react';\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return {\n        submit: {\n            margin: theme.spacing(1)\n        }\n    }\n})\n\ninterface SubmitActionsOptions {\n    disabledButtons?: boolean;\n    handleSave: () => void;\n}\n\nconst SubmitActions: React.FC<SubmitActionsOptions> = (props) => {\n    const classes = useStyles();\n    const buttonProps: ButtonProps = {\n        className: classes.submit,\n        color: \"secondary\",\n        variant: \"contained\",\n        disabled: props.disabledButtons === undefined ? false : props.disabledButtons,\n    }\n\n    return (\n        <Box dir=\"ltf\">\n            <Button color={\"primary\"} {...buttonProps} type=\"submit\" onClick={props.handleSave}>\n                Salvar\n            </Button>\n            <Button {...buttonProps} type=\"submit\">Salvar e continuar editando</Button>\n        </Box>\n    );\n};\n\nexport default SubmitActions;\n","import * as React from 'react';\nimport { Grid, GridProps, makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n    gridItem: {\n        padding: theme.spacing(1, 0)\n    },\n}));\n\ninterface DefaultFormProps extends React.DetailedHTMLProps<React.FormHTMLAttributes<HTMLFormElement>, HTMLFormElement> {\n    GridContainerProps?: GridProps;\n    GridItemProps?: GridProps;\n}\n\nconst DefaultForm: React.FC<DefaultFormProps> = (props) => {\n\n    const classes = useStyles();\n    const { GridContainerProps, GridItemProps, ...others } = props;\n\n    return (\n        <form { ...others }>\n            <Grid container { ...GridContainerProps }>\n                <Grid className={ classes.gridItem } item { ...GridItemProps } >\n                    { props.children }\n                </Grid>\n            </Grid>\n        </form>\n    );\n};\n\nexport default DefaultForm;\n","import { useSnackbar } from \"notistack\"\nimport { useEffect } from \"react\";\n\nconst useSnackbarFormError = (submitCount, errors) => {\n    const { enqueueSnackbar } = useSnackbar();\n    useEffect(() => {\n        const hasError = Object.keys(errors).length !== 0;\n        if (submitCount > 0 && hasError) {\n            enqueueSnackbar(\n                'Formulário inválido. Reveja os campos marcados de vermelho.',\n                { variant: 'error' }\n            );\n        }\n    }, [submitCount, enqueueSnackbar, errors]);\n};\n\nexport default useSnackbarFormError;\n","import { Checkbox, FormControlLabel, TextField } from \"@material-ui/core\";\nimport { useSnackbar } from \"notistack\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useParams, useHistory } from \"react-router\";\nimport categoryHttp from \"../../util/http/category-http\";\nimport * as yup from '../../util/vendor/yup';\nimport { Category } from \"../../util/models\";\nimport SubmitActions from \"../../components/SubmitActions\";\nimport DefaultForm from \"../../components/DefaultForm\";\nimport LoadingContext from \"../../components/loading/LoadingContext\";\nimport useSnackbarFormError from \"../../hooks/useSnackbarFormError\";\n\nconst validationSchema = yup.object().shape({\n    name: yup.string()\n        .label('Nome')\n        .required()\n        .max(255),\n});\n\nexport const Form = () => {\n    const {\n        register,\n        handleSubmit,\n        getValues,\n        setValue,\n        errors,\n        reset,\n        watch,\n        triggerValidation,\n        formState\n    } = useForm<{ name, is_active }>({\n        validationSchema,\n        defaultValues: {\n            is_active: true\n        }\n    });\n    useSnackbarFormError(formState.submitCount, errors);\n    const { enqueueSnackbar } = useSnackbar();\n    const history = useHistory();\n    const { id }: any = useParams();\n    const [category, setCategory] = useState<Category | null>(null);\n    const loading = useContext(LoadingContext);\n\n    useEffect(() => {\n        register({ name: 'is_active' })\n    }, [register]);\n\n    useEffect(() => {\n        let isSubscribed = true;\n\n        if (!id) {\n            return\n        }\n        (async function () {\n            try {\n                const { data } = await categoryHttp.get(id);\n                if (isSubscribed) {\n                    setCategory(data.data);\n                    reset(data.data);\n                }\n            } catch (error) {\n                console.error(error);\n                enqueueSnackbar(\n                    `Não foi possível encontrar a categoria: ${id}`,\n                    { variant: 'error' }\n                );\n            }\n        })();\n\n        return () => {\n            isSubscribed = false;\n        }\n\n    }, [id, reset, enqueueSnackbar]);\n\n    async function onSubmit(formData, event) {\n        try {\n            const http = !category\n                ? categoryHttp.create(formData)\n                : categoryHttp.update(id, formData)\n            const { data } = await http;\n            enqueueSnackbar(\n                'Categoria salva com sucesso',\n                { variant: 'success' }\n            )\n            setTimeout(() => {\n                event\n                    ? (\n                        id\n                            ? history.replace(`/categories/${data.data.id}/edit`)\n                            : history.push(`/categories/${data.data.id}/edit`)\n                    )\n                    : history.push('/categories')\n            })\n        } catch (error) {\n            console.error(error);\n            enqueueSnackbar(\n                'Não foi possível gravar a categoria',\n                { variant: 'error' }\n            );\n        }\n    }\n\n    return (\n        <DefaultForm GridItemProps={{ xs: 12, md: 6 }} onSubmit={handleSubmit(onSubmit)} >\n            <TextField\n                name=\"name\"\n                label=\"Nome\"\n                fullWidth\n                variant=\"outlined\"\n                inputRef={register}\n                error={errors.name !== undefined}\n                disabled={loading}\n                helperText={errors.name && errors.name.message}\n                InputLabelProps={{ shrink: true }}\n            />\n            <TextField\n                name=\"description\"\n                label=\"Descrição\"\n                multiline\n                rows=\"4\"\n                fullWidth\n                variant=\"outlined\"\n                margin=\"normal\"\n                inputRef={register}\n                disabled={loading}\n                InputLabelProps={{ shrink: true }}\n            />\n            <FormControlLabel\n                disabled={loading}\n                control={\n                    <Checkbox\n                        name=\"is_active\"\n                        color={\"primary\"}\n                        onChange={\n                            () => setValue('is_active', !getValues()['is_active'])\n                        }\n                        checked={(watch('is_active')) as boolean}\n                    />\n                }\n                label={'Ativo?'}\n                labelPlacement='end'\n            />\n            <SubmitActions\n                disabledButtons={loading}\n                handleSave={() =>\n                    triggerValidation().then(isValid => {\n                        isValid && onSubmit(getValues(), null)\n                    })\n                }\n            />\n        </DefaultForm>\n    );\n};\n","// import * as React from 'react';\nimport { Page } from '../../components/Page';\nimport { Form } from \"./Form\";\nimport { useParams } from 'react-router-dom'\n\nconst PageForm = () => {\n    const {id}:any = useParams();\n    return (\n        <Page title={!id ? \"Criar categoria\" : \"Editar categoria\"}>\n            <Form />\n        </Page>\n    );\n}\n\nexport default PageForm;","import { httpVideo } from \"./index\";\nimport HttpResource from \"./http-resource\";\n\nconst castMemberHttp = new HttpResource(httpVideo, 'cast_members');\n\nexport default castMemberHttp;","export interface ListResponse<T>{\n    data: T[],\n    links: {\n        first: string;\n        last: string;\n        prev: string | null;\n        next: string | null;\n    },\n    meta: {\n        current_page: number;\n        from: number;\n        last_page: number;\n        path: string;\n        per_page: number;\n        to: number;\n        total: number;\n    }\n}\n\ninterface Timestampable {\n    readonly created_at: string;\n    readonly deleted_at: string | null;\n    readonly updated_at: string;\n}\n\nexport interface Category extends Timestampable {\n    readonly id: string;\n    name: string;\n    description: string;\n    is_active: boolean;\n}\n\nexport interface CastMember extends Timestampable {\n    readonly id: string;\n    name: string;\n    type: number;\n}\n\nexport const CastMemberTypeMap = {\n    1: 'Diretor',\n    2: 'Ator'\n}\n\nexport interface Genre extends Timestampable {\n    readonly id: string;\n    name: string;\n    is_active: boolean;\n    categories: Category[];\n}\n\ninterface GenreVideo extends Omit<Genre, 'categories'> {\n\n}\n\nexport const VideoFileFieldsMap = {\n    'thumb_file': 'Thumbnail',\n     'banner_file': 'Banner',\n     'trailer_file': 'Trailer',\n     'video_file': 'Principal',\n}\n\nexport interface Video extends Timestampable {\n    readonly id: string;\n    title: string;\n    description: string;\n    year_launched: number;\n    openend: boolean;\n    rating: string;\n    duration: number,\n    genres: GenreVideo[];\n    categories: Category[];\n    cast_members: CastMember[];\n    thumb_file_url: string;\n    banner_file_url: string;\n    trailer_file_url: string;\n    video_file_url: string;\n}\n ","import { IconButton, MuiThemeProvider } from '@material-ui/core';\nimport EditIcon from '@material-ui/icons/Edit';\nimport format from 'date-fns/format';\nimport parseISO from 'date-fns/parseISO';\nimport { useSnackbar } from 'notistack';\nimport { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport DeleteDialog from '../../components/DeleteDialog';\nimport DefaultTable, { makeActionStyles, TableColumn, MuiDataTableRefComponent } from '../../components/Table';\nimport FilterResetButton from '../../components/Table/FilterResetButton';\nimport useFilter from '../../hooks/useFilter';\nimport useDeleteCollection from '../../hooks/useDeleteCollections';\nimport castMemberHttp from '../../util/http/cast-member-http';\nimport { CastMember, CastMemberTypeMap, ListResponse } from '../../util/models';\nimport * as yup from '../../util/vendor/yup';\nimport { invert } from 'lodash';\nimport LoadingContext from '../../components/loading/LoadingContext';\n\n\nconst castMemberNames = Object.values(CastMemberTypeMap);\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: \"id\",\n        label: \"ID\",\n        width: \"30%\",\n        options: {\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: \"name\",\n        label: \"Nome\",\n        width: \"43%\",\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: \"type\",\n        label: \"Tipo\",\n        width: \"4%\",\n        options: {\n            filterOptions: {\n                names: castMemberNames\n            },\n            customBodyRender(value, tableMeta, updateValue) {\n                return CastMemberTypeMap[value];\n            }\n        }\n    },\n    {\n        name: \"created_at\",\n        label: \"Criado em\",\n        width: \"10%\",\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n            }\n        }\n    },\n    {\n        name: \"actions\",\n        label: \"Ações\",\n        width: \"13%\",\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender: (value, tableMeta) => {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/cast-members/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon />\n                    </IconButton>\n                )\n            }\n        }\n    },\n];\nconst debouncedTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\n\nconst Table = () => {\n    const subscribed = useRef(true);\n    const [data, setData] = useState<CastMember[]>([]);\n    const loading = useContext(LoadingContext);\n    const { openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete } = useDeleteCollection();\n    const { enqueueSnackbar } = useSnackbar();\n    const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n    const extraFilter = useMemo(() => ({\n        createValidationsSchema: () => {\n            return yup.object().shape({\n                type: yup.string()\n                    .nullable()\n                    .transform(value => {\n                        return !value || !castMemberNames.includes(value) ? undefined : value;\n                    })\n                    .default(null)\n            })\n        },\n        formatSearchParams: (debouncedFilterState) => {\n            return debouncedFilterState.extraFilter\n                ? {\n                    ...(\n                        debouncedFilterState.extraFilter.type &&\n                        { type: debouncedFilterState.extraFilter.type }\n                    )\n                }\n                : undefined\n        },\n        getStateFromURL: (queryParams) => {\n            return {\n                type: queryParams.get('type')\n            }\n        }\n    }), [])\n    const {\n        columns,\n        cleanSearchText,\n        filterManager,\n        filterState,\n        debouncedFilterState,\n        totalRecords,\n        setTotalRecords,\n    } = useFilter({\n        columns: columnsDefinition,\n        debouncedTime: debouncedTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n        tableRef,\n        extraFilter: extraFilter,\n    });\n    const searchText = cleanSearchText(debouncedFilterState.search);\n\n    const indexColumnType = columns.findIndex(c => c.name === 'type');\n    const columnType = columns[indexColumnType];\n    const typeFilterValue = filterState.extraFilter && filterState.extraFilter.type as never;\n    (columnType.options as any).filterList = typeFilterValue ? [typeFilterValue] : [];\n\n    const getData = useCallback(async ({ search, page, per_page, sort, dir, type }) => {\n        try {\n            const { data } = await castMemberHttp.list<ListResponse<CastMember>>({\n                queryParams: {\n                    search,\n                    page,\n                    per_page,\n                    sort,\n                    dir,\n                    type\n                }\n            });\n            if (subscribed.current) {\n                setData(data.data);\n                setTotalRecords(data.meta.total);\n                if (openDeleteDialog) {\n                    setOpenDeleteDialog(false)\n                };\n            }\n        } catch (error) {\n            console.error(error);\n            if (castMemberHttp.isCancelledRequest(error)) {\n                return;\n            }\n            enqueueSnackbar(\n                `Não foi possível encontrar as informações`,\n                { variant: 'error' }\n            );\n        }\n    }, [enqueueSnackbar, openDeleteDialog, setOpenDeleteDialog, setTotalRecords]);\n\n    useEffect(() => {\n        subscribed.current = true\n        getData({\n            search: searchText,\n            page: debouncedFilterState.pagination.page,\n            per_page: debouncedFilterState.pagination.per_page,\n            sort: debouncedFilterState.order.sort,\n            dir: debouncedFilterState.order.dir,\n            ...(\n                debouncedFilterState.extraFilter &&\n                debouncedFilterState.extraFilter.type &&\n                { type: invert(CastMemberTypeMap)[debouncedFilterState.extraFilter.type] }\n            ),\n        });\n        return () => {\n            subscribed.current = false;\n        }\n    }, [\n        getData,\n        searchText,\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order,\n        debouncedFilterState.extraFilter\n    ]);\n\n    function deleteRows(confirmed: boolean) {\n        if (!confirmed) {\n            setOpenDeleteDialog(false);\n            return;\n        }\n        const ids = rowsToDelete\n            .data\n            .map(value => data[value.index].id)\n            .join(',');\n        castMemberHttp\n            .deleteCollection({ ids })\n            .then(response => {\n                enqueueSnackbar(\n                    'Registros excluídos com sucesso',\n                    { variant: 'success' }\n                );\n                if (\n                    rowsToDelete.data.length === filterState.pagination.per_page\n                    && filterState.pagination.page > 1\n                ) {\n                    const page = filterState.pagination.page - 2;\n                    filterManager.changePage(page);\n                } else {\n                    getData({\n                        search: searchText,\n                        page: debouncedFilterState.pagination.page,\n                        per_page: debouncedFilterState.pagination.per_page,\n                        sort: debouncedFilterState.order.sort,\n                        dir: debouncedFilterState.order.dir,\n                        ...(\n                            debouncedFilterState.extraFilter &&\n                            debouncedFilterState.extraFilter.type &&\n                            { type: invert(CastMemberTypeMap)[debouncedFilterState.extraFilter.type] }\n                        )\n                    })\n                }\n            });\n    }\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length - 1)}>\n            <DeleteDialog open={openDeleteDialog} handleClose={deleteRows} />\n            <DefaultTable\n                title=\"\"\n                columns={columns}\n                data={data}\n                loading={loading}\n                debouncedSearchTime={debouncedSearchTime}\n                ref={tableRef}\n                options={{\n                    serverSide: true,\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    onFilterChange: (column: any, filterList, type) => {\n                        const columnLocal = !column ? 'type' : column\n                        const columnIndex = columns.findIndex(c => c.name === columnLocal);\n                        filterManager.changeExtraFilter({\n                            [columnLocal]: filterList[columnIndex].length ? filterList[columnIndex][0] : null\n                        })\n                    },\n                    customToolbar: () => (\n                        <FilterResetButton\n                            handleClick={() => {\n                                filterManager.resetFilter()\n                            }}\n                        />\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) =>\n                        filterManager.changeColumnSort(changedColumn, direction),\n                    onRowsDelete: (rowsDeleted: {\n                        lookup: { [dataIndex: number]: boolean };\n                        data: Array<{ index: number; dataIndex: number }>;\n                    }, newTableData: any[]) => {\n                        setRowsToDelete(rowsDeleted as any);\n                        return false;\n                    }\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table;\n","import { Box, Fab } from '@material-ui/core';\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport AddIcon from '@material-ui/icons/Add';\nimport Table from './Table';\n\n\nconst PageList = () => {\n    return (\n        <Page title='Listagem membros de elencos'>\n            <Box dir={'rtl'} paddingBottom={ 2 }>\n                <Fab \n                    title=\"Adicionar membro de elencos\"\n                    color=\"secondary\"\n                    size=\"small\"\n                    component={Link}\n                    to=\"/cast-members/create\"\n                >\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList;\n","import * as React from \"react\";\nimport { FormHelperText, TextField } from \"@material-ui/core\";\nimport { Radio, RadioGroup, FormControlLabel, FormControl, FormLabel } from \"@material-ui/core\";\nimport { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport castMemberHttp from \"../../util/http/cast-member-http\";\nimport { useSnackbar } from 'notistack';\nimport * as yup from 'yup';\nimport { useParams, useHistory } from \"react-router\";\nimport { CastMember } from \"../../util/models\";\nimport DefaultForm from \"../../components/DefaultForm\";\nimport LoadingContext from \"../../components/loading/LoadingContext\";\nimport useSnackbarFormError from \"../../hooks/useSnackbarFormError\";\nimport SubmitActions from \"../../components/SubmitActions\";\n\nconst validationSchema = yup.object().shape({\n    name: yup.string()\n        .label('Nome')\n        .required()\n        .max(255),\n    type: yup.number()\n        .label('Tipo')\n        .required(),\n});\n\nexport const Form = () => {\n    const {\n        register,\n        handleSubmit,\n        getValues,\n        setValue,\n        errors,\n        reset,\n        watch,\n        triggerValidation,\n        formState\n    } = useForm<{ name, type }>({\n        validationSchema,\n    });\n    useSnackbarFormError(formState.submitCount, errors);\n    const { enqueueSnackbar } = useSnackbar();\n    const { id }: any = useParams();\n    const [castMember, setCastMember] = useState<CastMember | null>(null);\n    const loading = React.useContext(LoadingContext);\n    // const classes = useStyles();\n    const history = useHistory();\n\n    useEffect(() => {\n        register({ name: \"type\" })\n    }, [register]);\n\n    useEffect(() => {\n        let isSubscribed = true;\n        if (!id) {\n            return\n        }\n        (async () => {\n            try {\n                const { data } = await castMemberHttp.get(id);\n                if (isSubscribed) {\n                    setCastMember(data.data);\n                    reset(data.data)\n                }\n            } catch (error) {\n                console.error(error);\n                enqueueSnackbar(\n                    `Erro ao obter membro de elenco para edição: ${id}`,\n                    { variant: 'error' }\n                );\n            }\n        })();\n\n        return () => {\n            isSubscribed = false;\n        }\n\n    }, [id, reset, enqueueSnackbar]);\n\n    async function onSubmit(formData, event) {\n        try {\n            const http = !castMember\n                ? castMemberHttp.create(formData)\n                : castMemberHttp.update(id, formData)\n            const { data } = await http;\n            enqueueSnackbar(\n                `Membro de elenco salvo com sucesso`,\n                { variant: 'success' });\n            setTimeout(() => {\n                event\n                    ? (\n                        id\n                            ? history.replace(`/cast-members/${data.data.id}/edit`)\n                            : history.push(`/cast-members/${data.data.id}/edit`)\n                    )\n                    : history.push(`/cast-members`)\n            });\n        } catch (error) {\n            console.error(error);\n            enqueueSnackbar(\n                `Não foi possível gravar o membro de elenco`,\n                { variant: 'error' }\n            );\n        }\n    }\n\n    return (\n        <DefaultForm GridItemProps={{ xs: 12, md: 6 }} onSubmit={handleSubmit(onSubmit)} >\n            <TextField\n                name=\"name\"\n                label=\"Nome\"\n                fullWidth\n                variant=\"outlined\"\n                inputRef={register}\n                error={errors.name !== undefined}\n                helperText={errors.name && errors.name.message}\n                InputLabelProps={{ shrink: true }}\n                disabled={loading}\n            />\n            <FormControl\n                margin=\"normal\"\n                error={errors.type !== undefined}\n                disabled={loading}\n            >\n                <FormLabel component=\"legend\">Tipo</FormLabel>\n                <RadioGroup\n                    name=\"type\"\n                    onChange={(e) => {\n                        setValue('type', parseInt(e.target.value));\n                    }}\n                    value={watch('type') + \"\"}\n                >\n                    <FormControlLabel value=\"1\" control={<Radio />} label=\"Diretor\" />\n                    <FormControlLabel value=\"2\" control={<Radio />} label=\"Ator\" />\n                </RadioGroup>\n                {\n                    errors.type && <FormHelperText >{errors.type.message}</FormHelperText>\n                }\n            </FormControl>\n            <SubmitActions\n                disabledButtons={loading}\n                handleSave={() =>\n                    triggerValidation().then(isValid => {\n                        isValid && onSubmit(getValues(), null)\n                    })\n                }\n            />\n        </DefaultForm>\n    );\n};\n","// import * as React from 'react';\nimport { Page } from '../../components/Page';\nimport { Form } from \"./Form\";\nimport { useParams } from 'react-router';\n\nconst PageForm = () => {\n    const {id}:any = useParams();\n    return (\n        <Page title={!id ? \"Criar membro de elenco\" : \"Editar membro de elenco\"}>\n            <Form />\n        </Page>\n    );\n}\n\nexport default PageForm;","import { httpVideo } from \"./index\";\nimport HttpResource from \"./http-resource\";\n\nconst genreHttp = new HttpResource(httpVideo, 'genres');\n\nexport default genreHttp;","import { IconButton, MuiThemeProvider } from '@material-ui/core';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport genreHttp from '../../util/http/genre-http';\nimport format from 'date-fns/format';\nimport parseISO from 'date-fns/parseISO';\nimport { BadgeNo, BadgeYes } from '../../components/Badge';\nimport { Genre, ListResponse } from '../../util/models';\nimport DeleteDialog from '../../components/DeleteDialog';\nimport DefaultTable, { makeActionStyles, TableColumn, MuiDataTableRefComponent } from '../../components/Table';\nimport useFilter from '../../hooks/useFilter';\nimport useDeleteCollection from '../../hooks/useDeleteCollections';\nimport { useSnackbar } from 'notistack';\nimport * as yup from '../../util/vendor/yup';\nimport FilterResetButton from '../../components/Table/FilterResetButton';\nimport categoryHttp from '../../util/http/category-http';\nimport LoadingContext from '../../components/loading/LoadingContext';\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: \"id\",\n        label: \"ID\",\n        width: \"30%\",\n        options: {\n            sort: false,\n            filter: false,\n        }\n    },\n    {\n        name: \"name\",\n        label: \"Nome\",\n        width: \"10%\",\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: \"categories\",\n        label: \"Categorias\",\n        width: \"33%\",\n        options: {\n            filterType: 'multiselect',\n            filterOptions: {\n                names: []\n            },\n            customBodyRender(value, tableMeta, updateValue) {\n                return !value ? null : value.map(value => value.name).join(', ');\n            }\n        }\n    },\n    {\n        name: \"is_active\",\n        label: \"Ativo?\",\n        width: \"4%\",\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return value ? <BadgeYes /> : <BadgeNo />;\n            }\n        }\n    },\n    {\n        name: \"created_at\",\n        label: \"Criado em\",\n        width: \"10%\",\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n            }\n        }\n    },\n    {\n        name: \"actions\",\n        label: \"Ações\",\n        width: \"13%\",\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender: (value, tableMeta) => {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/genres/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon />\n                    </IconButton>\n                )\n            }\n        }\n    },\n];\nconst debouncedTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\n\nconst Table = () => {\n    const subscribed = useRef(true);\n    const [data, setData] = useState<Genre[]>([]);\n    const loading = useContext(LoadingContext);\n    const { openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete } = useDeleteCollection();\n    const { enqueueSnackbar } = useSnackbar();\n    const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n    const extraFilter = useMemo(() => ({\n        createValidationsSchema: () => {\n            return yup.object().shape({\n                categories: yup.mixed()\n                    .nullable()\n                    .transform(value => {\n                        return !value || value === '' ? undefined : value.split(',')\n                    })\n                    .default(null)\n            })\n        },\n        formatSearchParams: (debouncedFilterState) => {\n            return debouncedFilterState.extraFilter\n                ? {\n                    ...(\n                        debouncedFilterState.extraFilter.categories &&\n                        { categories: debouncedFilterState.extraFilter.categories.join(',') }\n                    )\n                }\n                : undefined\n        },\n        getStateFromURL: (queryParams) => {\n            return {\n                categories: queryParams.get('categories')\n            }\n        }\n    }), []);\n    const {\n        columns,\n        cleanSearchText,\n        filterManager,\n        filterState,\n        debouncedFilterState,\n        totalRecords,\n        setTotalRecords,\n    } = useFilter({\n        columns: columnsDefinition,\n        debouncedTime: debouncedTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n        tableRef,\n        extraFilter: extraFilter,\n    });\n    const searchText = cleanSearchText(debouncedFilterState.search);\n\n    const indexColumnCategories = columns.findIndex(c => c.name === 'categories');\n    const columnCategories = columns[indexColumnCategories];\n    const categoriesFilterValue = filterState.extraFilter && filterState.extraFilter.categories as never;\n    (columnCategories.options as any).filterList = categoriesFilterValue ? categoriesFilterValue : [];\n\n\n    const getData = useCallback(async ({ search, page, per_page, sort, dir, categories }) => {\n        try {\n            const { data } = await genreHttp.list<ListResponse<Genre>>({\n                queryParams: {\n                    search,\n                    page,\n                    per_page,\n                    sort,\n                    dir,\n                    categories\n                }\n            });\n            if (subscribed.current) {\n                setData(data.data);\n                setTotalRecords(data.meta.total);\n                if (openDeleteDialog) {\n                    setOpenDeleteDialog(false)\n                };\n            }\n        } catch (error) {\n            console.error(error);\n            if (genreHttp.isCancelledRequest(error)) {\n                return;\n            }\n            enqueueSnackbar(\n                `Não foi possível encontrar as informações`,\n                { variant: 'error' }\n            );\n        }\n    }, [enqueueSnackbar, openDeleteDialog, setOpenDeleteDialog, setTotalRecords]);\n\n    useEffect(() => {\n        let isSubscribed = true;\n        (async () => {\n            try {\n                const { data } = await categoryHttp.list({ queryParams: { all: '' } });\n                if (isSubscribed) {\n                    (columnCategories.options as any).filterOptions.names = data.data.map(category => category.name);\n                }\n            } catch (error) {\n                console.error(error);\n                enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    { variant: 'error', }\n                )\n            }\n        })();\n\n        return () => {\n            isSubscribed = false;\n        }\n\n    }, [columnCategories.options, enqueueSnackbar]);\n\n    useEffect(() => {\n        subscribed.current = true\n        getData({\n            search: searchText,\n            page: debouncedFilterState.pagination.page,\n            per_page: debouncedFilterState.pagination.per_page,\n            sort: debouncedFilterState.order.sort,\n            dir: debouncedFilterState.order.dir,\n            ...(\n                debouncedFilterState.extraFilter &&\n                debouncedFilterState.extraFilter.categories &&\n                { categories: debouncedFilterState.extraFilter.categories.join(',') }\n            )\n        });\n        return () => {\n            subscribed.current = false;\n        }\n    }, [\n        getData,\n        searchText,\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order,\n        debouncedFilterState.extraFilter\n    ]);\n\n    function deleteRows(confirmed: boolean) {\n        if (!confirmed) {\n            setOpenDeleteDialog(false);\n            return;\n        }\n        const ids = rowsToDelete\n            .data\n            .map(value => data[value.index].id)\n            .join(',');\n        genreHttp\n            .deleteCollection({ ids })\n            .then(response => {\n                enqueueSnackbar(\n                    'Registros excluídos com sucesso',\n                    { variant: 'success' }\n                );\n                if (\n                    rowsToDelete.data.length === filterState.pagination.per_page\n                    && filterState.pagination.page > 1\n                ) {\n                    const page = filterState.pagination.page - 2;\n                    filterManager.changePage(page);\n                } else {\n                    getData({\n                        search: searchText,\n                        page: debouncedFilterState.pagination.page,\n                        per_page: debouncedFilterState.pagination.per_page,\n                        sort: debouncedFilterState.order.sort,\n                        dir: debouncedFilterState.order.dir,\n                        ...(\n                            debouncedFilterState.extraFilter &&\n                            debouncedFilterState.extraFilter.categories &&\n                            { categories: debouncedFilterState.extraFilter.categories.join(',') }\n                        )\n                    })\n                }\n            });\n    }\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length - 1)}>\n            <DeleteDialog open={openDeleteDialog} handleClose={deleteRows} />\n            <DefaultTable\n                title=\"\"\n                columns={columns}\n                data={data}\n                loading={loading}\n                debouncedSearchTime={debouncedSearchTime}\n                ref={tableRef}\n                options={{\n                    serverSide: true,\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    onFilterChange: (column: any, filterList, type) => {\n                        const columnLocal = !column ? 'categories' : column\n                        const columnIndex = columns.findIndex(c => c.name === columnLocal);\n                        filterManager.changeExtraFilter({\n                            [columnLocal]: filterList[columnIndex].length ? filterList[columnIndex] : null\n                        })\n                    },\n                    customToolbar: () => (\n                        <FilterResetButton\n                            handleClick={() => {\n                                filterManager.resetFilter()\n                            }}\n                        />\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) =>\n                        filterManager.changeColumnSort(changedColumn, direction),\n                    onRowsDelete: (rowsDeleted: {\n                        lookup: { [dataIndex: number]: boolean };\n                        data: Array<{ index: number; dataIndex: number }>;\n                    }, newTableData: any[]) => {\n                        setRowsToDelete(rowsDeleted as any);\n                        return false;\n                    }\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table;\n","import { Box, Fab } from '@material-ui/core';\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport AddIcon from '@material-ui/icons/Add';\nimport Table from './Table';\n\n\nconst PageList = () => {\n    return (\n        <Page title='Listagem de gêneros'>\n            <Box dir={'rtl'} paddingBottom={ 2 }>\n                <Fab \n                    title=\"Adicionar gênero\"\n                    color=\"secondary\"\n                    size=\"small\"\n                    component={Link}\n                    to=\"/genres/create\"\n                >\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList;\n","import { MenuItem, TextField } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory, useParams } from \"react-router\";\nimport * as yup from 'yup';\nimport categoryHttp from \"../../util/http/category-http\";\nimport genreHttp from \"../../util/http/genre-http\";\nimport { useSnackbar } from \"notistack\";\nimport { Category, Genre } from \"../../util/models\";\nimport DefaultForm from \"../../components/DefaultForm\";\nimport LoadingContext from \"../../components/loading/LoadingContext\";\nimport SubmitActions from \"../../components/SubmitActions\";\nimport useSnackbarFormError from \"../../hooks/useSnackbarFormError\";\n\nconst validationSchema = yup.object().shape({\n    name: yup.string()\n        .label('Nome')\n        .required()\n        .max(255),\n    categories_id: yup.array()\n        .label('Categorias')\n        .required()\n        .min(1),\n});\n\nexport const Form = () => {\n    const {\n        register,\n        handleSubmit,\n        getValues,\n        setValue,\n        watch,\n        errors,\n        reset,\n        triggerValidation,\n        formState\n    } = useForm<{ name, categories_id }>({\n        validationSchema,\n        defaultValues: {\n            categories_id: []\n        }\n    });\n    useSnackbarFormError(formState.submitCount, errors);\n    const { enqueueSnackbar } = useSnackbar();\n    const history = useHistory();\n    const [categories, setCategories] = useState<Category[]>([]);\n    const { id }: any = useParams();\n    const [genre, setGenre] = useState<Genre | null>(null);\n    const loading = React.useContext(LoadingContext);\n\n    // get data to enable Genre edit\n    useEffect(() => {\n        let isSubscribed = true;\n\n        (async () => {\n            const promises = [categoryHttp.list({ queryParams: { all: '' } })];\n            if (id) {\n                promises.push(genreHttp.get(id));\n            }\n            try {\n                const [categoriesResponse, genreResponse] = await Promise.all(promises);\n                if (isSubscribed) {\n                    setCategories(categoriesResponse.data.data);\n                }\n                if (id && isSubscribed) {\n                    setGenre(genreResponse.data.data);\n                    // setGenre(genreResponse.data.data)\n                    const categories_id = genreResponse.data.data.categories.map(category => category.id);\n                    reset({\n                        ...genreResponse.data.data,\n                        categories_id\n                    });\n                }\n            } catch (error) {\n                console.error(error);\n                enqueueSnackbar(\n                    `Não foi possível carregar as informações`,\n                    { variant: 'error' }\n                )\n            }\n        })();\n\n        return () => {\n            isSubscribed = false;\n        }\n\n    }, [id, reset, enqueueSnackbar]);\n\n    // registrado componente categories_id\n    useEffect(() => {\n        register({ name: \"categories_id\" })\n    }, [register]);\n\n    function onSubmit(formData, event) {\n        const http = !genre\n            ? genreHttp\n                .create(formData)\n            : genreHttp\n                .update(id, formData)\n        http\n            .then(\n                ({ data }) => {\n                    enqueueSnackbar(\n                        `Gênero salvo com sucesso`,\n                        { variant: 'success' });\n                    setTimeout(\n                        () => {\n                            event\n                                ? (\n                                    id\n                                        ? history.replace(`/genres/${data.data.id}/edit`)\n                                        : history.push(`/genres/${data.data.id}/edit`)\n                                )\n                                : history.push(`/genres`)\n                        }\n                    )\n                }\n            )\n            .catch(\n                (error) => {\n                    console.log('onSubmit: ', error);\n                    enqueueSnackbar(\n                        `Não foi possível gravar o gênero`,\n                        { variant: 'error' });\n                }\n            )\n        // .finally(() => setLoading(false))\n    }\n\n    return (\n        <DefaultForm GridItemProps={{ xs: 12, md: 6 }} onSubmit={handleSubmit(onSubmit)} >\n            <TextField\n                name=\"name\"\n                label=\"Nome\"\n                fullWidth\n                variant=\"outlined\"\n                inputRef={register}\n                error={errors.name !== undefined}\n                disabled={loading}\n                helperText={errors.name && errors.name.message}\n                InputLabelProps={{ shrink: true }}\n            />\n            <TextField\n                select\n                name=\"categories_id\"\n                value={watch('categories_id')}\n                label=\"Categorias\"\n                margin={\"normal\"}\n                variant={\"outlined\"}\n                fullWidth\n                disabled={loading}\n                onChange={(e) => {\n                    setValue('categories_id', e.target.value);\n                }}\n                SelectProps={{\n                    multiple: true\n                }}\n                error={errors.categories_id !== undefined}\n                helperText={errors.categories_id && errors.categories_id.message}\n                InputLabelProps={{ shrink: true }}\n            >\n                <MenuItem value=\"\" disabled>\n                    <em>Selecione categorias</em>\n                </MenuItem>\n                {\n                    categories.map(\n                        (category, key) => (\n                            <MenuItem key={key} value={category.id}>{category.name}</MenuItem>\n                        )\n                    )\n                }\n            </TextField>\n            <SubmitActions\n                disabledButtons={loading}\n                handleSave={() =>\n                    triggerValidation().then(isValid => {\n                        isValid && onSubmit(getValues(), null)\n                    })\n                }\n            />\n        </DefaultForm>\n    );\n};\n","// import * as React from 'react';\nimport { Page } from '../../components/Page';\nimport { Form } from \"./Form\";\nimport { useParams } from 'react-router-dom';\n\nconst PageForm = () => {\n    const id = useParams();\n    return (\n        <Page title={!id ? \"Criar gênero\" : \"Editar Gênero\"}>\n            <Form />\n        </Page>\n    );\n}\n\nexport default PageForm;\n","import { httpVideo } from \"./index\";\nimport HttpResource from \"./http-resource\";\n\nconst videoHttp = new HttpResource(httpVideo, 'videos');\n\nexport default videoHttp;\n","import { IconButton, MuiThemeProvider } from '@material-ui/core';\nimport EditIcon from '@material-ui/icons/Edit';\nimport format from 'date-fns/format';\nimport parseISO from 'date-fns/parseISO';\nimport { useSnackbar } from 'notistack';\nimport { useEffect, useState, useRef, useContext, useMemo, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport DeleteDialog from '../../components/DeleteDialog';\nimport LoadingContext from '../../components/loading/LoadingContext';\nimport DefaultTable, { makeActionStyles, TableColumn, MuiDataTableRefComponent } from '../../components/Table';\nimport FilterResetButton from '../../components/Table/FilterResetButton';\nimport useDeleteCollection from '../../hooks/useDeleteCollections';\nimport useFilter from '../../hooks/useFilter';\nimport categoryHttp from '../../util/http/category-http';\nimport genreHttp from '../../util/http/genre-http';\nimport videoHttp from '../../util/http/video-http';\nimport { Video, ListResponse } from '../../util/models';\nimport * as yup from '../../util/vendor/yup';\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: \"id\",\n        label: \"ID\",\n        width: \"30%\",\n        options: {\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: \"title\",\n        label: \"Título\",\n        width: \"20%\",\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: \"genres\",\n        label: \"Gêneros\",\n        width: \"15%\",\n        options: {\n            filterType: 'multiselect',\n            filterOptions: {\n                names: []\n            },\n            customBodyRender(value, tableMeta, updateValue) {\n                return !value ? null : value.map(value => value.name).join(', ');\n            }\n        }\n    },\n\n    {\n        name: \"categories\",\n        label: \"Categorias\",\n        width: \"12%\",\n        options: {\n            filterType: 'multiselect',\n            filterOptions: {\n                names: []\n            },\n            customBodyRender(value, tableMeta, updateValue) {\n                return !value ? null : value.map(value => value.name).join(', ');\n            }\n        }\n    },\n    {\n        name: \"created_at\",\n        label: \"Criado em\",\n        width: \"10%\",\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n            }\n        },\n    },\n    {\n        name: \"actions\",\n        label: \"Ações\",\n        width: \"13%\",\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender: (value, tableMeta) => {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/videos/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon />\n                    </IconButton>\n                )\n            }\n        }\n    },\n];\n\nconst debouncedTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\n\nconst Table = () => {\n    const subscribed = useRef(true);\n    const [data, setData] = useState<Video[]>([]);\n    const loading = useContext(LoadingContext);\n    const { enqueueSnackbar } = useSnackbar();\n    const { openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete } = useDeleteCollection();\n    const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n    const extraFilter = useMemo(() => ({\n        createValidationsSchema: () => {\n            return yup.object().shape({\n                categories: yup.mixed()\n                    .nullable()\n                    .transform(value => {\n                        return !value || value === '' ? undefined : value.split(',')\n                    })\n                    .default(null),\n                genres: yup.mixed()\n                    .nullable()\n                    .transform(value => {\n                        return !value || value === '' ? undefined : value.split(',')\n\n                    })\n                    .default(null),\n            })\n        },\n        formatSearchParams: (debouncedFilterState) => {\n            return debouncedFilterState.extraFilter\n                ? {\n                    ...(\n                        debouncedFilterState.extraFilter.categories &&\n                        { categories: debouncedFilterState.extraFilter.categories.join(',') }\n                    ),\n                    ...(\n                        debouncedFilterState.extraFilter.genres &&\n                        { genres: debouncedFilterState.extraFilter.genres.join(',') }\n                    )\n                }\n                : undefined\n        },\n        getStateFromURL: (queryParams) => {\n            return {\n                categories: queryParams.get('categories'),\n                genres: queryParams.get('genres')\n            }\n        }\n    }), [])\n    const {\n        columns,\n        cleanSearchText,\n        filterManager,\n        filterState,\n        debouncedFilterState,\n        totalRecords,\n        setTotalRecords,\n    } = useFilter({\n        columns: columnsDefinition,\n        debouncedTime: debouncedTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n        tableRef,\n        extraFilter: extraFilter,\n    });\n    const searchText = cleanSearchText(debouncedFilterState.search);\n\n    const indexColumnCategories = columns.findIndex(c => c.name === 'categories');\n    const columnCategories = columns[indexColumnCategories];\n    const categoriesFilterValue = filterState.extraFilter && filterState.extraFilter.categories as never;\n    (columnCategories.options as any).filterList = categoriesFilterValue ? categoriesFilterValue : [];\n\n    const indexColumnGenres = columns.findIndex(c => c.name === 'genres');\n    const columnGenres = columns[indexColumnGenres];\n    const genresFilterValue = filterState.extraFilter && filterState.extraFilter.genres as never;\n    (columnGenres.options as any).filterList = genresFilterValue ? genresFilterValue : [];\n\n    const getData = useCallback(async ({ search, page, per_page, sort, dir, categories, genres }) => {\n        try {\n            const { data } = await videoHttp.list<ListResponse<Video>>({\n                queryParams: {\n                    search,\n                    page,\n                    per_page,\n                    sort,\n                    dir,\n                    categories,\n                    genres,\n                }\n            });\n            if (subscribed.current) {\n                setData(data.data);\n                setTotalRecords(data.meta.total);\n                if (openDeleteDialog) { setOpenDeleteDialog(false) };\n            }\n        } catch (error) {\n            console.error(error);\n            if (videoHttp.isCancelledRequest(error)) {\n                return;\n            }\n            enqueueSnackbar(\n                `Não foi possível encontrar as informações`,\n                { variant: 'error' }\n            );\n        }\n    }, [enqueueSnackbar, openDeleteDialog, setOpenDeleteDialog, setTotalRecords])\n\n    useEffect(() => {\n        let isSubscribed = true;\n        (async () => {\n            try {\n                const { data } = await categoryHttp.list({ queryParams: { all: '' } });\n                if (isSubscribed) {\n                    (columnCategories.options as any).filterOptions.names = data.data.map(category => category.name);\n                }\n            } catch (error) {\n                console.error(error);\n                enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    { variant: 'error', }\n                )\n            }\n        })();\n\n        return () => {\n            isSubscribed = false;\n        }\n\n    }, [columnCategories, enqueueSnackbar]);\n\n    useEffect(() => {\n        let isSubscribed = true;\n        (async () => {\n            try {\n                const { data } = await genreHttp.list({ queryParams: { all: '' } });\n                if (isSubscribed) {\n                    (columnGenres.options as any).filterOptions.names = data.data.map(genre => genre.name);\n                }\n            } catch (error) {\n                console.error(error);\n                enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    { variant: 'error', }\n                )\n            }\n        })();\n\n        return () => {\n            isSubscribed = false;\n        }\n\n    }, [columnGenres.options, enqueueSnackbar]);\n\n    useEffect(() => {\n        subscribed.current = true\n        getData({\n            search: searchText,\n            page: debouncedFilterState.pagination.page,\n            per_page: debouncedFilterState.pagination.per_page,\n            sort: debouncedFilterState.order.sort,\n            dir: debouncedFilterState.order.dir,\n            ...(\n                debouncedFilterState.extraFilter &&\n                debouncedFilterState.extraFilter.categories &&\n                { categories: debouncedFilterState.extraFilter.categories.join(',') }\n            ),\n            ...(\n                debouncedFilterState.extraFilter &&\n                debouncedFilterState.extraFilter.genres &&\n                { genres: debouncedFilterState.extraFilter.genres.join(',') }\n            ),\n        });\n        return () => {\n            subscribed.current = false;\n        }\n    }, [\n        getData,\n        searchText,\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order,\n        debouncedFilterState.extraFilter\n    ]);\n\n    function deleteRows(confirmed: boolean) {\n        if (!confirmed) {\n            setOpenDeleteDialog(false);\n            return;\n        }\n        const ids = rowsToDelete\n            .data\n            .map(value => data[value.index].id)\n            .join(',');\n        videoHttp\n            .deleteCollection({ ids })\n            .then(response => {\n                enqueueSnackbar(\n                    'Registros excluídos com sucesso',\n                    { variant: 'success' }\n                );\n                if (\n                    rowsToDelete.data.length === filterState.pagination.per_page\n                    && filterState.pagination.page > 1\n                ) {\n                    const page = filterState.pagination.page - 2;\n                    filterManager.changePage(page);\n                } else {\n                    getData({\n                        search: searchText,\n                        page: debouncedFilterState.pagination.page,\n                        per_page: debouncedFilterState.pagination.per_page,\n                        sort: debouncedFilterState.order.sort,\n                        dir: debouncedFilterState.order.dir,\n                        ...(\n                            debouncedFilterState.extraFilter &&\n                            debouncedFilterState.extraFilter.categories &&\n                            { categories: debouncedFilterState.extraFilter.categories.join(',') }\n                        ),\n                        ...(\n                            debouncedFilterState.extraFilter &&\n                            debouncedFilterState.extraFilter.genres &&\n                            { genres: debouncedFilterState.extraFilter.genres.join(',') }\n                        ),\n                    })\n                }\n            });\n    }\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length - 1)}>\n            <DeleteDialog open={openDeleteDialog} handleClose={deleteRows} />\n            <DefaultTable\n                title=\"\"\n                columns={columns}\n                data={data}\n                loading={loading}\n                debouncedSearchTime={debouncedSearchTime}\n                ref={tableRef}\n                options={{\n                    serverSide: true,\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    onFilterChange: (column: any, filterList, type) => {\n                        const columnLocal = !column ? 'categories' : column\n                        const columnIndex = columns.findIndex(c => c.name === columnLocal);\n                        filterManager.changeExtraFilter({\n                            [columnLocal]: filterList[columnIndex].length ? filterList[columnIndex] : null\n                        })\n                    },\n                    customToolbar: () => (\n                        <FilterResetButton\n                            handleClick={() => {\n                                filterManager.resetFilter();\n                            }}\n                        />\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) =>\n                        filterManager.changeColumnSort(changedColumn, direction),\n                    onRowsDelete: (rowsDeleted: {\n                        lookup: { [dataIndex: number]: boolean };\n                        data: Array<{ index: number; dataIndex: number }>;\n                    }, newTableData: any[]) => {\n                        setRowsToDelete(rowsDeleted as any);\n                        return false;\n                    }\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table;\n","import { Box, Fab } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport AddIcon from '@material-ui/icons/Add';\nimport Table from './Table';\n\n\nconst PageList = () => {\n    return (\n        <Page title='Listagem vídeos'>\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title=\"Adicionar vídeo\"\n                    color=\"secondary\"\n                    size=\"small\"\n                    component={Link}\n                    to=\"/videos/create\"\n                >\n                    <AddIcon />\n                </Fab>\n            </Box>\n            <Box>\n                <Table />\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList;\n","import { FileUpload, Upload } from \"./types\";\n\nexport function countInProgress(uploads: Upload[]): number {\n    return uploads.filter(upload => !isFinished(upload)).length\n\n}\n\nexport function isFinished(obj: Upload | FileUpload): boolean {\n    return obj.progress === 1 || hasError(obj);\n}\n\nexport function hasError(obj: Upload | FileUpload): boolean {\n    if (isUploadType(obj)) {\n        const upload = obj as Upload;\n        return upload.files.some(file => file.error)\n    } else {\n        const file = obj as FileUpload;\n        return file.error !== undefined;\n    }\n}\n\nexport function isUploadType(obj: Upload | FileUpload): boolean {\n    return \"video\" in obj;\n}\n","import { CircularProgress, Fade, makeStyles, Theme } from \"@material-ui/core\";\nimport { grey } from \"@material-ui/core/colors\";\nimport { hasError } from \"../store/upload/getters\";\nimport { FileUpload, Upload } from \"../store/upload/types\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    progressContainer: {\n        position: 'relative',\n    },\n    progressBackground: {\n        color: grey['300'],\n    },\n    progress: {\n        position: 'absolute',\n        left: 0,\n    },\n}))\n\ninterface UploadProgressProps {\n    uploadOrFile: Upload | FileUpload;\n    size: number;\n};\nconst UploadProgress: React.FC<UploadProgressProps> = (props) => {\n    const { uploadOrFile, size } = props;\n    const classes = useStyles();\n    const error = hasError(uploadOrFile);\n\n    return (\n        <Fade in={uploadOrFile.progress < 1} timeout={{ enter: 100, exit: 2000 }}>\n            <div className={classes.progressContainer}>\n                <CircularProgress\n                    className={classes.progressBackground}\n                    variant={'static'}\n                    value={100}\n                    size={size}\n                />\n                <CircularProgress\n                    className={classes.progress}\n                    variant={'static'}\n                    value={error ? 0 : uploadOrFile.progress * 100}\n                    size={size}\n                />\n            </div>\n        </Fade>\n    );\n};\n\nexport default UploadProgress;\n","import * as Typings from \"./types\";\nimport { createActions, createReducer } from \"reduxsauce\";\nimport update from \"immutability-helper\";\n\nexport const { Types, Creators } = createActions<{\n    ADD_UPLOAD: string,\n    REMOVE_UPLOAD: string,\n    UPDATE_PROGRESS: string,\n    SET_UPLOAD_ERROR: string,\n\n}, {\n    addUpload(payload: Typings.AddUploadAction['payload']): Typings.AddUploadAction\n    removeUpload(payload: Typings.RemoveUploadAction['payload']): Typings.RemoveUploadAction\n    updateProgress(payload: Typings.UpdateProgressAction['payload']): Typings.UpdateProgressAction\n    setUploadError(payload: Typings.SetUploadErrorAction['payload']): Typings.SetUploadErrorAction\n\n}>\n    ({\n        addUpload: ['payload'],\n        removeUpload: ['payload'],\n        updateProgress: ['payload'],\n        setUploadError: ['payload'],\n    });\n\nexport const INITIAL_STATE: Typings.UploadState = {\n    uploads: [],\n};\n\nconst reducer = createReducer(INITIAL_STATE, {\n    [Types.ADD_UPLOAD]: addUpload,\n    [Types.REMOVE_UPLOAD]: removeUpload,\n    [Types.UPDATE_PROGRESS]: updateProgress,\n    [Types.SET_UPLOAD_ERROR]: setUploadError,\n});\n\nexport default reducer;\n\nfunction addUpload(state = INITIAL_STATE, action: Typings.AddUploadAction): Typings.UploadState {\n    if (!action.payload.files.length) { return state };\n\n    const index = findIndexUpload(state, action.payload.video.id);\n    if (index !== -1 && state.uploads[index].progress < 1) { return state };\n\n    const uploads = index === -1\n        ? state.uploads\n        : update(state.uploads, {\n            $splice: [[index, 1]]\n        });\n\n    return {\n        uploads: [\n            ...uploads,\n            {\n                video: action.payload.video,\n                progress: 0,\n                files: action.payload.files.map(file => ({\n                    fileField: file.fileField,\n                    filename: file.file.name,\n                    progress: 0\n                }))\n            }\n        ]\n    }\n}\n\nfunction removeUpload(state = INITIAL_STATE, action: Typings.RemoveUploadAction): Typings.UploadState {\n    const uploads = state.uploads.filter(upload => upload.video.id !== action.payload.id);\n    if (uploads.length === state.uploads.length) { return state }\n\n    return { uploads }\n}\n\nfunction updateProgress(state = INITIAL_STATE, action: Typings.UpdateProgressAction): Typings.UploadState {\n    const videoId = action.payload.video.id;\n    const fileField = action.payload.fileField;\n    const { indexUpload, indexFile } = findIndexUploadAndFile(state, videoId, fileField);\n\n    if (typeof indexUpload === \"undefined\" || typeof indexFile === \"undefined\") { return state }\n\n    const upload = state.uploads[indexUpload];\n    const file = upload.files[indexFile];\n\n    if (file.progress === action.payload.progress) { return state };\n\n    const uploads = update(state.uploads, {\n        [indexUpload]: {\n            $apply(upload) {\n                const files = update(upload.files, {\n                    [indexFile]: {\n                        $set: { ...file, progress: action.payload.progress }\n                    }\n                })\n                const progress = calculateGlobalProgress(files);\n                console.log(\"==>> updateProgess: \", { ...upload, progress, files });\n                return { ...upload, progress, files }\n            }\n        }\n    });\n\n    return { uploads }\n}\n\nfunction setUploadError(state = INITIAL_STATE, action: Typings.SetUploadErrorAction): Typings.UploadState {\n    const videoId = action.payload.video.id;\n    const fileField = action.payload.fileField;\n    const { indexUpload, indexFile } = findIndexUploadAndFile(state, videoId, fileField);\n\n    if (typeof indexUpload === \"undefined\" || typeof indexFile === \"undefined\") { return state }\n\n    const upload = state.uploads[indexUpload];\n    const file = upload.files[indexFile];\n\n    const uploads = update(state.uploads, {\n        [indexUpload]: {\n            files: {\n                [indexFile]: {\n                    $set: { ...file, error: action.payload.error, progress: 1 }\n                }\n            }\n        }\n    });\n\n    return { uploads }\n}\n\nfunction findIndexUploadAndFile(state: Typings.UploadState, videoId: string, fileField: string): { indexUpload?: number, indexFile?: number } {\n    const indexUpload = findIndexUpload(state, videoId);\n    if (indexUpload === -1) { return {} }\n\n    const files = state.uploads[indexUpload].files;\n    const indexFile = findIndexFile(files, fileField);\n\n    return indexFile === -1 ? {} : { indexUpload, indexFile };\n}\n\nfunction calculateGlobalProgress(files: Array<{ progress: number }>): number {\n    const countFiles = files.length;\n    if (!countFiles) { return 0 }\n\n    const sumProgess = files.reduce((sum, file) => sum + file.progress, 0);\n\n    return sumProgess / countFiles;\n}\n\nfunction findIndexUpload(state: Typings.UploadState, id: string): number {\n    return state.uploads.findIndex((upload) => (upload.video.id === id));\n}\n\nfunction findIndexFile(files: Array<{ fileField: string }>, fileField: string): number {\n    return files.findIndex((file) => (file.fileField === fileField));\n}\n","import { Fade, IconButton, ListItemSecondaryAction, makeStyles, Theme } from \"@material-ui/core\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { Upload } from \"../../store/upload/types\";\nimport { useDispatch } from \"react-redux\";\nimport { Creators } from \"../../store/upload\";\nimport { hasError, isFinished } from \"../../store/upload/getters\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useDebounce } from \"use-debounce/lib\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    successIcon: {\n        color: theme.palette.success.main\n    },\n    errorIcon: {\n        color: theme.palette.error.main\n    },\n}));\n\ninterface UploadActionProps {\n    upload: Upload;\n    hover: boolean;\n};\nconst UploadAction: React.FC<UploadActionProps> = (props) => {\n    const { upload, hover } = props;\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const error = hasError(upload);\n    const [show, setShow] = useState(false);\n    const [debouncedShow] = useDebounce(show, 2500);\n\n    useEffect(() => {\n        setShow(isFinished(upload))\n    }, [upload]);\n\n    return (\n        debouncedShow\n            ? (<Fade in={show} timeout={{ enter: 1000 }}>\n                <ListItemSecondaryAction>\n                    <span hidden={hover}>\n                        {\n                            upload.progress === 1 && !error && (\n                                <IconButton className={classes.successIcon} edge={'end'}>\n                                    <CheckCircleIcon />\n                                </IconButton>\n                            )\n                        }\n                        {\n                            error && (\n                                <IconButton className={classes.errorIcon} edge={'end'}>\n                                    <ErrorIcon />\n                                </IconButton>\n                            )\n                        }\n                    </span>\n                    <span hidden={!hover}>\n                        {\n                            <IconButton color={'primary'}\n                                edge={'end'}\n                                onClick={() => dispatch(Creators.removeUpload({ id: upload.video.id }))}>\n                                <DeleteIcon />\n                            </IconButton>\n                        }\n                    </span>\n                </ListItemSecondaryAction>\n            </Fade >)\n            : null\n    );\n};\n\nexport default UploadAction;\n","import { Divider, ListItem, ListItemIcon, ListItemText, makeStyles, Theme, Tooltip, Typography } from \"@material-ui/core\";\nimport MovieIcon from \"@material-ui/icons/Movie\"\nimport { useState } from \"react\";\nimport { hasError } from \"../../store/upload/getters\";\nimport { Upload } from \"../../store/upload/types\";\nimport UploadProgress from \"../UploadProgress\";\nimport UploadAction from \"./UploadAction\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    listItem: {\n        paddingTop: '7px',\n        paddingBottom: '7px',\n        height: '53px'\n    },\n    movieIcon: {\n        color: theme.palette.error.main,\n        minWidth: '40px'\n    },\n    listItemText: {\n        marginLeft: '6px',\n        marginRight: '24px',\n        color: theme.palette.text.secondary\n    },\n}));\n\ninterface UploadItemProps {\n    upload: Upload;\n};\n\nconst UploadItem: React.FC<UploadItemProps> = (props) => {\n    const { upload } = props;\n    const classes = useStyles();\n    const error = hasError(upload);\n    const [itemHover, setItemHover] = useState(false);\n\n    return (\n        <>\n            <Tooltip\n                disableFocusListener\n                disableTouchListener\n                title={\n                    error ? \"Não foi possível fazer o upload, clique para mais detalhes\" : \"\"\n                }\n                placement={'left'}\n            >\n                <ListItem\n                    className={classes.listItem}\n                    button\n                    onMouseOver={() => setItemHover(true)}\n                    onMouseLeave={() => setItemHover(false)}\n                >\n                    <ListItemIcon className={classes.movieIcon}>\n                        <MovieIcon />\n                    </ListItemIcon>\n                    <ListItemText\n                        className={classes.listItemText}\n                        primary={\n                            <Typography noWrap={true} variant={'subtitle2'} color={'inherit'}>\n                                {upload.video.title}\n                            </Typography>\n                        }\n                    />\n                    <UploadProgress size={30} uploadOrFile={upload} />\n                    <UploadAction upload={upload} hover={itemHover} />\n                </ListItem>\n            </Tooltip>\n            <Divider component='li' />\n        </>\n    );\n};\n\nexport default UploadItem;\n","import { Card, CardActions, Collapse, IconButton, List, makeStyles, Theme, Typography } from \"@material-ui/core\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport React, { useState } from \"react\";\nimport { useSnackbar } from \"notistack\";\nimport classNames from \"classnames\";\nimport UploadItem from \"./UploadItem\";\nimport { useSelector } from \"react-redux\";\nimport { Upload, UploadModule } from \"../../store/upload/types\";\nimport { countInProgress } from \"../../store/upload/getters\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    card: {\n        width: 450,\n    },\n    cardActionRoot: {\n        padding: '8px 8px 8px 16px',\n        backgroundColor: theme.palette.primary.main,\n    },\n    title: {\n        fontSize: 'bold',\n        color: theme.palette.primary.contrastText\n    },\n    icons: {\n        marginLeft: 'auto !important',\n        color: theme.palette.primary.contrastText\n\n    },\n    expand: {\n        transform: 'rotate(0deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest\n        })\n    },\n    expandOpen: {\n        transform: 'rotate(180deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest\n        })\n    },\n    list: {\n        paddingTop: 0,\n        paddingBottom: 0\n    },\n}));\n\ninterface SnackbarUploadProps {\n    id: string | number;\n};\n\nconst SnackbarUpload = React.forwardRef<any, SnackbarUploadProps>((props, ref) => {\n    const { id } = props;\n    const classes = useStyles();\n    const { closeSnackbar } = useSnackbar();\n    const [expanded, setExpanded] = useState(true);\n\n    const uploads = useSelector<UploadModule, Upload[]>(\n        (state) => state.upload.uploads\n    );\n\n    const totalInProgress = countInProgress(uploads);\n\n    return (\n        <Card ref={ref} className={classes.card}>\n            <CardActions classes={{ root: classes.cardActionRoot }}>\n                <Typography variant={\"subtitle2\"} className={classes.title}>\n                    Fazendo upload de {totalInProgress} vídeo(s)\n                </Typography>\n                <div className={classes.icons}>\n                    <IconButton\n                        color={\"inherit\"}\n                        onClick={() => setExpanded(!expanded)}\n                        className={classNames(classes.expand, { [classes.expandOpen]: !expanded })}\n                    >\n                        <ExpandMoreIcon />\n                    </IconButton>\n                    <IconButton\n                        color={\"inherit\"}\n                        onClick={() => closeSnackbar(id)}\n                    >\n                        <CloseIcon />\n                    </IconButton>\n                </div>\n            </CardActions>\n            <Collapse in={expanded}>\n                <List className={classes.list}>\n                    {\n                        uploads.map((upload, key) => (\n                            <UploadItem upload={upload} key={key} />\n                        ))\n                    }\n                </List>\n            </Collapse>\n        </Card>\n    );\n});\n\nexport default SnackbarUpload;\n","import { Grid, GridProps, makeStyles, Theme } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    root: {\n        backgroundColor: '#f1f1f1',\n        borderRadius: '4px',\n        padding: theme.spacing(1, 1),\n        color: theme.palette.secondary.main\n    },\n}));\n\n// const useStyles = makeStyles((theme: Theme) =>\n//     createStyles({\n//         root: {\n//             backgroundColor: '#f1f1f1',\n//             borderRadius: '4px',\n//             padding: theme.spacing(1, 1),\n//             color: theme.palette.secondary.main\n//         },\n//     }),\n// );\n\ninterface GridSelectedProps extends GridProps {\n\n};\n\nconst GridSelected: React.FC<GridSelectedProps> = (props) => {\n    const classes = useStyles();\n    return <Grid container wrap={\"wrap\"} className={classes.root} {...props}>\n        {props.children}\n    </Grid>\n};\n\nexport default GridSelected;\n","import { Grid, GridProps, IconButton } from \"@material-ui/core\";\nimport DeleteIcon from '@material-ui/icons/Delete';\n\ninterface GridSelectedItemProps extends GridProps {\n    onDelete: () => void\n};\n\nconst GridSelectedItem: React.FC<GridSelectedItemProps> = (props) => {\n    const { onDelete, children, ...others } = props;\n    return (\n        <Grid item {...others} >\n            <Grid container alignItems={\"center\"} spacing={3}>\n                <Grid item xs={1}>\n                    <IconButton size={\"small\"} color={\"inherit\"} onClick={onDelete}>\n                        <DeleteIcon />\n                    </IconButton>\n                </Grid>\n                <Grid item xs={10} md={11}>\n                    {children}\n                </Grid>\n            </Grid>\n        </Grid>\n    );\n};\n\nexport default GridSelectedItem;\n","import { Autocomplete, AutocompleteProps, UseAutocompleteSingleProps } from '@material-ui/lab'\nimport { CircularProgress, TextField, TextFieldProps } from '@material-ui/core';\nimport React, { RefAttributes, useEffect, useImperativeHandle, useState } from 'react';\nimport { useDebounce } from 'use-debounce';\n\ninterface AsyncAutocompleteProps extends RefAttributes<AsyncAutoCompleteComponent> {\n    fetchOptions: (searchText: string) => Promise<any>;\n    debouncedTime?: number;\n    TextFieldProps?: TextFieldProps;\n    AutocompleteProps?: Omit<AutocompleteProps<any>, 'renderInput'> & UseAutocompleteSingleProps<any>;\n};\n\nexport interface AsyncAutoCompleteComponent {\n    clear: () => void;\n}\n\nconst AsyncAutocomplete = React.forwardRef<AsyncAutoCompleteComponent, AsyncAutocompleteProps>((props, ref) => {\n    const { AutocompleteProps, debouncedTime = 300, fetchOptions } = props;\n    const { freeSolo = false, onOpen, onClose, onInputChange } = AutocompleteProps as any;\n    const [open, setOpen] = useState(false);\n    const [searchText, setSearchText] = useState(\"\");\n    const [debouncedSearchText] = useDebounce(searchText, debouncedTime);\n    const [loading, setLoading] = useState(false);\n    const [options, setOptions] = useState([]);\n    const textFieldProps: TextFieldProps = {\n        margin: 'normal',\n        variant: 'outlined',\n        fullWidth: true,\n        InputLabelProps: { shrink: true },\n        ...(props.TextFieldProps && { ...props.TextFieldProps })\n    };\n\n    const autocompleteProps: AutocompleteProps<any> = {\n        loadingText: 'Carregando...',\n        noOptionsText: 'Nenhum item encontrado',\n        ...(AutocompleteProps && { ...AutocompleteProps }),\n        open,\n        options,\n        loading,\n        inputValue: searchText,\n        onOpen(event) {\n            setOpen(true);\n            onOpen && onOpen(event);\n        },\n        onClose(event) {\n            setOpen(false);\n            onClose && onClose(event);\n        },\n        onInputChange(event, value, reason) {\n            setSearchText(value);\n            onInputChange && onInputChange(event, value, reason);\n        },\n        renderInput: params => (\n            <TextField\n                {...params}\n                {...textFieldProps}\n                InputProps={{\n                    ...params.InputProps,\n                    endAdornment: (\n                        <>\n                            {loading && <CircularProgress color={'inherit'} size={20} />}\n                            {params.InputProps.endAdornment}\n                        </>\n                    )\n                }}\n            />\n        )\n    }\n\n    useEffect(() => {\n        if (open || freeSolo) return;\n        setOptions([]);\n        // if (!open && !freeSolo) {\n        //     setOptions([]);\n        // }\n    }, [open, freeSolo]);\n\n    useEffect(() => {\n        if (!open) {\n            return;\n        }\n        if (debouncedSearchText === \"\" && freeSolo) {\n            return;\n        }\n        let isSubscribed = true;\n        (async function () {\n            setLoading(true);\n            try {\n                const data = await fetchOptions(debouncedSearchText);\n                if (isSubscribed) {\n                    setOptions(data);\n                }\n            } finally {\n                setLoading(false);\n            }\n        })();\n        return () => {\n            isSubscribed = false;\n        }\n    }, [freeSolo, debouncedSearchText, open, fetchOptions]);\n    useImperativeHandle(ref, () => ({\n        clear: () => {\n            setSearchText(\"\");\n            setOptions([]);\n        }\n    }));\n    return (\n        <Autocomplete {...autocompleteProps} />\n    );\n});\n\nexport default AsyncAutocomplete;\n","import { useSnackbar } from \"notistack\";\n\nconst useCollectionManager = (collection: any[], setCollection: (item) => void) => {\n    const { enqueueSnackbar } = useSnackbar();\n    return {\n        addItem(item) {\n            if (!item || item === \"\") return;\n            const exists = collection.find(i => i.id === item.id);\n            if (exists) {\n                enqueueSnackbar('Item já adicionado', { variant: 'info' });\n                return;\n            }\n            collection.unshift(item);\n            setCollection(collection);\n        },\n        removeItem(item) {\n            const index = collection.findIndex(i => i.id === item.id);\n            if (index === -1) return;\n            collection.splice(index, 1);\n            setCollection(collection);\n        }\n    }\n}\n\nexport default useCollectionManager;\n","// import { useSnackbar } from 'notistack';\n// import axios from 'axios';\n\n// const useHttpHandled = () => {\n//     const { enqueueSnackbar } = useSnackbar();\n//     return async (request: Promise<any>) => {\n//         try {\n//             const { data } = await request;\n//             return data;\n//         } catch (error) {\n//             if (!axios.isCancel(error)) {\n//                 enqueueSnackbar(\n//                     `Não foi possível carregar as informações`,\n//                     { variant: 'error' }\n//                 );\n//             }\n//             throw error;\n//         }\n//     }\n// }\n\n// export default useHttpHandled;\nimport { useSnackbar } from \"notistack\";\nimport axios from 'axios';\nimport { useCallback } from \"react\";\n\nconst useHttpHandled = () => {\n    const { enqueueSnackbar } = useSnackbar(); //notistack\n    return useCallback(async (request: Promise<any>) => {\n        try {\n            const { data } = await request;\n            return data;\n        } catch (e) {\n            console.error(e);\n            if (!axios.isCancel(e)) {\n                enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    { variant: 'error', }\n                );\n            }\n            throw e;\n        }\n    }, [enqueueSnackbar]);\n};\n\nexport default useHttpHandled;","import { FormControl, FormControlProps, FormHelperText, Typography } from \"@material-ui/core\";\nimport React, { MutableRefObject, useCallback, useImperativeHandle, useRef } from \"react\";\nimport { RefAttributes } from \"react\";\nimport GridSelected from \"../../../components/GridSelected\";\nimport GridSelectedItem from \"../../../components/GridSelectedItem\";\nimport AsyncAutocomplete, { AsyncAutoCompleteComponent } from \"../../../components/Table/AsyncAutocomplete\";\nimport useCollectionManager from \"../../../hooks/useCollectionManager\";\nimport useHttpHandled from \"../../../hooks/useHttpHandled\";\nimport castMemberHttp from \"../../../util/http/cast-member-http\";\n\ninterface CastMemberFieldProps extends RefAttributes<CastMemberFieldProps> {\n    castMembers: any[]\n    setCastMembers: (castMembers) => void\n    error: any\n    disabled?: boolean\n    FormControlProps?: FormControlProps\n};\nexport interface CastMemberFieldComponent {\n    clear: () => void\n}\nconst CastMemberField = React.forwardRef<CastMemberFieldComponent, CastMemberFieldProps>((props, ref) => {\n    const {\n        castMembers,\n        setCastMembers,\n        error,\n        disabled\n    } = props;\n    const autocompleteHttp = useHttpHandled();\n    const { addItem, removeItem } = useCollectionManager(castMembers, setCastMembers);\n    const autocompleteRef = useRef() as MutableRefObject<AsyncAutoCompleteComponent>;\n\n    // async function fetchOptions(searchText) {\n    //     return autocompleteHttp(\n    //         castMemberHttp.\n    //             list({\n    //                 queryParams: {\n    //                     search: searchText, all: \"\", sort: \"name\", dir: \"asc\"\n    //                 }\n    //             })\n    //     ).then((data) => data.data)\n    //         .catch(error => console.error(error));\n    // }\n\n    const fetchOptions = useCallback((searchText) => {\n        return autocompleteHttp(\n            castMemberHttp\n                .list({\n                    queryParams: {\n                        search: searchText, all: \"\", sort: \"name\", dir: \"asc\"\n                    }\n                })\n        ).then(data => data.data)\n    }, [autocompleteHttp]);\n\n    useImperativeHandle(ref, () => ({\n        clear: () => autocompleteRef.current.clear()\n    }));\n\n    return (\n        <>\n            <AsyncAutocomplete\n                ref={autocompleteRef}\n                fetchOptions={fetchOptions}\n                AutocompleteProps={{\n                    // autoSelect: true,\n                    clearOnEscape: true,\n                    freeSolo: true,\n                    getOptionLabel: option => option.name,\n                    getOptionSelected: (option, value) => option.id === value.id,\n                    onChange: (event, value) => addItem(value),\n                    disabled\n                }}\n                TextFieldProps={{\n                    label: 'Membros de elencos',\n                    error: error !== undefined\n                }}\n            />\n            <FormControl\n                margin={'normal'}\n                fullWidth\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                <GridSelected>\n                    {castMembers.map((castMember, key) => (\n                        <GridSelectedItem\n                            key={key}\n                            onDelete={() => removeItem(castMember)}\n                            xs={6}\n                        >\n                            <Typography noWrap={true}>\n                                {castMember.name}\n                            </Typography>\n                        </GridSelectedItem>\n                    ))}\n                </GridSelected>\n                {\n                    error && <FormHelperText >{error.message}</FormHelperText>\n                }\n            </FormControl>\n        </>\n    );\n});\nexport default CastMemberField;\n","import { Genre, Category } from \"./models\";\n\nexport function getGenresFromCategory(genres: Genre[], category: Category) {\n    return genres.filter(\n        genre => genre.categories.filter(cat => cat.id === category.id).length !== 0\n    )\n}\n","import { FormControl, FormControlProps, FormHelperText, makeStyles, Theme, Typography, useTheme } from \"@material-ui/core\";\nimport { grey } from \"@material-ui/core/colors\";\nimport React, { MutableRefObject, useCallback, useImperativeHandle, useRef } from \"react\";\nimport { RefAttributes } from \"react\";\nimport GridSelected from \"../../../components/GridSelected\";\nimport GridSelectedItem from \"../../../components/GridSelectedItem\";\nimport AsyncAutocomplete, { AsyncAutoCompleteComponent } from \"../../../components/Table/AsyncAutocomplete\";\nimport useCollectionManager from \"../../../hooks/useCollectionManager\";\nimport useHttpHandled from \"../../../hooks/useHttpHandled\";\nimport categoryHttp from \"../../../util/http/category-http\";\nimport { getGenresFromCategory } from \"../../../util/model-filter\";\nimport { Genre } from \"../../../util/models\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    genresSubtitle: {\n        color: grey[\"800\"],\n        fontSize: '0.8rem'\n    },\n}));\n\ninterface CategoryFieldProps extends RefAttributes<CategoryFieldProps> {\n    categories: any[]\n    setCategories: (categories) => void\n    genres: Genre[]\n    error: any\n    disabled?: boolean\n    FormControlProps?: FormControlProps\n};\nexport interface CategoryFieldComponent {\n    clear: () => void\n}\nconst CategoryField = React.forwardRef<CategoryFieldComponent, CategoryFieldProps>((props, ref) => {\n    const { categories, setCategories, genres, error, disabled } = props;\n    const classes = useStyles();\n    const autocompleteHttp = useHttpHandled();\n    const { addItem, removeItem } = useCollectionManager(categories, setCategories);\n    const autocompleteRef = useRef() as MutableRefObject<AsyncAutoCompleteComponent>;\n    const theme = useTheme();\n\n    // async function fetchOptionsxxxx(searchText) {\n    //     return autocompleteHttp(\n    //         categoryHttp.\n    //             list({\n    //                 queryParams: {\n    //                     genres: genres.map(genre => genre.id).join(','),\n    //                     all: \"\"\n    //                 }\n    //             })\n    //     ).then((data) => data.data).catch(error => console.error(error));\n    // }\n\n    const fetchOptions = useCallback((searchText) => {\n        return autocompleteHttp(\n            categoryHttp\n                .list({\n                    queryParams: {\n                        genres: genres.map(genre => genre.id).join(','),\n                        all: \"\"\n                    }\n                })\n        ).then(data => data.data)\n    }, [autocompleteHttp, genres]);\n\n    useImperativeHandle(ref, () => ({\n        clear: () => autocompleteRef.current.clear()\n    }));\n    return (\n        <>\n            <AsyncAutocomplete\n                ref={autocompleteRef}\n                fetchOptions={fetchOptions}\n                AutocompleteProps={{\n                    // autoSelect: true,\n                    clearOnEscape: true,\n                    freeSolo: false,\n                    getOptionLabel: option => option.name,\n                    getOptionSelected: (option, value) => option.id === value.id,\n                    onChange: (event, value) => addItem(value),\n                    disabled: disabled === true || !genres.length\n                }}\n                TextFieldProps={{\n                    label: 'Categorias',\n                    error: error !== undefined\n                }}\n            />\n            <FormHelperText style={{ height: theme.spacing(3) }}>\n                Escolha pelo menos uma categoria de cada gênero\n            </FormHelperText>\n            <FormControl\n                margin={'normal'}\n                fullWidth\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                <GridSelected>\n                    {\n                        categories.map((category, key) => {\n                            const genresFromCategory = getGenresFromCategory(genres, category)\n                                .map(genre => genre.name)\n                                .join(',');\n                            return (\n                                <GridSelectedItem\n                                    key={key}\n                                    onDelete={() => removeItem(category)} xs={12}\n                                >\n                                    <Typography noWrap={true}>\n                                        {category.name}\n                                    </Typography>\n                                    <Typography noWrap={true} className={classes.genresSubtitle}>\n                                        Gêneros: {genresFromCategory}\n                                    </Typography>\n                                </GridSelectedItem>\n                            )\n                        })\n                    }\n                </GridSelected>\n                {\n                    error && <FormHelperText >{error.message}</FormHelperText>\n                }\n            </FormControl>\n        </>\n    );\n});\nexport default CategoryField;\n","import { FormControl, FormControlProps, FormHelperText, Typography, useTheme } from \"@material-ui/core\";\nimport React, { MutableRefObject, RefAttributes, useCallback, useImperativeHandle, useRef } from \"react\";\nimport GridSelected from \"../../../components/GridSelected\";\nimport GridSelectedItem from \"../../../components/GridSelectedItem\";\nimport AsyncAutocomplete, { AsyncAutoCompleteComponent } from \"../../../components/Table/AsyncAutocomplete\";\nimport useCollectionManager from \"../../../hooks/useCollectionManager\";\nimport useHttpHandled from \"../../../hooks/useHttpHandled\";\nimport genreHttp from \"../../../util/http/genre-http\";\nimport { getGenresFromCategory } from \"../../../util/model-filter\";\n\ninterface GenreFieldProps extends RefAttributes<GenreFieldProps> {\n    genres: any[]\n    setGenres: (genres) => void\n    categories: any[]\n    setCategories: (categories) => void\n    error: any\n    disabled?: boolean\n    FormControlProps?: FormControlProps\n};\nexport interface GenreFieldComponent {\n    clear: () => void\n}\nconst GenreField = React.forwardRef<GenreFieldComponent, GenreFieldProps>((props, ref) => {\n    const {\n        genres,\n        setGenres,\n        categories,\n        setCategories,\n        error,\n        disabled\n    } = props;\n    const autocompleteHttp = useHttpHandled();\n    const { addItem, removeItem } = useCollectionManager(genres, setGenres);\n    const autocompleteRef = useRef() as MutableRefObject<AsyncAutoCompleteComponent>;\n    const { removeItem: removeCategory } = useCollectionManager(categories, setCategories);\n    const theme = useTheme();\n\n    // async function fetchOptions(searchText) {\n    //     return autocompleteHttp(\n    //         genreHttp.\n    //             list({\n    //                 queryParams: {\n    //                     search: searchText, all: \"\"\n    //                 }\n    //             })\n    //     ).then((data) => data.data)\n    //         .catch(error => console.error(error));\n    // }\n\n    const fetchOptions = useCallback((searchText) => {\n        return autocompleteHttp(\n            genreHttp\n                .list({\n                    queryParams: {\n                        search: searchText, all: \"\"\n                    }\n                })\n        ).then(data => data.data)\n    }, [autocompleteHttp]);\n\n    useImperativeHandle(ref, () => ({\n        clear: () => autocompleteRef.current.clear()\n    }));\n    return (\n        <>\n            <AsyncAutocomplete\n                ref={autocompleteRef}\n                fetchOptions={fetchOptions}\n                AutocompleteProps={{\n                    // autoSelect: true,\n                    clearOnEscape: true,\n                    freeSolo: true,\n                    getOptionLabel: option => option.name,\n                    getOptionSelected: (option, value) => option.id === value.id,\n                    onChange: (event, value) => addItem(value),\n                    disabled\n                }}\n                TextFieldProps={{\n                    label: 'Gêneros',\n                    error: error !== undefined\n                }}\n            />\n            <FormHelperText style={{ height: theme.spacing(3) }}>\n                Escolha os gêneros do vídeo\n            </FormHelperText>\n            <FormControl\n                margin={'normal'}\n                fullWidth\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                <GridSelected>\n                    {genres.map((genre, key) => (\n                        <GridSelectedItem\n                            key={key}\n                            onDelete={() => {\n                                const categoriesWithOneGenre = categories\n                                    .filter(category => {\n                                        const genresFromCategory = getGenresFromCategory(genres, category);\n                                        return genresFromCategory.length === 1 && genresFromCategory[0].id === genre.id\n                                    })\n                                categoriesWithOneGenre.forEach(cat => removeCategory(cat));\n                                removeItem(genre)\n                            }}\n                            xs={12}\n                        >\n                            <Typography noWrap={true}>\n                                {genre.name}\n                            </Typography>\n                        </GridSelectedItem>\n                    ))}\n                </GridSelected>\n                {\n                    error && <FormHelperText >{error.message}</FormHelperText>\n                }\n            </FormControl>\n        </>\n    );\n});\nexport default GenreField;\n","import { makeStyles, Typography } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n    root: {\n        width: '36px',\n        height: '36px',\n        fontSize: '1.2em',\n        color: '#fff',\n        borderRadius: '4px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    }\n});\n\nconst backgroundColors = {\n    'L': '#39B549',\n    '10': '#20A3D4',\n    '12': '#E79738',\n    '14': '#E35E00',\n    '16': '#d00003',\n    '18': '#000000',\n};\n\ninterface RatingProps {\n    rating: 'L' | '10' | '12' | '14' | '16' | '18'\n\n};\n\nconst Rating: React.FC<RatingProps> = (props) => {\n    const classes = useStyles();\n    return (\n        <Typography\n            className={classes.root}\n            style={{\n                backgroundColor: backgroundColors[props.rating]\n            }}\n        >\n            {props.rating}\n        </Typography>\n    );\n};\n\nexport default Rating;\n","import { Box, FormControl, FormControlLabel, FormControlLabelProps, FormControlProps, FormHelperText, FormLabel, Radio, RadioGroup } from \"@material-ui/core\";\nimport Rating from \"../../../components/Rating\";\n\nexport interface RatingFieldProps {\n    value: string;\n    setValue: (value: string) => void;\n    error: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps;\n}\n\nconst ratings: FormControlLabelProps[] = [\n    { value: \"L\", control: <Radio color=\"primary\" />, label: <Rating rating={'L'} />, labelPlacement: \"top\" },\n    { value: \"10\", control: <Radio color=\"primary\" />, label: <Rating rating={'10'} />, labelPlacement: \"top\" },\n    { value: \"12\", control: <Radio color=\"primary\" />, label: <Rating rating={'12'} />, labelPlacement: \"top\" },\n    { value: \"14\", control: <Radio color=\"primary\" />, label: <Rating rating={'14'} />, labelPlacement: \"top\" },\n    { value: \"18\", control: <Radio color=\"primary\" />, label: <Rating rating={'18'} />, labelPlacement: \"top\" },\n];\n\nconst RatingField: React.FC<RatingFieldProps> = (props) => {\n    const { value, setValue, error, disabled } = props;\n    return (\n        <FormControl\n            error={error !== undefined}\n            disabled={disabled === true}\n            {...props.FormControlProps}\n        >\n            <FormLabel component=\"legend\">Classificação</FormLabel>\n            <Box paddingTop={1}>\n                <RadioGroup\n                    name=\"rating\"\n                    onChange={(e) => {\n                        setValue(e.target.value);\n                    }}\n                    value={value}\n                    row={true}\n                >\n                    {\n                        ratings.map(\n                            (props, key) => <FormControlLabel key={key} {...props} />\n                        )\n                    }\n                </RadioGroup>\n            </Box>\n            {\n                error && <FormHelperText >{error.message}</FormHelperText>\n            }\n        </FormControl>\n    );\n};\n\nexport default RatingField;\n","import { InputAdornment, TextField, TextFieldProps } from \"@material-ui/core\";\nimport React, { RefAttributes, useImperativeHandle } from \"react\";\nimport { MutableRefObject, useRef, useState } from \"react\";\n\nexport interface InputFileProps extends RefAttributes<InputFileComponent> {\n    ButtonFile: React.ReactNode;\n    InputFileProps?: React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>;\n    TextFieldProps?: TextFieldProps;\n}\n\nexport interface InputFileComponent {\n    openWindow: () => void;\n    clear: () => void;\n}\n\nconst InputFile = React.forwardRef<InputFileComponent, InputFileProps>((props, ref) => {\n    const fileRef = useRef() as MutableRefObject<HTMLInputElement>;\n    const [filename, setFilename] = useState('');\n\n    const textFieldProps: TextFieldProps = {\n        variant: 'outlined',\n        ...props.TextFieldProps,\n        InputProps: {\n            ...(\n                props.TextFieldProps && props.TextFieldProps.InputProps &&\n                { ...props.TextFieldProps.InputProps }\n            ),\n            readOnly: true,\n            endAdornment: (\n                <InputAdornment position={'end'}>\n                    {props.ButtonFile}\n                </InputAdornment>\n            )\n        },\n        value: filename\n    }\n\n    const inputFileProps: React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement> = {\n        ...props.InputFileProps,\n        hidden: true,\n        ref: fileRef,\n        onChange(event) {\n            const files = event.target.files;\n            if (files && files.length) {\n                setFilename(\n                    Array.from(files).map(file => file.name).join(', ')\n                )\n            }\n            if (props.InputFileProps && props.InputFileProps.onChange) {\n                props.InputFileProps.onChange(event)\n            }\n        }\n    }\n\n    useImperativeHandle(ref, () => ({\n        openWindow: () => fileRef.current.click(),\n        clear: () => setFilename(\"\")\n    }))\n\n    return (\n        <>\n            <input type=\"file\" {...inputFileProps} />\n            <TextField {...textFieldProps} />\n        </>\n    );\n});\n\nexport default InputFile","import { Button, FormControl, FormControlProps } from \"@material-ui/core\";\nimport InputFile, { InputFileComponent } from \"../../../components/InputFile\";\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport { MutableRefObject, RefAttributes, useImperativeHandle, useRef } from \"react\";\nimport React from \"react\";\n\n\nexport interface UploadFieldProps extends RefAttributes<UploadFieldComponent> {\n    accept: string,\n    label: string;\n    setValue: (value: string) => void;\n    error?: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps;\n}\n\nexport interface UploadFieldComponent {\n    clear: () => void\n}\n\nconst UploadField = React.forwardRef<UploadFieldComponent, UploadFieldProps>((props, ref) => {\n    const fileRef = useRef() as MutableRefObject<InputFileComponent>;\n    const { accept, label, setValue, error, disabled } = props;\n    useImperativeHandle(ref, () => ({\n        clear: () => fileRef.current.clear()\n    }));\n    return (\n        <FormControl\n            error={error !== undefined}\n            disabled={disabled === true}\n            fullWidth\n            margin=\"normal\"\n            {...props.FormControlProps}\n        >\n            <InputFile\n                ref={fileRef}\n                TextFieldProps={{\n                    label: label,\n                    InputLabelProps: { shrink: true },\n                    style: { backgroundColor: '#fff' }\n                }}\n                InputFileProps={{\n                    accept,\n                    onChange(event) {\n                        const files = event.target.files as any;\n                        files.length && setValue(files[0])\n                    }\n                }}\n                ButtonFile={\n                    <Button\n                        endIcon={<CloudUploadIcon />}\n                        variant={'contained'}\n                        color={'primary'}\n                        onClick={() => fileRef.current.openWindow()}\n                    >\n                        Adicionar\n                    </Button>\n                }\n            />\n        </FormControl>\n    );\n});\n\nexport default UploadField;\n","import { Card, CardContent, Checkbox, FormControlLabel, Grid, TextField, Theme, Typography, useMediaQuery, useTheme } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { omit, zipObject } from \"lodash\";\nimport { useSnackbar } from \"notistack\";\nimport { createRef, MutableRefObject, useCallback, useContext, useEffect, useRef, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router\";\nimport DefaultForm from \"../../../components/DefaultForm\";\nimport { InputFileComponent } from \"../../../components/InputFile\";\nimport LoadingContext from \"../../../components/loading/LoadingContext\";\nimport SnackbarUpload from \"../../../components/SnackbarUpload\";\nimport SubmitActions from \"../../../components/SubmitActions\";\nimport useSnackbarFormError from \"../../../hooks/useSnackbarFormError\";\nimport { Creators } from \"../../../store/upload\";\nimport { FileInfo } from \"../../../store/upload/types\";\nimport videoHttp from \"../../../util/http/video-http\";\nimport { Video, VideoFileFieldsMap } from \"../../../util/models\";\nimport * as yup from '../../../util/vendor/yup';\nimport CastMemberField, { CastMemberFieldComponent } from \"./CastMemberField\";\nimport CategoryField, { CategoryFieldComponent } from \"./CategoryField\";\nimport GenreField, { GenreFieldComponent } from \"./GenreField\";\nimport RatingField from \"./RatingField\";\nimport UploadField from \"./UploadField\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    cardUpload: {\n        borderRadius: \"4px\",\n        backgroundColor: \"#f5f5f5\",\n        margin: theme.spacing(2, 0)\n    },\n    cardOpened: {\n        borderRadius: \"4px\",\n        backgroundColor: \"#f5f5f5\"\n    },\n    cardContentOpened: {\n        paddingBottom: theme.spacing(2) + 'px important'\n    }\n}));\n\nconst validationSchema = yup.object().shape({\n    title: yup.string()\n        .label('Título')\n        .required()\n        .max(255),\n    description: yup.string()\n        .label('Sinopse')\n        .required(),\n    year_launched: yup.number()\n        .label('Ano de lançamento')\n        .required()\n        .min(1),\n    duration: yup.number()\n        .label('Duração')\n        .required()\n        .min(1),\n    cast_members: yup.array()\n        .label('Membros de elencos')\n        .min(1),\n    genres: yup.array()\n        .label('Gêneros')\n        .min(1)\n        .test({\n            message: 'Cada gênero escolhido precisa ter pelo menos uma categoria selecionada',\n            test(value: any) { //array genres [{name, categories: []}]\n                return value.every(\n                    v => v.categories.filter(\n                        cat => this.parent.categories.map(c => c.id).includes(cat.id)\n                    ).length !== 0\n                );\n            }\n        }),\n    categories: yup.array()\n        .label('Categorias')\n        .min(1),\n    rating: yup.string()\n        .label('Classificação')\n        .required(),\n});\n\nconst fileFields = Object.keys(VideoFileFieldsMap);\n\nexport const Form = () => {\n    const {\n        register,\n        handleSubmit,\n        getValues,\n        setValue,\n        errors,\n        reset,\n        watch,\n        triggerValidation,\n        formState\n    } = useForm<{\n        title,\n        description,\n        year_launched,\n        duration,\n        rating,\n        cast_members,\n        genres,\n        categories,\n        opened\n    }>({\n        validationSchema,\n        defaultValues: {\n            rating: null,\n            cast_members: [],\n            genres: [],\n            categories: [],\n            opened: false,\n        }\n    });\n    useSnackbarFormError(formState.submitCount, errors);\n    const { enqueueSnackbar } = useSnackbar();\n    const history = useHistory();\n    const { id }: any = useParams();\n    const [video, setVideo] = useState<Video | null>(null);\n    const loading = useContext(LoadingContext);\n    const theme = useTheme();\n    const isGreaterMd = useMediaQuery(theme.breakpoints.up('md'));\n    const castMemberRef = useRef() as MutableRefObject<CastMemberFieldComponent>;\n    const genreRef = useRef() as MutableRefObject<GenreFieldComponent>;\n    const categoryRef = useRef() as MutableRefObject<CategoryFieldComponent>;\n    const uploadsRef = useRef(\n        zipObject(fileFields, fileFields.map(() => createRef()))\n    ) as MutableRefObject<{ [key: string]: MutableRefObject<InputFileComponent> }>;\n    const classes = useStyles();\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        [\n            'rating',\n            'opened',\n            'cast_members',\n            'genres',\n            'categories',\n            ...fileFields\n        ].forEach(name => register({ name }));\n    }, [register]);\n\n    const resetForm = useCallback((data) => {\n        Object.keys(uploadsRef.current).forEach(\n            field => uploadsRef.current[field].current.clear()\n        );\n        castMemberRef.current.clear();\n        genreRef.current.clear();\n        categoryRef.current.clear();\n        reset(data);\n    }, [castMemberRef, categoryRef, genreRef, reset, uploadsRef]);\n\n    useEffect(() => {\n        if (!id) {\n            return\n        }\n        let isSubscribed = true;\n\n        (async () => {\n            try {\n                const { data } = await videoHttp.get(id);\n                if (isSubscribed) {\n                    setVideo(data.data);\n                    // reset(data.data);\n                    resetForm(data.data);\n                }\n            } catch (error) {\n                console.error(error);\n                enqueueSnackbar(\n                    `Não foi possível encontrar o vídeo: ${id}`,\n                    { variant: 'error' }\n                );\n            }\n        })();\n\n        return () => {\n            isSubscribed = false;\n        }\n\n    }, [id, resetForm, enqueueSnackbar]);\n\n    async function onSubmit(formData, event) {\n        // const sendData = omit(formData, 'cast_members', 'genres', 'categories', ...fileFields);\n        const sendData = omit(\n            formData,\n            [...fileFields, 'cast_members', 'genres', 'categories']\n        );\n        sendData['cast_members_id'] = formData.cast_members.map(castMember => castMember.id);\n        sendData['genres_id'] = formData.genres.map(genre => genre.id);\n        sendData['categories_id'] = formData.categories.map(category => category.id);\n        try {\n            const http = !video\n                ? videoHttp.create(sendData)\n                : videoHttp.update(video.id, sendData);\n            const { data } = await http;\n            enqueueSnackbar(\n                'Vídeo salvo com sucesso',\n                { variant: 'success' }\n            )\n            uploadFiles(data.data);\n            id && resetForm(video);\n            setTimeout(() => {\n                event\n                    ? (\n                        id\n                            ? history.replace(`/videos/${data.data.id}/edit`)\n                            : history.push(`/videos/${data.data.id}/edit`)\n                    )\n                    : history.push('/videos')\n            })\n        } catch (error) {\n            console.error(error);\n            enqueueSnackbar(\n                'Não foi possível gravar o vídeo',\n                { variant: 'error' }\n            );\n        }\n    }\n\n    function uploadFiles(video: Video) {\n        const files: FileInfo[] = fileFields\n            .filter(fileField => getValues()[fileField])\n            .map(fileField => ({ fileField, file: getValues()[fileField] }));\n\n        if (!files.length) {\n            return\n        }\n\n        dispatch(Creators.addUpload({ video, files }));\n\n        enqueueSnackbar('', {\n            key: 'snackbar-upload',\n            persist: true,\n            anchorOrigin: {\n                vertical: 'bottom',\n                horizontal: 'right'\n            },\n            content: (key, message) => {\n                const id = key as any;\n                return (\n                    <SnackbarUpload id={id} />\n                )\n            }\n        });\n    }\n\n    return (\n        <DefaultForm\n            GridItemProps={{ xs: 12 }}\n            onSubmit={handleSubmit(onSubmit)}\n        >\n            <Grid container spacing={5}>\n                <Grid item xs={12} md={6}>\n                    <TextField\n                        name=\"title\"\n                        label=\"Título\"\n                        variant=\"outlined\"\n                        fullWidth\n                        inputRef={register}\n                        disabled={loading}\n                        InputLabelProps={{ shrink: true }}\n                        error={errors.title !== undefined}\n                        helperText={errors.title && errors.title.message}\n                    />\n                    <TextField\n                        name=\"description\"\n                        label=\"Sinopse\"\n                        multiline\n                        rows=\"4\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        fullWidth\n                        inputRef={register}\n                        disabled={loading}\n                        InputLabelProps={{ shrink: true }}\n                        error={errors.description !== undefined}\n                        helperText={errors.description && errors.description.message}\n                    />\n                    <Grid container spacing={1}>\n                        <Grid item xs={6}>\n                            <TextField\n                                name=\"year_launched\"\n                                label=\"Ano de lançamento\"\n                                type=\"number\"\n                                margin=\"normal\"\n                                variant=\"outlined\"\n                                fullWidth\n                                inputRef={register}\n                                disabled={loading}\n                                InputLabelProps={{ shrink: true }}\n                                error={errors.year_launched !== undefined}\n                                helperText={errors.year_launched && errors.year_launched.message}\n                            />\n                        </Grid>\n                        <Grid item xs={6}>\n                            <TextField\n                                name=\"duration\"\n                                label=\"Duração\"\n                                type=\"number\"\n                                margin=\"normal\"\n                                variant=\"outlined\"\n                                fullWidth\n                                inputRef={register}\n                                disabled={loading}\n                                InputLabelProps={{ shrink: true }}\n                                error={errors.duration !== undefined}\n                                helperText={errors.duration && errors.duration.message}\n                            />\n                        </Grid>\n                    </Grid>\n                    <Grid container spacing={2}>\n                        <Grid item xs={12}>\n                            <CastMemberField\n                                ref={castMemberRef}\n                                castMembers={watch('cast_members')}\n                                setCastMembers={(value) => setValue('cast_members', value, true)}\n                                error={errors.cast_members}\n                                disabled={loading}\n                            />\n                        </Grid>\n                    </Grid>\n                    <Grid container spacing={2}>\n                        <Grid item xs={12} md={6}>\n                            <GenreField\n                                ref={genreRef}\n                                genres={watch('genres')}\n                                setGenres={(value) => setValue('genres', value, true)}\n                                categories={watch('categories')}\n                                setCategories={(value) => setValue('categories', value, true)}\n                                error={errors.genres}\n                                disabled={loading}\n                            />\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <CategoryField\n                                ref={categoryRef}\n                                categories={watch('categories')}\n                                setCategories={(value) => setValue('categories', value, true)}\n                                genres={watch('genres')}\n                                error={errors.categories}\n                                disabled={loading}\n                            />\n                        </Grid>\n                    </Grid>\n\n                </Grid>\n                <Grid item xs={12} md={6}>\n                    <RatingField\n                        value={watch('rating') as any}\n                        setValue={(value) => setValue('rating', value, true)}\n                        error={errors.rating}\n                        disabled={loading}\n                        FormControlProps={{\n                            margin: isGreaterMd ? 'none' : 'normal'\n                        }}\n                    />\n                    <Card className={classes.cardUpload}>\n                        <CardContent>\n                            <Typography color=\"primary\" variant=\"h6\">\n                                Imagens\n                            </Typography>\n                            <UploadField\n                                ref={uploadsRef.current['thumb_file']}\n                                accept={'image/*'}\n                                label={'Thumb'}\n                                setValue={(value) => setValue('thumb_file', value)}\n                            />\n                            <UploadField\n                                ref={uploadsRef.current['banner_file']}\n                                accept={'image/*'}\n                                label={'Banner'}\n                                setValue={(value) => setValue('banner_file', value)}\n                            />\n                        </CardContent>\n                    </Card>\n                    <Card className={classes.cardUpload}>\n                        <CardContent>\n                            <Typography color=\"primary\" variant=\"h6\">\n                                Vídeos\n                            </Typography>\n                            <UploadField\n                                ref={uploadsRef.current['trailer_file']}\n                                accept={'video/mp4'}\n                                label={'Trailer'}\n                                setValue={(value) => setValue('trailer_file', value)}\n                            />\n                            <UploadField\n                                ref={uploadsRef.current['video_file']}\n                                accept={'video/mp4'}\n                                label={'Principal'}\n                                setValue={(value) => {\n                                    setValue('video_file', value)\n                                }}\n                            />\n                        </CardContent>\n                    </Card>\n                    <Card className={classes.cardOpened}>\n                        <CardContent className={classes.cardContentOpened}>\n                            <FormControlLabel\n                                disabled={loading}\n                                control={\n                                    <Checkbox\n                                        name=\"opened\"\n                                        color={\"primary\"}\n                                        onChange={\n                                            () => setValue('opened', !getValues()['opened'])\n                                        }\n                                        checked={(watch('opened')) as boolean}\n                                    />\n                                }\n                                label={\n                                    <Typography color={\"primary\"} variant={\"subtitle2\"}>\n                                        Quero que esse conteúdo apareça na seção lançamentos\n                                    </Typography>\n                                }\n                                labelPlacement='end'\n                            />\n                        </CardContent>\n                    </Card>\n\n                </Grid>\n            </Grid>\n            <SubmitActions\n                disabledButtons={loading}\n                handleSave={() =>\n                    triggerValidation().then(isValid => {\n                        isValid && onSubmit(getValues(), null)\n                    })\n                }\n            />\n        </DefaultForm>\n    );\n};\n","// import * as React from 'react';\nimport { Page } from '../../components/Page';\nimport { Form } from \"./Form\";\nimport { useParams } from 'react-router-dom'\n\nconst PageForm = () => {\n    const {id}:any = useParams();\n    return (\n        <Page title={!id ? \"Criar vídeo\" : \"Editar vídeo\"}>\n            <Form />\n        </Page>\n    );\n}\n\nexport default PageForm;","import { Divider, Fade, IconButton, makeStyles, Theme } from \"@material-ui/core\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { Link } from \"react-router-dom\";\nimport { FileUpload, Upload } from \"../../store/upload/types\";\nimport { useDispatch } from \"react-redux\";\nimport { Creators } from \"../../store/upload\";\nimport { hasError, isFinished, isUploadType } from \"../../store/upload/getters\";\nimport { useEffect, useState } from \"react\";\nimport { useDebounce } from \"use-debounce/lib\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    successIcon: {\n        color: theme.palette.success.main,\n        marginLeft: theme.spacing(1)\n    },\n    errorIcon: {\n        color: theme.palette.error.main,\n        marginLeft: theme.spacing(1)\n    },\n    divider: {\n        height: '20px',\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1)\n    }\n}));\n\ninterface UploadActionProps {\n    uploadOrFile: Upload | FileUpload;\n};\n\nconst UploadAction: React.FC<UploadActionProps> = (props) => {\n    const { uploadOrFile } = props;\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const [show, setShow] = useState(false);\n    const [debouncedShow] = useDebounce(show, 2500);\n    const error = hasError(uploadOrFile);\n    const videoId = (uploadOrFile as any)?.video?.id;\n    const activeActions = isUploadType(uploadOrFile);\n\n    useEffect(() => {\n        setShow(isFinished(uploadOrFile))\n    }, [uploadOrFile]);\n\n    return (\n        debouncedShow\n            ? (< Fade in={true} timeout={{ enter: 1000 }}>\n                <>\n                    {\n                        uploadOrFile.progress === 1 &&\n                        !error &&\n                        <CheckCircleIcon className={classes.successIcon} />\n                    }\n                    {error && <ErrorIcon className={classes.errorIcon} />}\n\n                    {activeActions && (\n                        <>\n                            <Divider className={classes.divider} orientation={'vertical'} />\n                            <IconButton\n                                onClick={() => dispatch(Creators.removeUpload({ id: videoId }))}\n                            >\n                                <DeleteIcon color={'primary'} />\n                            </IconButton>\n                            <IconButton\n                                component={Link}\n                                to={`/videos/${videoId}/edit`}\n                            >\n                                <EditIcon color={'primary'} />\n                            </IconButton>\n                        </>\n                    )}\n                </>\n            </Fade >)\n            : null\n    );\n};\n\nexport default UploadAction;\n","import { Grid, ListItem, makeStyles, Theme, Typography } from \"@material-ui/core\";\nimport MovieIcon from \"@material-ui/icons/Movie\";\nimport ImageIcon from \"@material-ui/icons/Image\";\nimport UploadProgress from \"../../components/UploadProgress\";\nimport UploadAction from \"./UploadAction\";\nimport { FileUpload, Upload } from \"../../store/upload/types\";\n\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    gridTitle: {\n        display: 'flex',\n        color: '#999999'\n    },\n    icon: {\n        color: theme.palette.error.main,\n        minWidth: '40px'\n    },\n}));\n\ninterface UploadItemProps {\n    uploadOrFile: Upload | FileUpload;\n};\n\nconst UploadItem: React.FC<UploadItemProps> = (props) => {\n    const { uploadOrFile } = props;\n    const classes = useStyles();\n\n    function makeIcon() {\n        if (true) { return <MovieIcon className={classes.icon} /> };\n        return <ImageIcon className={classes.icon} />\n    }\n\n    return (\n        <ListItem>\n            <Grid\n                className={classes.gridTitle}\n                item\n                xs={12}\n                md={9}\n            >\n                {makeIcon()}\n                <Typography color={'inherit'}>\n                    {props.children}\n                </Typography>\n            </Grid>\n            <Grid\n                container\n                direction={'row'}\n                alignItems={'center'}\n                justify={'flex-end'}\n            >\n                <UploadProgress size={48} uploadOrFile={uploadOrFile} />\n                <UploadAction uploadOrFile={uploadOrFile} />\n            </Grid>\n        </ListItem>\n    );\n};\n\nexport default UploadItem;\n","import { Accordion, AccordionDetails, AccordionSummary, Card, CardContent, Divider, Grid, List, makeStyles, Theme, Typography } from \"@material-ui/core\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Page } from \"../../components/Page\";\nimport { Upload, UploadModule } from \"../../store/upload/types\";\nimport { VideoFileFieldsMap } from \"../../util/models\";\nimport UploadItem from \"./UploadItem\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    panelSummary: {\n        backgroundColor: theme.palette.primary.main,\n        color: theme.palette.primary.contrastText\n    },\n    expandedIcon: {\n        color: theme.palette.primary.contrastText\n    }\n}));\n\nconst Uploads = () => {\n    const classes = useStyles();\n\n    const uploads = useSelector<UploadModule, Upload[]>(\n        (state) => state.upload.uploads\n    );\n\n    return (\n        <Page title={'Uploads'}>\n            {\n                uploads.map((upload, key) => (\n                    <Card elevation={5} key={key}>\n                        <CardContent>\n                            <UploadItem uploadOrFile={upload}>\n                                {upload.video.title}\n                            </UploadItem>\n                            <Accordion style={{ margin: 0 }}>\n                                <AccordionSummary\n                                    className={classes.panelSummary}\n                                    expandIcon={<ExpandMoreIcon className={classes.expandedIcon} />}\n                                >\n                                    <Typography>Ver detalhes</Typography>\n                                </AccordionSummary>\n                                <AccordionDetails>\n                                    <Grid item xs={12}>\n                                        <List dense={true} style={{ padding: '0px' }}>\n                                            {\n                                                upload.files.map((file, key) => (\n                                                    <React.Fragment key={key}>\n                                                        <Divider />\n                                                        <UploadItem uploadOrFile={file}>\n                                                            {`${VideoFileFieldsMap[file.fileField]} - ${file.filename}`}\n                                                        </UploadItem>\n                                                    </React.Fragment>\n                                                ))\n                                            }\n                                        </List>\n                                    </Grid>\n                                </AccordionDetails>\n                            </Accordion>\n                        </CardContent>\n                    </Card>\n                ))\n            }\n        </Page>\n    );\n};\n\nexport default Uploads;\n","import { RouteProps } from \"react-router-dom\";\nimport Dashboard from \"../pages/Dashboard\";\nimport CategoryList from \"../pages/category/PageList\";\nimport CategoryCreate from \"../pages/category/PageForm\";\nimport CastMemberList from \"../pages/cast-member/PageList\";\nimport CastMemberCreate from \"../pages/cast-member/PageForm\";\nimport GenreList from \"../pages/genre/PageList\";\nimport GenreCreate from \"../pages/genre/PageForm\";\nimport VideoList from \"../pages/video/PageList\";\nimport VideoCreate from \"../pages/video/PageForm\";\nimport UploadPage from \"../pages/uploads\";\n\nexport interface MyRouteProps extends RouteProps {\n    name: string;\n    label: string;\n}\n\nconst routes: MyRouteProps[] = [\n    {\n        name: 'dashboard',\n        label: 'Dashboard',\n        path: '/',\n        component: Dashboard,\n        exact: true\n    },\n    {\n        name: 'categories.list',\n        label: 'Listar categorias',\n        path: '/categories',\n        component: CategoryList,\n        exact: true\n    },\n    {\n        name: 'categories.create',\n        label: 'Criar categoria',\n        path: '/categories/create',\n        component: CategoryCreate,\n        exact: true\n    },\n    {\n        name: 'categories.edit',\n        label: 'Editar categoria',\n        path: '/categories/:id/edit',\n        component: CategoryCreate,\n        exact: true\n    },\n    {\n        name: 'cast_members.list',\n        label: 'Listar membros de elencos',\n        path: '/cast-members',\n        component: CastMemberList,\n        exact: true\n    },\n    {\n        name: 'cast_members.create',\n        label: 'Criar membro de elenco',\n        path: '/cast-members/create',\n        component: CastMemberCreate,\n        exact: true\n    },\n    {\n        name: 'cast_members.edit',\n        label: 'Editar membro de elenco',\n        path: '/cast-members/:id/edit',\n        component: CastMemberCreate,\n        exact: true\n    },\n    {\n        name: 'genres.list',\n        label: 'Listar gêneros',\n        path: '/genres',\n        component: GenreList,\n        exact: true\n    },\n    {\n        name: 'genres.create',\n        label: 'Criar gêneros',\n        path: '/genres/create',\n        component: GenreCreate,\n        exact: true\n    },\n    {\n        name: 'genres.edit',\n        label: 'Editar gêneros',\n        path: '/genres/:id/edit',\n        component: GenreCreate,\n        exact: true\n    },\n    {\n        name: 'videos.list',\n        label: 'Listar vídeos',\n        path: '/videos',\n        component: VideoList,\n        exact: true\n    },\n    {\n        name: 'videos.create',\n        label: 'Criar vídeos',\n        path: '/videos/create',\n        component: VideoCreate,\n        exact: true\n    },\n    {\n        name: 'genres.edit',\n        label: 'Editar gêneros',\n        path: '/videos/:id/edit',\n        component: VideoCreate,\n        exact: true\n    },\n    {\n        name: 'uploads',\n        label: 'Uploads',\n        path: '/uploads',\n        component: UploadPage,\n        exact: true\n    },\n];\n\nexport default routes;\n","import { IconButton, Menu as MuiMenu, MenuItem } from '@material-ui/core';\nimport * as React from 'react';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport routes, { MyRouteProps } from '../../routes';\nimport { Link } from 'react-router-dom';\n\nconst listRoutes = {\n    'dashboard': 'Dashboard',\n    'categories.list': 'Categorias',\n    'cast_members.list': 'Membros de elenco',\n    'genres.list': 'Gêneros',\n    'videos.list': 'Vídeos',\n    'uploads': 'Uploads',\n};\nconst menuRoutes = routes.filter(route => Object.keys(listRoutes).includes(route.name));\n\nexport const Menu = () => {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const open = Boolean(anchorEl);\n\n    const handleOpen = (event: any) => setAnchorEl(event.currentTarget);\n\n    const handleClose = () => setAnchorEl(null);\n\n    return (\n        <React.Fragment>\n            <IconButton\n                edge=\"start\"\n                color=\"inherit\"\n                aria-label=\"open drawer\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                onClick={handleOpen}\n            >\n                <MenuIcon />\n            </IconButton>\n            <MuiMenu\n                id=\"menu-appbar\"\n                open={open}\n                anchorEl={anchorEl}\n                onClick={handleClose}\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n                transformOrigin={{ vertical: 'top', horizontal: 'center' }}\n                getContentAnchorEl={null}\n            >\n                {\n                    Object.keys(listRoutes).map(\n                        (routeName, key) => {\n                            const route = menuRoutes.find(route => route.name === routeName) as MyRouteProps;\n                            return (\n                                <MenuItem key={key} component={Link} to={route.path as string} onClick={handleClose}>\n                                    {listRoutes[routeName]}\n                                </MenuItem>\n                            )\n                        }\n                    )\n                }\n            </MuiMenu>\n        </React.Fragment>\n    );\n};","// @flow \nimport { AppBar, Button, makeStyles, Theme, Toolbar, Typography } from '@material-ui/core';\nimport * as React from 'react';\nimport logo from '../../static/img/logo.png';\nimport { Menu } from './Menu';\n\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    toolbar: {\n        backgroundColor: '#000000'\n    },\n    title: {\n        flexGrow: 1,\n        textAlign: 'center'\n    },\n    logo: {\n        width: 100,\n        [theme.breakpoints.up('sm')]: {\n            width: 170\n        }\n    }\n}));\n\nexport const Navbar: React.FC = () => {\n    const classes = useStyles();\n\n    return (\n        <AppBar>\n            <Toolbar className={ classes.toolbar }>\n                <Menu />\n                <Typography className={ classes.title }>\n                    <img src={ logo } alt=\"CodeFlix\"  className={ classes.logo } />\n                </Typography>\n                <Button>Login</Button>\n            </Toolbar>\n        </AppBar>\n    );\n};","export default \"data:image/png;base64,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\"","import * as React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport routes from './index';\n\nconst AppRouter = () => {\n    return (\n        <Switch>\n            {\n                routes.map(\n                    (route, key) => (\n                        <Route\n                            key={ key }\n                            path={ route.path }\n                            component={ route.component }\n                            exact={ route.exact === true }\n                        />\n                    )\n                )\n            }\n        </Switch>\n    );\n};\n\nexport default AppRouter;","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport Link, { LinkProps } from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\nimport MuiBreadcrumbs from '@material-ui/core/Breadcrumbs';\nimport { Route } from 'react-router';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Location } from 'history';\nimport routes from '../routes';\nimport RouteParser from 'route-parser';\nimport { Box, Container } from '@material-ui/core';\n\nconst breadcrumbNameMap: { [key: string]: string } = {};\nroutes.forEach( route => breadcrumbNameMap[route.path as string] = route.label );\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    linkRouter: {\n      color: theme.palette.secondary.main,\n      \"&:focus, &:active\": {\n        color: theme.palette.secondary.main,\n      },\n      \"&:hover\": {\n        color: theme.palette.secondary.dark,\n      }\n    }\n  }),\n);\n\ninterface LinkRouterProps extends LinkProps {\n  to: string;\n  replace?: boolean;\n}\n\nconst LinkRouter = (props: LinkRouterProps) => <Link {...props} component={RouterLink as any} />;\n\nexport default function Breadcrumbs() {\n  const classes = useStyles();\n\n  function makeBreadcrumb(location: Location) {\n      const pathnames = location.pathname.split('/').filter((x) => x);\n      pathnames.unshift('/');\n      return (\n        <MuiBreadcrumbs aria-label=\"breadcrumb\">\n          {\n            pathnames.map((value, index) => {\n              const last = index === pathnames.length - 1;\n              const to = `${pathnames.slice(0, index + 1).join('/').replace('//', '/')}`;\n              const route = Object\n                  .keys(breadcrumbNameMap)\n                  .find(\n                      path => new RouteParser(path).match(to)\n              );\n\n              if (route === undefined) {\n                return false;\n              }\n\n              return last ? (\n                <Typography color=\"textPrimary\" key={to}>\n                  {breadcrumbNameMap[route]}\n                </Typography>\n              ) : (\n                <LinkRouter color=\"inherit\" to={to} key={to} className={classes.linkRouter}>\n                  {breadcrumbNameMap[route]}\n                </LinkRouter>\n              );\n            })\n          }\n        </MuiBreadcrumbs>\n      );\n    }\n\n  return (\n    <Container>\n      <Box paddingTop={ 2 } paddingBottom={ 1 }>\n        <Route>\n          {({ location }: { location: Location }) => makeBreadcrumb(location)}\n        </Route>\n      </Box>\n    </Container>\n  );\n}\n","import * as React from 'react';\nimport { SnackbarProvider as NotistackProvider, SnackbarProviderProps } from \"notistack\";\nimport { IconButton, makeStyles, Theme } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return {\n        variantSuccess: {\n            backgroundColor: theme.palette.success.main\n        },\n        variantError: {\n            backgroundColor: theme.palette.error.main\n        },\n        variantInfo: {\n            backgroundColor: theme.palette.primary.main\n        },\n    }\n});\n\nexport const SnackbarProvider:React.FC<SnackbarProviderProps> = (props) => {\n    let snackbarProviderRef;\n    const classes = useStyles();\n    const defaultProps: SnackbarProviderProps = {\n        classes,\n        autoHideDuration: 3000,\n        maxSnack: 3,\n        anchorOrigin: {\n            horizontal: 'right',\n            vertical: 'top'\n        },\n        preventDuplicate: true,\n        ref: (el) => snackbarProviderRef = el,\n        action: (key) => (\n            <IconButton \n                color='inherit' \n                style={{fontSize: 20}}\n                onClick={ () => snackbarProviderRef.closeSnackbar(key) }\n            >\n                <CloseIcon />\n            </IconButton>\n        )\n    }\n    \n    const newProps = {...defaultProps, ...props};\n\n    return (\n        <NotistackProvider {...newProps}>\n            {props.children}\n        </NotistackProvider>\n    );\n};\n","import { Fade, LinearProgress, MuiThemeProvider, Theme } from \"@material-ui/core\";\nimport { useContext } from \"react\";\nimport LoadingContext from \"./loading/LoadingContext\";\n\nfunction makeLocalTheme(theme: Theme): Theme {\n    return {\n        ...theme,\n        palette: {\n            ...theme.palette,\n            primary: theme.palette.error,\n            type: \"dark\"\n        }\n    }\n}\nconst Spinner = () => {\n    const loading = useContext(LoadingContext);\n    return (\n        <MuiThemeProvider theme={makeLocalTheme}>\n            <Fade in={loading}>\n                <LinearProgress\n                    color={\"primary\"}\n                    style={{\n                        position: \"fixed\",\n                        width: \"100%\",\n                        zIndex: 9999,\n                    }}\n                />\n            </Fade>\n        </MuiThemeProvider>\n    );\n};\n\nexport default Spinner;\n","import LoadingContext from \"./LoadingContext\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport {\n    addGlobalRequestInterceptor, addGlobalResponseInterceptor,\n    removeGlobalRequestInterceptor, removeGlobalResponseInterceptor\n} from \"../../util/http\";\n\nconst LoadingProvider = (props) => {\n    const [loading, setLoading] = useState<boolean>(false);\n    const [countRequest, setCountRequest] = useState<number>(0);\n    //useMemo vs useCallback\n    useMemo(() => {\n        let isSubscribed = true;\n        // axios.interceptors.request.use();\n        const requestIds = addGlobalRequestInterceptor((config) => {\n            // if (isSubscribed) {\n            if (isSubscribed && !config.headers!.hasOwnProperty(\"x-ignore-loading\")) {\n                setLoading(true);\n                setCountRequest((prevCountRequest) => prevCountRequest + 1);\n            };\n            return config;\n        });\n        // axios.interceptors.response.use();\n        const responseIds = addGlobalResponseInterceptor((response) => {\n            if (isSubscribed && !response?.config?.headers?.hasOwnProperty(\"x-ignore-loading\")) {\n                decrementCountRequest()\n            };\n            return response;\n        },\n            (error) => {\n                if (isSubscribed && !error?.config?.headers?.hasOwnProperty(\"x-ignore-loading\")) {\n                    decrementCountRequest()\n                };\n                return Promise.reject(error);\n            });\n        return () => {\n            isSubscribed = false;\n            removeGlobalRequestInterceptor(requestIds);\n            removeGlobalResponseInterceptor(responseIds);\n        }\n    }, []);\n\n    useEffect(() => {\n        if (!countRequest) {\n            setLoading(false)\n        }\n    }, [countRequest]);\n\n    function decrementCountRequest() {\n        setCountRequest((prevCountRequest) => prevCountRequest - 1);\n    }\n\n    return (\n        <LoadingContext.Provider value={loading} >\n            {props.children}\n        </LoadingContext.Provider>\n    );\n};\n\nexport default LoadingProvider;\n","import { Box, CssBaseline, MuiThemeProvider } from '@material-ui/core';\nimport React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Navbar } from './components/Navibar';\nimport AppRouter from './routes/AppRouter';\nimport Breadcrumbs from './components/Breadcrumbs';\nimport theme from './theme';\nimport { SnackbarProvider } from './components/SnackbarProvider';\nimport Spinner from './components/Spinner';\nimport LoadingProvider from './components/loading/LoadingProvider';\n\nconst App: React.FC = () => {\n  return (\n    <React.Fragment>\n      <LoadingProvider>\n        <MuiThemeProvider theme={theme}>\n          <SnackbarProvider>\n            <CssBaseline>\n              <BrowserRouter basename='/admin'>\n                <Spinner />\n                <Navbar />\n                <Box paddingTop={'70px'}>\n                  <Breadcrumbs />\n                  <AppRouter />\n                </Box>\n              </BrowserRouter>\n            </CssBaseline>\n          </SnackbarProvider>\n        </MuiThemeProvider>\n      </LoadingProvider>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { Types, Creators } from \".\";\nimport { eventChannel, END } from \"redux-saga\";\nimport { actionChannel, take, call, put } from \"redux-saga/effects\";\nimport { AddUploadAction, FileInfo } from \"./types\";\nimport { Video } from \"../../util/models\";\nimport videoHttp from \"../../util/http/video-http\";\n\nexport function* uploadWatcherSaga() {\n    const newFilesChannel = yield actionChannel(Types.ADD_UPLOAD);\n\n    while (true) {\n        const { payload }: AddUploadAction = yield take(newFilesChannel);\n        for (const fileInfo of payload.files) {\n            try {\n                const response = yield call(uploadFile, { video: payload.video, fileInfo });\n                console.log('==>> ', response);\n            } catch (error) {\n                console.log(error);\n            }\n        }\n        console.log('==>>', payload);\n    }\n}\n\nfunction* uploadFile({ video, fileInfo }: { video: Video, fileInfo: FileInfo }) {\n    const channel = yield call(sendUpload, { id: video.id, fileInfo });\n    while (true) {\n        try {\n            const { progress, response } = yield take(channel);\n            if (response) {\n                return response;\n            }\n            yield put(Creators.updateProgress({\n                video,\n                fileField: fileInfo.fileField,\n                progress\n            }));\n        } catch (error) {\n            yield put(Creators.setUploadError({\n                video: video,\n                fileField: fileInfo.fileField,\n                error: error as any\n            }))\n            throw error;\n        }\n    }\n}\n\nfunction sendUpload({ id, fileInfo }: { id: string, fileInfo: FileInfo }) {\n    return eventChannel(emitter => {\n        videoHttp.partialUpdate(\n            id,\n            {\n                _method: 'PATCH',\n                [fileInfo.fileField]: fileInfo.file\n            },\n            {\n                http: {\n                    usePost: true\n                },\n                config: {\n                    headers: {\n                        \"x-ignore-loading\": true as any\n                    },\n                    onUploadProgress(progressEvent: ProgressEvent) {\n                        if (progressEvent.lengthComputable) {\n                            const progress = progressEvent.loaded / progressEvent.total\n                            emitter({ progress });\n                        }\n                    }\n                }\n            })\n            .then(response => emitter({ response }))\n            .catch(error => emitter(error))\n            .finally(() => emitter(END));\n        const unsubscribe = () => {\n        };\n        return unsubscribe;\n    })\n}\n","import { all } from \"redux-saga/effects\";\nimport { uploadWatcherSaga } from \"./upload/sagas\";\n\nexport default function* rootSaga() {\n    yield all([\n        uploadWatcherSaga()\n    ]);\n}\n","import { createStore, applyMiddleware, combineReducers } from \"redux\";\nimport createSagaMiddleware from \"@redux-saga/core\";\nimport upload from \"./upload\";\nimport rootSaga from \"./root-saga\";\n\nconst sagaMiddleware = createSagaMiddleware();\nconst store = createStore(\n    combineReducers({\n        upload\n    }),\n    applyMiddleware(sagaMiddleware)\n);\nsagaMiddleware.run(rootSaga);\n\nexport default store;\n","import ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\n// ReactDOM.render(\n\n//   <Provider store={store}>\n//     <React.StrictMode>\n//       <App />\n//     </React.StrictMode>\n//   </Provider>,\n//   document.getElementById('root')\n// );\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}