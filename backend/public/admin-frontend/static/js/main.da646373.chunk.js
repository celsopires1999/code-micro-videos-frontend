(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{447:function(e,t,r){},898:function(e,t,r){"use strict";r.r(t);var a=r(23),n=r.n(a),c=(r(447),r(943)),o=r(966),i=r(967),s=r(0),l=r.n(s),u=r(30),d=r(18),p=r(295),b=r(963),j=r(354),f=r(85),h=r(301),m=r(12),g=r(213),O=r(427),x=r(349),v=r(425),y=r.n(v),C=r(942),P=r(917),F=r(1),k=Object(P.a)({title:{color:"#999999"}}),S=function(e){var t=k();return Object(F.jsx)(C.a,{children:Object(F.jsxs)(i.a,{paddingTop:1,children:[Object(F.jsx)(f.a,{className:t.title,component:"h1",variant:"h5",children:e.title}),e.children]})})},w=function(e){return Object(F.jsx)(S,{title:"Dashboard"})},T=r(951),R=r(111),I=r.n(R),D=r(11),A=r.n(D),E=r(24),N=r(6),B=r(90),L=r.n(B),_=r(113),M=r(110),q=r(32),V=r(122),U=r(409),z=r(234),G=r(233),W={primary:{main:"#79aec8",contrastText:"#fff"},secondary:{main:"#4db5ab",contrastText:"#fff",dark:"#055a52"},background:{default:"#fafafa"},success:{main:z.a[500],contrastText:"#fff"},error:{main:G.a[500]}},H=Object(V.b)({palette:W,overrides:{MUIDataTable:{paper:{boxShadow:"none"}},MUIDataTableToolbar:{root:{minHeight:"58px",backgroundColor:W.background.default},icon:{color:W.primary.main,"&:hover, &:active, &.focus":{color:W.secondary.dark}},iconActive:{color:W.secondary.dark,"&:hover, &:active, &.focus":{color:W.secondary.dark}}},MUIDataTableHeadCell:{fixedHeader:{paddingTop:8,paddingBottom:8,backgroundColor:W.primary.main,color:"#ffffff","&[aria-sort]":{backgroundColor:"#459ac4"}},sortActive:{color:"#fff"},sortAction:{alignItems:"center"},sortLabelRoot:{"& svg":{color:"#fff !important"}},toolButton:{color:"#fff"}},MUIDataTableSelectCell:{headerCell:{backgroundColor:W.primary.main,"& span":{color:"#fff !important"}}},MUIDataTableBodyCell:{root:{color:W.secondary.main,"&:hover, &:active, &.focus":{color:W.secondary.main}}},MUIDataTableToolbarSelect:{title:{color:W.primary.main},iconButton:{color:W.primary.main}},MUIDataTableBodyRow:{root:{"&:nth-child(odd)":{backgroundColor:W.background.default}}},MUIDataTablePagination:{root:{color:W.primary.main}},MUIDataTableFilterList:{root:{marginBottom:"16px"}}}}),Y=Object(V.b)({palette:{primary:H.palette.success,secondary:H.palette.error}}),Q=function(){return Object(F.jsx)(c.a,{theme:Y,children:Object(F.jsx)(U.a,{label:"Sim",color:"primary"})})},X=function(){return Object(F.jsx)(c.a,{theme:Y,children:Object(F.jsx)(U.a,{label:"N\xe3o",color:"secondary"})})},Z=r(971),K=r(945),J=r(946),$=r(947),ee=r(948),te=function(e){var t=e.open,r=e.handleClose;return Object(F.jsxs)(Z.a,{open:t,onClose:function(){return r(!1)},children:[Object(F.jsx)(K.a,{children:"Exclus\xe3o de registros"}),Object(F.jsx)(J.a,{children:Object(F.jsx)($.a,{children:"Deseja realmente excluir este(s) registros?"})}),Object(F.jsxs)(ee.a,{children:[Object(F.jsx)(h.a,{onClick:function(){return r(!1)},color:"primary",children:"Cancelar"}),Object(F.jsx)(h.a,{onClick:function(){return r(!0)},color:"primary",autoFocus:!0,children:"Excluir"})]})]})},re=Object(s.createContext)(!1),ae=r(414),ne=r.n(ae),ce=r(51),oe=r(235),ie=r(950),se=r(28),le=r(29),ue=r(143),de=r(58),pe=r(59),be=r(209),je=r(352),fe=r(286),he=r.n(fe),me=r(287),ge=r.n(me),Oe=r(5),xe=function(e){Object(de.a)(r,e);var t=Object(pe.a)(r);function r(e){var a;Object(se.a)(this,r),(a=t.call(this,e)).handleTextChange=function(e){var t=e.target.value;a.setState({text:t},(function(){return a.debouncedOnSearch(t)}))},a.debouncedOnSearch=function(e){a.props.onSearch(e)},a.onKeyDown=function(e){27===e.keyCode&&a.props.onHide()};var n=a.props.searchText,c=n;return n&&void 0!==n.value&&(c=n.value),a.state={text:c},a.debouncedOnSearch=Object(ce.debounce)(a.debouncedOnSearch.bind(Object(ue.a)(a)),a.props.debounceTime),a}return Object(le.a)(r,[{key:"componentDidUpdate",value:function(e,t,r){var a=this,n=this.props.searchText;if(n&&void 0!==n.value&&e.searchText!==this.props.searchText){var c=n.value;if(c)this.setState({text:c},(function(){return a.props.onSearch(c)}));else try{this.props.onHide()}catch(o){}}}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"render",value:function(){var e=this,t=this.props,r=t.classes,a=t.options,n=t.onHide,c=this.state.text;return Object(F.jsx)(be.a,{appear:!0,in:!0,timeout:300,children:Object(F.jsxs)("div",{className:r.main,ref:function(t){return e.rootRef=t},children:[Object(F.jsx)(he.a,{className:r.searchIcon}),Object(F.jsx)(je.a,{className:r.searchText,autoFocus:!0,InputProps:{"data-test-id":a.textLabels.toolbar.search,"aria-label":a.textLabels.toolbar.search},value:c||"",onChange:this.handleTextChange,fullWidth:!0,inputRef:function(t){return e.searchField=t},placeholder:a.searchPlaceholder}),Object(F.jsx)(g.a,{className:r.clearIcon,onClick:n,children:Object(F.jsx)(ge.a,{})})]})})}}]),r}(l.a.PureComponent),ve=Object(Oe.a)((function(e){return{main:{display:"flex",flex:"1 0 auto"},searchIcon:{color:e.palette.text.secondary,marginTop:"10px",marginRight:"8px"},searchText:{flex:"0.8 0"},clearIcon:{"&:hover":{color:e.palette.error.main}}}}),{name:"MUIDataTableSearch"})(xe),ye=s.forwardRef((function(e,t){var r,a,n=Object(ce.cloneDeep)(Object(oe.a)()),o=Object(ie.a)(n.breakpoints.down("sm")),i=(r=e.debouncedSearchTime,{print:!1,download:!1,textLabels:{body:{noMatch:"Nenhum registro encontrado",toolTip:"Classificar"},pagination:{next:"Pr\xf3xima p\xe1gina",previous:"P\xe1gina anterior",rowsPerPage:"Por p\xe1gina:",displayRows:"de"},toolbar:{search:"Busca",downloadCsv:"Download CSV",print:"Imprimir",viewColumns:"Ver Colunas",filterTable:"Filtrar Tabelas"},filter:{all:"Todos",title:"FILTROS",reset:"LIMPAR"},viewColumns:{title:"Ver Colunas",titleAria:"Ver/Esconder Colunas da Tabela"},selectedRows:{text:"registros(s) selecionados",delete:"Excluir",deleteAria:"Excluir registros selecionados"}},customSearchRender:function(e,t,a,n){return Object(F.jsx)(ve,{searchText:e,onSearch:t,onHide:a,options:n,debouncedTime:r})}}),s=Object(ce.merge)({options:Object(ce.cloneDeep)(i)},Object(ce.omit)(e,"columns"),{columns:(a=e.columns,a.forEach((function(e,t){e.width&&(n.overrides.MUIDataTableHeadCell.fixedHeader["&:nth-child(".concat(t+2,")")]={width:e.width})})),a.map((function(e){return Object(ce.omit)(e,"width")})))});!function(){var e=s.options.textLabels;e.body.noMatch=!0===s.loading?"Carregando...":e.body.noMatch}(),s.options.responsive=o?"simple":"standard";var l=Object(N.a)(Object(N.a)({},Object(ce.omit)(s,"loading")),{},{ref:t});return Object(F.jsx)(c.a,{theme:n,children:Object(F.jsx)(ne.a,Object(N.a)({},l))})}));function Ce(e){return function(t){var r=Object(ce.cloneDeep)(t),a='&[data-testid^="MuiDataTableBodyCell-'.concat(e,'"]');return r.overrides.MUIDataTableBodyCell.root[a]={paddingTop:"0px",paddingBottom:"0px"},r}}var Pe,Fe=r(339),ke=r(416),Se=r.n(ke),we=Object(p.a)((function(e){return{IconButton:e.overrides.MUIDataTableToolbar.icon}})),Te=function(e){var t=we();return Object(F.jsx)(Fe.a,{title:"Limpar busca",children:Object(F.jsx)(g.a,{className:t.IconButton,onClick:e.handleClick,children:Object(F.jsx)(Se.a,{})})})},Re=function(){var e=Object(s.useState)(!1),t=Object(m.a)(e,2),r=t[0],a=t[1],n=Object(s.useState)({data:[]}),c=Object(m.a)(n,2),o=c[0],i=c[1];return Object(s.useEffect)((function(){o.data.length&&a(!0)}),[o]),{openDeleteDialog:r,setOpenDeleteDialog:a,rowsToDelete:o,setRowsToDelete:i}},Ie=r(147),De=Object(Ie.createActions)({setSearch:["payload"],setPage:["payload"],setPerPage:["payload"],setOrder:["payload"],setReset:["payload"],updateExtraFilter:["payload"]}),Ae=De.Types,Ee=De.Creators,Ne={search:"",pagination:{page:1,per_page:15},order:{sort:null,dir:null}},Be=Object(Ie.createReducer)(Ne,(Pe={},Object(d.a)(Pe,Ae.SET_SEARCH,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;return Object(N.a)(Object(N.a)({},e),{},{search:t.payload.search,pagination:Object(N.a)(Object(N.a)({},e.pagination),{},{page:1})})})),Object(d.a)(Pe,Ae.SET_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;return Object(N.a)(Object(N.a)({},e),{},{pagination:Object(N.a)(Object(N.a)({},e.pagination),{},{page:t.payload.page})})})),Object(d.a)(Pe,Ae.SET_PER_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;return Object(N.a)(Object(N.a)({},e),{},{pagination:Object(N.a)(Object(N.a)({},e.pagination),{},{per_page:t.payload.per_page})})})),Object(d.a)(Pe,Ae.SET_ORDER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;return Object(N.a)(Object(N.a)({},e),{},{pagination:Object(N.a)(Object(N.a)({},e.pagination),{},{page:1}),order:{sort:t.payload.sort,dir:t.payload.dir}})})),Object(d.a)(Pe,Ae.SET_RESET,(function(){var e=arguments.length>1?arguments[1]:void 0;return e.payload.state})),Object(d.a)(Pe,Ae.UPDATE_EXTRA_FILTER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;return Object(N.a)(Object(N.a)({},e),{},{extraFilter:Object(N.a)(Object(N.a)({},e.extraFilter),t.payload)})})),Pe)),Le=Be;var _e=r(974),Me=r(21),qe=r(81);function Ve(e){var t=Object(Me.f)(),r=Object(Me.g)(),a=r.search,n=r.pathname,c=r.state,o=e.rowsPerPageOptions,i=e.rowsPerPage,l=e.columns,u=e.extraFilter,d=Object(s.useMemo)((function(){return qe.d().shape(Object(N.a)({search:qe.f().transform((function(e){return e||void 0})).default(""),pagination:qe.d().shape({page:qe.c().transform((function(e){return isNaN(e)||parseInt(e)<1?void 0:e})).default(1),per_page:qe.c().transform((function(e){return isNaN(e)||!o.includes(parseInt(e))?void 0:e})).default(i)}),order:qe.d().shape({sort:qe.f().nullable().transform((function(e){return l.filter((function(e){return!e.options||!1!==e.options.sort})).map((function(e){return e.name})).includes(e)?e:void 0})).default(null),dir:qe.f().nullable().transform((function(e){return e&&["asc","desc"].includes(e.toLowerCase())?e:void 0})).default(null)})},u&&{extraFilter:u.createValidationsSchema()}))}),[o,i,l,u]),p=Object(s.useMemo)((function(){var e=new URLSearchParams(a.substring(1));return d.cast(Object(N.a)({search:e.get("search"),pagination:{page:e.get("page"),per_page:e.get("per_page")},order:{sort:e.get("sort"),dir:e.get("dir")}},u&&{extraFilter:u.getStateFromURL(e)}))}),[a,d,u]),b=Object(s.useCallback)((function(e){var t=e;return e&&void 0!==e.value&&(t=e.value),t}),[]),j=Object(s.useCallback)((function(e,t){var r=b(e.search);return Object(N.a)(Object(N.a)(Object(N.a)(Object(N.a)(Object(N.a)({},r&&""!==r&&{search:r}),1!==e.pagination.page&&{page:e.pagination.page}),15!==e.pagination.per_page&&{per_page:e.pagination.per_page}),e.order.sort&&{sort:e.order.sort,dir:e.order.dir}),t&&t.formatSearchParams(e))}),[b]),f=p,h=Object(s.useReducer)(Le,f),g=Object(m.a)(h,2),O=g[0],x=g[1],v=new Ue(Object(N.a)(Object(N.a)({},e),{},{state:O,dispatch:x,schema:d})),y=Object(_e.a)(O,e.debouncedTime),C=Object(m.a)(y,1)[0],P=Object(s.useState)(0),F=Object(m.a)(P,2),k=F[0],S=F[1];return Object(s.useEffect)((function(){t.replace({pathname:n,search:"?"+new URLSearchParams(j(p,u)),state:p})}),[t,n,j,p,u]),Object(s.useEffect)((function(){var e={pathname:n,search:"?"+new URLSearchParams(j(C,u)),state:Object(N.a)(Object(N.a)({},C),{},{search:b(C.search)})},r=c,a=C;Object(ce.isEqual)(r,a)||t.push(e)}),[t,n,c,j,b,C,u]),v.state=O,v.applyOrderInColumns(),{columns:v.columns,cleanSearchText:b,filterManager:v,filterState:O,debouncedFilterState:C,dispatch:x,totalRecords:k,setTotalRecords:S}}Object(qe.e)({mixed:{required:function(e){var t=e.path;return"".concat(t," \xe9 requerido")},notType:function(e){var t=e.path;return"".concat(t," \xe9 inv\xe1lido")}},string:{max:function(e){var t=e.path,r=e.max;return"".concat(t," precisa ter no m\xe1ximo ").concat(r," caracteres")}},number:{min:function(e){var t=e.path,r=e.min;return"".concat(t," precisa ser no m\xednimo ").concat(r)}},array:{min:function(e){var t=e.path,r=e.min;return"".concat(t," precisa ter no m\xednimo ").concat(r," item")}}});var Ue=function(){function e(t){Object(se.a)(this,e),this.schema=void 0,this.state=void 0,this.dispatch=void 0,this.columns=void 0,this.rowsPerPage=void 0,this.tableRef=void 0;var r=t.schema,a=t.columns,n=t.rowsPerPage,c=t.tableRef,o=t.dispatch,i=t.state;this.schema=r,this.columns=a,this.rowsPerPage=n,this.tableRef=c,this.dispatch=o,this.state=i}return Object(le.a)(e,[{key:"resetTablePagination",value:function(){this.tableRef.current.changeRowsPerPage(this.rowsPerPage),this.tableRef.current.changePage(0)}},{key:"changeSearch",value:function(e){this.dispatch(Ee.setSearch({search:e}))}},{key:"changePage",value:function(e){this.dispatch(Ee.setPage({page:e+1}))}},{key:"changeRowsPerPage",value:function(e){this.dispatch(Ee.setPerPage({per_page:e}))}},{key:"changeColumnSort",value:function(e,t){this.dispatch(Ee.setOrder({sort:e,dir:t.includes("desc")?"desc":"asc"})),this.resetTablePagination()}},{key:"changeExtraFilter",value:function(e){this.dispatch(Ee.updateExtraFilter(e))}},{key:"resetFilter",value:function(){var e=Object(N.a)(Object(N.a)({},this.schema.cast({})),{},{search:{value:null,update:!0}});this.dispatch(Ee.setReset({state:e})),this.resetTablePagination()}},{key:"applyOrderInColumns",value:function(){var e=this;this.columns=this.columns.map((function(t){return t.name===e.state.order.sort?Object(N.a)(Object(N.a)({},t),{},{options:Object(N.a)(Object(N.a)({},t.options),{},{sortOrder:e.state.order.dir})}):t}))}},{key:"cleanSearchText",value:function(e){var t=e;return e&&void 0!==e.value&&(t=e.value),t}}]),e}(),ze=r(52),Ge=r(126),We=r.n(Ge),He=We.a.create({baseURL:"http://localhost:8000/api"}),Ye=[He];var Qe=r(421),Xe=function(){function e(t,r){Object(se.a)(this,e),this.http=t,this.resource=r,this.cancelList=null}return Object(le.a)(e,[{key:"list",value:function(e){this.cancelList&&this.cancelList.cancel("list request cancelled"),this.cancelList=We.a.CancelToken.source();var t={cancelToken:this.cancelList.token};return e&&e.queryParams&&(t.params=e.queryParams),this.http.get(this.resource,t)}},{key:"get",value:function(e){return this.http.get("".concat(this.resource,"/").concat(e))}},{key:"create",value:function(e){var t=this.makeSendData(e);return this.http.post(this.resource,t)}},{key:"update",value:function(e,t,r){var a=t;this.containsFile(t)&&(a=this.getFormData(t));var n=r||{},c=n.http,o=n.config;return r&&c&&c.usePost?this.http.post("".concat(this.resource,"/").concat(e),a,o):this.http.put("".concat(this.resource,"/").concat(e),a,o)}},{key:"partialUpdate",value:function(e,t,r){var a=t;this.containsFile(t)&&(a=this.getFormData(t));var n=r||{},c=n.http,o=n.config;return r&&c&&c.usePost?this.http.post("".concat(this.resource,"/").concat(e),a,o):this.http.patch("".concat(this.resource,"/").concat(e),a,o)}},{key:"delete",value:function(e){return this.http.delete("".concat(this.resource,"/").concat(e))}},{key:"deleteCollection",value:function(e){var t={};return e&&(t.params=e),this.http.delete("".concat(this.resource),t)}},{key:"isCancelledRequest",value:function(e){return We.a.isCancel(e)}},{key:"makeSendData",value:function(e){return this.containsFile(e)?this.getFormData(e):e}},{key:"getFormData",value:function(e){return Object(Qe.serialize)(e,{booleansAsIntegers:!0})}},{key:"containsFile",value:function(e){return 0!==Object.values(e).filter((function(e){return e instanceof File})).length}}]),e}(),Ze=new Xe(He,"categories"),Ke={Sim:!0,"N\xe3o":!1},Je=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",width:"43%",options:{filter:!1}},{name:"is_active",label:"Ativo?",width:"4%",options:{filterOptions:{names:Object.keys(Ke)},customBodyRender:function(e,t,r){return e?Object(F.jsx)(Q,{}):Object(F.jsx)(X,{})}}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e,t,r){return Object(F.jsx)("span",{children:Object(_.a)(Object(M.a)(e),"dd/MM/yyyy")})}}},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t){return Object(F.jsx)(g.a,{color:"secondary",component:u.b,to:"/categories/".concat(t.rowData[0],"/edit"),children:Object(F.jsx)(L.a,{})})}}}],$e=[15,25,50],et=function(){var e=Object(s.useRef)(!0),t=Object(s.useState)([]),r=Object(m.a)(t,2),a=r[0],n=r[1],o=Object(s.useContext)(re),i=Object(q.useSnackbar)().enqueueSnackbar,l=Re(),u=l.openDeleteDialog,p=l.setOpenDeleteDialog,b=l.rowsToDelete,j=l.setRowsToDelete,f=Object(s.useRef)(),h=Object(s.useMemo)((function(){return{createValidationsSchema:function(){return qe.d().shape({is_active:qe.f().nullable().transform((function(e){return e&&Object.keys(Ke).includes(e)?e:void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(N.a)({},e.extraFilter.is_active&&{is_active:e.extraFilter.is_active}):void 0},getStateFromURL:function(e){return{is_active:e.get("is_active")}}}}),[]),g=Ve({columns:Je,debouncedTime:300,rowsPerPage:15,rowsPerPageOptions:$e,tableRef:f,extraFilter:h}),O=g.columns,x=g.cleanSearchText,v=g.filterManager,y=g.filterState,C=g.debouncedFilterState,P=g.totalRecords,k=g.setTotalRecords,S=x(C.search),w=O.findIndex((function(e){return"is_active"===e.name})),T=O[w],R=y.extraFilter&&y.extraFilter.is_active;T.options.filterList=R?[R]:[];var I=Object(s.useCallback)(function(){var t=Object(E.a)(A.a.mark((function t(r){var a,c,o,s,l,d,b,j;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.search,c=r.page,o=r.per_page,s=r.sort,l=r.dir,d=r.is_active,t.prev=1,t.next=4,Ze.list({queryParams:{search:a,page:c,per_page:o,sort:s,dir:l,is_active:d}});case 4:b=t.sent,j=b.data,e.current&&(n(j.data),k(j.meta.total),u&&p(!1)),t.next=15;break;case 9:if(t.prev=9,t.t0=t.catch(1),console.error(t.t0),!Ze.isCancelledRequest(t.t0)){t.next=14;break}return t.abrupt("return");case 14:i("N\xe3o foi poss\xedvel encontrar as informa\xe7\xf5es",{variant:"error"});case 15:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),[i,u,p,k]);return Object(s.useEffect)((function(){var t;return e.current=!0,I(Object(N.a)({search:S,page:C.pagination.page,per_page:C.pagination.per_page,sort:C.order.sort,dir:C.order.dir},C.extraFilter&&(null===C||void 0===C||null===(t=C.extraFilter)||void 0===t?void 0:t.is_active)&&{is_active:Ke[C.extraFilter.is_active]})),function(){e.current=!1}}),[I,S,C.pagination.page,C.pagination.per_page,C.order,C.extraFilter]),Object(F.jsxs)(c.a,{theme:Ce(Je.length-1),children:[Object(F.jsx)(te,{open:u,handleClose:function(e){if(e){var t=b.data.map((function(e){return a[e.index].id})).join(",");Ze.deleteCollection({ids:t}).then((function(e){if(i("Registros exclu\xeddos com sucesso",{variant:"success"}),b.data.length===y.pagination.per_page&&y.pagination.page>1){var t=y.pagination.page-2;v.changePage(t)}else{var r;I(Object(N.a)({search:S,page:C.pagination.page,per_page:C.pagination.per_page,sort:C.order.sort,dir:C.order.dir},C.extraFilter&&(null===C||void 0===C||null===(r=C.extraFilter)||void 0===r?void 0:r.is_active)&&{is_active:Ke[C.extraFilter.is_active]}))}}))}else p(!1)}}),Object(F.jsx)(ye,{title:"",columns:O,data:a,loading:o,debouncedSearchTime:300,ref:f,options:{serverSide:!0,searchText:y.search,page:y.pagination.page-1,rowsPerPage:y.pagination.per_page,rowsPerPageOptions:$e,count:P,onFilterChange:function(e,t,r){var a=e||"is_active",n=O.findIndex((function(e){return e.name===a}));v.changeExtraFilter(Object(d.a)({},a,t[n].length?t[n][0]:null))},customToolbar:function(){return Object(F.jsx)(Te,{handleClick:function(){v.resetFilter()}})},onSearchChange:function(e){return v.changeSearch(e)},onChangePage:function(e){return v.changePage(e)},onChangeRowsPerPage:function(e){return v.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return v.changeColumnSort(e,t)},onRowsDelete:function(e,t){return j(e),!1}}})]})},tt=function(){return Object(F.jsxs)(S,{title:"Listagem categorias",children:[Object(F.jsx)(i.a,{dir:"rtl",paddingBottom:2,children:Object(F.jsx)(T.a,{title:"Adicionar categoria",color:"secondary",size:"small",component:u.b,to:"/categories/create",children:Object(F.jsx)(I.a,{})})}),Object(F.jsx)(i.a,{children:Object(F.jsx)(et,{})})]})},rt=r(343),at=r(407),nt=r(112),ct=Object(p.a)((function(e){return{submit:{margin:e.spacing(1)}}})),ot=function(e){var t={className:ct().submit,color:"secondary",variant:"contained",disabled:void 0!==e.disabledButtons&&e.disabledButtons};return Object(F.jsxs)(i.a,{dir:"ltf",children:[Object(F.jsx)(h.a,Object(N.a)(Object(N.a)({color:"primary"},t),{},{type:"submit",onClick:e.handleSave,children:"Salvar"})),Object(F.jsx)(h.a,Object(N.a)(Object(N.a)({},t),{},{type:"submit",children:"Salvar e continuar editando"}))]})},it=r(229),st=r(345),lt=["GridContainerProps","GridItemProps"],ut=Object(p.a)((function(e){return{gridItem:{padding:e.spacing(1,0)}}})),dt=function(e){var t=ut(),r=e.GridContainerProps,a=e.GridItemProps,n=Object(it.a)(e,lt);return Object(F.jsx)("form",Object(N.a)(Object(N.a)({},n),{},{children:Object(F.jsx)(st.a,Object(N.a)(Object(N.a)({container:!0},r),{},{children:Object(F.jsx)(st.a,Object(N.a)(Object(N.a)({className:t.gridItem,item:!0},a),{},{children:e.children}))}))}))},pt=function(e,t){var r=Object(q.useSnackbar)().enqueueSnackbar;Object(s.useEffect)((function(){var a=0!==Object.keys(t).length;e>0&&a&&r("Formul\xe1rio inv\xe1lido. Reveja os campos marcados de vermelho.",{variant:"error"})}),[e,r,t])},bt=qe.d().shape({name:qe.f().label("Nome").required().max(255)}),jt=function(){var e=Object(nt.a)({validationSchema:bt,defaultValues:{is_active:!0}}),t=e.register,r=e.handleSubmit,a=e.getValues,n=e.setValue,c=e.errors,o=e.reset,i=e.watch,l=e.triggerValidation,u=e.formState;pt(u.submitCount,c);var d=Object(q.useSnackbar)().enqueueSnackbar,p=Object(Me.f)(),b=Object(Me.h)().id,j=Object(s.useState)(null),f=Object(m.a)(j,2),h=f[0],g=f[1],O=Object(s.useContext)(re);function x(e,t){return v.apply(this,arguments)}function v(){return(v=Object(E.a)(A.a.mark((function e(t,r){var a,n,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=h?Ze.update(b,t):Ze.create(t),e.next=4,a;case 4:n=e.sent,c=n.data,d("Categoria salva com sucesso",{variant:"success"}),setTimeout((function(){r?b?p.replace("/categories/".concat(c.data.id,"/edit")):p.push("/categories/".concat(c.data.id,"/edit")):p.push("/categories")})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),d("N\xe3o foi poss\xedvel gravar a categoria",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){t({name:"is_active"})}),[t]),Object(s.useEffect)((function(){var e=!0;if(b)return Object(E.a)(A.a.mark((function t(){var r,a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ze.get(b);case 3:r=t.sent,a=r.data,e&&(g(a.data),o(a.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),d("N\xe3o foi poss\xedvel encontrar a categoria: ".concat(b),{variant:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){e=!1}}),[b,o,d]),Object(F.jsxs)(dt,{GridItemProps:{xs:12,md:6},onSubmit:r(x),children:[Object(F.jsx)(je.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",inputRef:t,error:void 0!==c.name,disabled:O,helperText:c.name&&c.name.message,InputLabelProps:{shrink:!0}}),Object(F.jsx)(je.a,{name:"description",label:"Descri\xe7\xe3o",multiline:!0,rows:"4",fullWidth:!0,variant:"outlined",margin:"normal",inputRef:t,disabled:O,InputLabelProps:{shrink:!0}}),Object(F.jsx)(rt.a,{disabled:O,control:Object(F.jsx)(at.a,{name:"is_active",color:"primary",onChange:function(){return n("is_active",!a().is_active)},checked:i("is_active")}),label:"Ativo?",labelPlacement:"end"}),Object(F.jsx)(ot,{disabledButtons:O,handleSave:function(){return l().then((function(e){e&&x(a(),null)}))}})]})},ft=function(){var e=Object(Me.h)().id;return Object(F.jsx)(S,{title:e?"Editar categoria":"Criar categoria",children:Object(F.jsx)(jt,{})})},ht=new Xe(He,"cast_members"),mt={1:"Diretor",2:"Ator"},gt={thumb_file:"Thumbnail",banner_file:"Banner",trailer_file:"Trailer",video_file:"Principal"},Ot=Object.values(mt),xt=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",width:"43%",options:{filter:!1}},{name:"type",label:"Tipo",width:"4%",options:{filterOptions:{names:Ot},customBodyRender:function(e,t,r){return mt[e]}}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e,t,r){return Object(F.jsx)("span",{children:Object(_.a)(Object(M.a)(e),"dd/MM/yyyy")})}}},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t){return Object(F.jsx)(g.a,{color:"secondary",component:u.b,to:"/cast-members/".concat(t.rowData[0],"/edit"),children:Object(F.jsx)(L.a,{})})}}}],vt=[15,25,50],yt=function(){var e=Object(s.useRef)(!0),t=Object(s.useState)([]),r=Object(m.a)(t,2),a=r[0],n=r[1],o=Object(s.useContext)(re),i=Re(),l=i.openDeleteDialog,u=i.setOpenDeleteDialog,p=i.rowsToDelete,b=i.setRowsToDelete,j=Object(q.useSnackbar)().enqueueSnackbar,f=Object(s.useRef)(),h=Object(s.useMemo)((function(){return{createValidationsSchema:function(){return qe.d().shape({type:qe.f().nullable().transform((function(e){return e&&Ot.includes(e)?e:void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(N.a)({},e.extraFilter.type&&{type:e.extraFilter.type}):void 0},getStateFromURL:function(e){return{type:e.get("type")}}}}),[]),g=Ve({columns:xt,debouncedTime:300,rowsPerPage:15,rowsPerPageOptions:vt,tableRef:f,extraFilter:h}),O=g.columns,x=g.cleanSearchText,v=g.filterManager,y=g.filterState,C=g.debouncedFilterState,P=g.totalRecords,k=g.setTotalRecords,S=x(C.search),w=O.findIndex((function(e){return"type"===e.name})),T=O[w],R=y.extraFilter&&y.extraFilter.type;T.options.filterList=R?[R]:[];var I=Object(s.useCallback)(function(){var t=Object(E.a)(A.a.mark((function t(r){var a,c,o,i,s,d,p,b;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.search,c=r.page,o=r.per_page,i=r.sort,s=r.dir,d=r.type,t.prev=1,t.next=4,ht.list({queryParams:{search:a,page:c,per_page:o,sort:i,dir:s,type:d}});case 4:p=t.sent,b=p.data,e.current&&(n(b.data),k(b.meta.total),l&&u(!1)),t.next=15;break;case 9:if(t.prev=9,t.t0=t.catch(1),console.error(t.t0),!ht.isCancelledRequest(t.t0)){t.next=14;break}return t.abrupt("return");case 14:j("N\xe3o foi poss\xedvel encontrar as informa\xe7\xf5es",{variant:"error"});case 15:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),[j,l,u,k]);return Object(s.useEffect)((function(){return e.current=!0,I(Object(N.a)({search:S,page:C.pagination.page,per_page:C.pagination.per_page,sort:C.order.sort,dir:C.order.dir},C.extraFilter&&C.extraFilter.type&&{type:Object(ce.invert)(mt)[C.extraFilter.type]})),function(){e.current=!1}}),[I,S,C.pagination.page,C.pagination.per_page,C.order,C.extraFilter]),Object(F.jsxs)(c.a,{theme:Ce(xt.length-1),children:[Object(F.jsx)(te,{open:l,handleClose:function(e){if(e){var t=p.data.map((function(e){return a[e.index].id})).join(",");ht.deleteCollection({ids:t}).then((function(e){if(j("Registros exclu\xeddos com sucesso",{variant:"success"}),p.data.length===y.pagination.per_page&&y.pagination.page>1){var t=y.pagination.page-2;v.changePage(t)}else I(Object(N.a)({search:S,page:C.pagination.page,per_page:C.pagination.per_page,sort:C.order.sort,dir:C.order.dir},C.extraFilter&&C.extraFilter.type&&{type:Object(ce.invert)(mt)[C.extraFilter.type]}))}))}else u(!1)}}),Object(F.jsx)(ye,{title:"",columns:O,data:a,loading:o,debouncedSearchTime:300,ref:f,options:{serverSide:!0,searchText:y.search,page:y.pagination.page-1,rowsPerPage:y.pagination.per_page,rowsPerPageOptions:vt,count:P,onFilterChange:function(e,t,r){var a=e||"type",n=O.findIndex((function(e){return e.name===a}));v.changeExtraFilter(Object(d.a)({},a,t[n].length?t[n][0]:null))},customToolbar:function(){return Object(F.jsx)(Te,{handleClick:function(){v.resetFilter()}})},onSearchChange:function(e){return v.changeSearch(e)},onChangePage:function(e){return v.changePage(e)},onChangeRowsPerPage:function(e){return v.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return v.changeColumnSort(e,t)},onRowsDelete:function(e,t){return b(e),!1}}})]})},Ct=function(){return Object(F.jsxs)(S,{title:"Listagem membros de elencos",children:[Object(F.jsx)(i.a,{dir:"rtl",paddingBottom:2,children:Object(F.jsx)(T.a,{title:"Adicionar membro de elencos",color:"secondary",size:"small",component:u.b,to:"/cast-members/create",children:Object(F.jsx)(I.a,{})})}),Object(F.jsx)(i.a,{children:Object(F.jsx)(yt,{})})]})},Pt=r(916),Ft=r(282),kt=r(913),St=r(952),wt=r(969),Tt=qe.d().shape({name:qe.f().label("Nome").required().max(255),type:qe.c().label("Tipo").required()}),Rt=function(){var e=Object(nt.a)({validationSchema:Tt}),t=e.register,r=e.handleSubmit,a=e.getValues,n=e.setValue,c=e.errors,o=e.reset,i=e.watch,l=e.triggerValidation,u=e.formState;pt(u.submitCount,c);var d=Object(q.useSnackbar)().enqueueSnackbar,p=Object(Me.h)().id,b=Object(s.useState)(null),j=Object(m.a)(b,2),f=j[0],h=j[1],g=s.useContext(re),O=Object(Me.f)();function x(e,t){return v.apply(this,arguments)}function v(){return(v=Object(E.a)(A.a.mark((function e(t,r){var a,n,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=f?ht.update(p,t):ht.create(t),e.next=4,a;case 4:n=e.sent,c=n.data,d("Membro de elenco salvo com sucesso",{variant:"success"}),setTimeout((function(){r?p?O.replace("/cast-members/".concat(c.data.id,"/edit")):O.push("/cast-members/".concat(c.data.id,"/edit")):O.push("/cast-members")})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),d("N\xe3o foi poss\xedvel gravar o membro de elenco",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){t({name:"type"})}),[t]),Object(s.useEffect)((function(){var e=!0;if(p)return Object(E.a)(A.a.mark((function t(){var r,a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ht.get(p);case 3:r=t.sent,a=r.data,e&&(h(a.data),o(a.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),d("Erro ao obter membro de elenco para edi\xe7\xe3o: ".concat(p),{variant:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){e=!1}}),[p,o,d]),Object(F.jsxs)(dt,{GridItemProps:{xs:12,md:6},onSubmit:r(x),children:[Object(F.jsx)(je.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",inputRef:t,error:void 0!==c.name,helperText:c.name&&c.name.message,InputLabelProps:{shrink:!0},disabled:g}),Object(F.jsxs)(Ft.a,{margin:"normal",error:void 0!==c.type,disabled:g,children:[Object(F.jsx)(kt.a,{component:"legend",children:"Tipo"}),Object(F.jsxs)(St.a,{name:"type",onChange:function(e){n("type",parseInt(e.target.value))},value:i("type")+"",children:[Object(F.jsx)(rt.a,{value:"1",control:Object(F.jsx)(wt.a,{}),label:"Diretor"}),Object(F.jsx)(rt.a,{value:"2",control:Object(F.jsx)(wt.a,{}),label:"Ator"})]}),c.type&&Object(F.jsx)(Pt.a,{children:c.type.message})]}),Object(F.jsx)(ot,{disabledButtons:g,handleSave:function(){return l().then((function(e){e&&x(a(),null)}))}})]})},It=function(){var e=Object(Me.h)().id;return Object(F.jsx)(S,{title:e?"Editar membro de elenco":"Criar membro de elenco",children:Object(F.jsx)(Rt,{})})},Dt=new Xe(He,"genres"),At=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",width:"10%",options:{filter:!1}},{name:"categories",label:"Categorias",width:"33%",options:{filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e,t,r){return e?e.map((function(e){return e.name})).join(", "):null}}},{name:"is_active",label:"Ativo?",width:"4%",options:{filter:!1,customBodyRender:function(e,t,r){return e?Object(F.jsx)(Q,{}):Object(F.jsx)(X,{})}}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e,t,r){return Object(F.jsx)("span",{children:Object(_.a)(Object(M.a)(e),"dd/MM/yyyy")})}}},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t){return Object(F.jsx)(g.a,{color:"secondary",component:u.b,to:"/genres/".concat(t.rowData[0],"/edit"),children:Object(F.jsx)(L.a,{})})}}}],Et=[15,25,50],Nt=function(){var e=Object(s.useRef)(!0),t=Object(s.useState)([]),r=Object(m.a)(t,2),a=r[0],n=r[1],o=Object(s.useContext)(re),i=Re(),l=i.openDeleteDialog,u=i.setOpenDeleteDialog,p=i.rowsToDelete,b=i.setRowsToDelete,j=Object(q.useSnackbar)().enqueueSnackbar,f=Object(s.useRef)(),h=Object(s.useMemo)((function(){return{createValidationsSchema:function(){return qe.d().shape({categories:qe.b().nullable().transform((function(e){return e&&""!==e?e.split(","):void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(N.a)({},e.extraFilter.categories&&{categories:e.extraFilter.categories.join(",")}):void 0},getStateFromURL:function(e){return{categories:e.get("categories")}}}}),[]),g=Ve({columns:At,debouncedTime:300,rowsPerPage:15,rowsPerPageOptions:Et,tableRef:f,extraFilter:h}),O=g.columns,x=g.cleanSearchText,v=g.filterManager,y=g.filterState,C=g.debouncedFilterState,P=g.totalRecords,k=g.setTotalRecords,S=x(C.search),w=O.findIndex((function(e){return"categories"===e.name})),T=O[w],R=y.extraFilter&&y.extraFilter.categories;T.options.filterList=R||[];var I=Object(s.useCallback)(function(){var t=Object(E.a)(A.a.mark((function t(r){var a,c,o,i,s,d,p,b;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.search,c=r.page,o=r.per_page,i=r.sort,s=r.dir,d=r.categories,t.prev=1,t.next=4,Dt.list({queryParams:{search:a,page:c,per_page:o,sort:i,dir:s,categories:d}});case 4:p=t.sent,b=p.data,e.current&&(n(b.data),k(b.meta.total),l&&u(!1)),t.next=15;break;case 9:if(t.prev=9,t.t0=t.catch(1),console.error(t.t0),!Dt.isCancelledRequest(t.t0)){t.next=14;break}return t.abrupt("return");case 14:j("N\xe3o foi poss\xedvel encontrar as informa\xe7\xf5es",{variant:"error"});case 15:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),[j,l,u,k]);return Object(s.useEffect)((function(){var e=!0;return Object(E.a)(A.a.mark((function t(){var r,a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ze.list({queryParams:{all:""}});case 3:r=t.sent,a=r.data,e&&(T.options.filterOptions.names=a.data.map((function(e){return e.name}))),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),j("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){e=!1}}),[T.options,j]),Object(s.useEffect)((function(){return e.current=!0,I(Object(N.a)({search:S,page:C.pagination.page,per_page:C.pagination.per_page,sort:C.order.sort,dir:C.order.dir},C.extraFilter&&C.extraFilter.categories&&{categories:C.extraFilter.categories.join(",")})),function(){e.current=!1}}),[I,S,C.pagination.page,C.pagination.per_page,C.order,C.extraFilter]),Object(F.jsxs)(c.a,{theme:Ce(At.length-1),children:[Object(F.jsx)(te,{open:l,handleClose:function(e){if(e){var t=p.data.map((function(e){return a[e.index].id})).join(",");Dt.deleteCollection({ids:t}).then((function(e){if(j("Registros exclu\xeddos com sucesso",{variant:"success"}),p.data.length===y.pagination.per_page&&y.pagination.page>1){var t=y.pagination.page-2;v.changePage(t)}else I(Object(N.a)({search:S,page:C.pagination.page,per_page:C.pagination.per_page,sort:C.order.sort,dir:C.order.dir},C.extraFilter&&C.extraFilter.categories&&{categories:C.extraFilter.categories.join(",")}))}))}else u(!1)}}),Object(F.jsx)(ye,{title:"",columns:O,data:a,loading:o,debouncedSearchTime:300,ref:f,options:{serverSide:!0,searchText:y.search,page:y.pagination.page-1,rowsPerPage:y.pagination.per_page,rowsPerPageOptions:Et,count:P,onFilterChange:function(e,t,r){var a=e||"categories",n=O.findIndex((function(e){return e.name===a}));v.changeExtraFilter(Object(d.a)({},a,t[n].length?t[n]:null))},customToolbar:function(){return Object(F.jsx)(Te,{handleClick:function(){v.resetFilter()}})},onSearchChange:function(e){return v.changeSearch(e)},onChangePage:function(e){return v.changePage(e)},onChangeRowsPerPage:function(e){return v.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return v.changeColumnSort(e,t)},onRowsDelete:function(e,t){return b(e),!1}}})]})},Bt=function(){return Object(F.jsxs)(S,{title:"Listagem de g\xeaneros",children:[Object(F.jsx)(i.a,{dir:"rtl",paddingBottom:2,children:Object(F.jsx)(T.a,{title:"Adicionar g\xeanero",color:"secondary",size:"small",component:u.b,to:"/genres/create",children:Object(F.jsx)(I.a,{})})}),Object(F.jsx)(i.a,{children:Object(F.jsx)(Nt,{})})]})},Lt=qe.d().shape({name:qe.f().label("Nome").required().max(255),categories_id:qe.a().label("Categorias").required().min(1)}),_t=function(){var e=Object(nt.a)({validationSchema:Lt,defaultValues:{categories_id:[]}}),t=e.register,r=e.handleSubmit,a=e.getValues,n=e.setValue,c=e.watch,o=e.errors,i=e.reset,l=e.triggerValidation,u=e.formState;pt(u.submitCount,o);var d=Object(q.useSnackbar)().enqueueSnackbar,p=Object(Me.f)(),b=Object(s.useState)([]),j=Object(m.a)(b,2),f=j[0],h=j[1],g=Object(Me.h)().id,O=Object(s.useState)(null),v=Object(m.a)(O,2),y=v[0],C=v[1],P=s.useContext(re);function k(e,t){(y?Dt.update(g,e):Dt.create(e)).then((function(e){var r=e.data;d("G\xeanero salvo com sucesso",{variant:"success"}),setTimeout((function(){t?g?p.replace("/genres/".concat(r.data.id,"/edit")):p.push("/genres/".concat(r.data.id,"/edit")):p.push("/genres")}))})).catch((function(e){console.log("onSubmit: ",e),d("N\xe3o foi poss\xedvel gravar o g\xeanero",{variant:"error"})}))}return Object(s.useEffect)((function(){var e=!0;return Object(E.a)(A.a.mark((function t(){var r,a,n,c,o,s;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[Ze.list({queryParams:{all:""}})],g&&r.push(Dt.get(g)),t.prev=2,t.next=5,Promise.all(r);case 5:a=t.sent,n=Object(m.a)(a,2),c=n[0],o=n[1],e&&h(c.data.data),g&&e&&(C(o.data.data),s=o.data.data.categories.map((function(e){return e.id})),i(Object(N.a)(Object(N.a)({},o.data.data),{},{categories_id:s}))),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),console.error(t.t0),d("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 17:case"end":return t.stop()}}),t,null,[[2,13]])})))(),function(){e=!1}}),[g,i,d]),Object(s.useEffect)((function(){t({name:"categories_id"})}),[t]),Object(F.jsxs)(dt,{GridItemProps:{xs:12,md:6},onSubmit:r(k),children:[Object(F.jsx)(je.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",inputRef:t,error:void 0!==o.name,disabled:P,helperText:o.name&&o.name.message,InputLabelProps:{shrink:!0}}),Object(F.jsxs)(je.a,{select:!0,name:"categories_id",value:c("categories_id"),label:"Categorias",margin:"normal",variant:"outlined",fullWidth:!0,disabled:P,onChange:function(e){n("categories_id",e.target.value)},SelectProps:{multiple:!0},error:void 0!==o.categories_id,helperText:o.categories_id&&o.categories_id.message,InputLabelProps:{shrink:!0},children:[Object(F.jsx)(x.a,{value:"",disabled:!0,children:Object(F.jsx)("em",{children:"Selecione categorias"})}),f.map((function(e,t){return Object(F.jsx)(x.a,{value:e.id,children:e.name},t)}))]}),Object(F.jsx)(ot,{disabledButtons:P,handleSave:function(){return l().then((function(e){e&&k(a(),null)}))}})]})},Mt=function(){var e=Object(Me.h)();return Object(F.jsx)(S,{title:e?"Editar G\xeanero":"Criar g\xeanero",children:Object(F.jsx)(_t,{})})},qt=new Xe(He,"videos"),Vt=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"title",label:"T\xedtulo",width:"20%",options:{filter:!1}},{name:"genres",label:"G\xeaneros",width:"15%",options:{filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e,t,r){return e?e.map((function(e){return e.name})).join(", "):null}}},{name:"categories",label:"Categorias",width:"12%",options:{filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e,t,r){return e?e.map((function(e){return e.name})).join(", "):null}}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e,t,r){return Object(F.jsx)("span",{children:Object(_.a)(Object(M.a)(e),"dd/MM/yyyy")})}}},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t){return Object(F.jsx)(g.a,{color:"secondary",component:u.b,to:"/videos/".concat(t.rowData[0],"/edit"),children:Object(F.jsx)(L.a,{})})}}}],Ut=[15,25,50],zt=function(){var e=Object(s.useRef)(!0),t=Object(s.useState)([]),r=Object(m.a)(t,2),a=r[0],n=r[1],o=Object(s.useContext)(re),i=Object(q.useSnackbar)().enqueueSnackbar,l=Re(),u=l.openDeleteDialog,p=l.setOpenDeleteDialog,b=l.rowsToDelete,j=l.setRowsToDelete,f=Object(s.useRef)(),h=Object(s.useMemo)((function(){return{createValidationsSchema:function(){return qe.d().shape({categories:qe.b().nullable().transform((function(e){return e&&""!==e?e.split(","):void 0})).default(null),genres:qe.b().nullable().transform((function(e){return e&&""!==e?e.split(","):void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(N.a)(Object(N.a)({},e.extraFilter.categories&&{categories:e.extraFilter.categories.join(",")}),e.extraFilter.genres&&{genres:e.extraFilter.genres.join(",")}):void 0},getStateFromURL:function(e){return{categories:e.get("categories"),genres:e.get("genres")}}}}),[]),g=Ve({columns:Vt,debouncedTime:300,rowsPerPage:15,rowsPerPageOptions:Ut,tableRef:f,extraFilter:h}),O=g.columns,x=g.cleanSearchText,v=g.filterManager,y=g.filterState,C=g.debouncedFilterState,P=g.totalRecords,k=g.setTotalRecords,S=x(C.search),w=O.findIndex((function(e){return"categories"===e.name})),T=O[w],R=y.extraFilter&&y.extraFilter.categories;T.options.filterList=R||[];var I=O.findIndex((function(e){return"genres"===e.name})),D=O[I],B=y.extraFilter&&y.extraFilter.genres;D.options.filterList=B||[];var L=Object(s.useCallback)(function(){var t=Object(E.a)(A.a.mark((function t(r){var a,c,o,s,l,d,b,j,f;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.search,c=r.page,o=r.per_page,s=r.sort,l=r.dir,d=r.categories,b=r.genres,t.prev=1,t.next=4,qt.list({queryParams:{search:a,page:c,per_page:o,sort:s,dir:l,categories:d,genres:b}});case 4:j=t.sent,f=j.data,e.current&&(n(f.data),k(f.meta.total),u&&p(!1)),t.next=15;break;case 9:if(t.prev=9,t.t0=t.catch(1),console.error(t.t0),!qt.isCancelledRequest(t.t0)){t.next=14;break}return t.abrupt("return");case 14:i("N\xe3o foi poss\xedvel encontrar as informa\xe7\xf5es",{variant:"error"});case 15:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),[i,u,p,k]);return Object(s.useEffect)((function(){var e=!0;return Object(E.a)(A.a.mark((function t(){var r,a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ze.list({queryParams:{all:""}});case 3:r=t.sent,a=r.data,e&&(T.options.filterOptions.names=a.data.map((function(e){return e.name}))),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),i("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){e=!1}}),[T,i]),Object(s.useEffect)((function(){var e=!0;return Object(E.a)(A.a.mark((function t(){var r,a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Dt.list({queryParams:{all:""}});case 3:r=t.sent,a=r.data,e&&(D.options.filterOptions.names=a.data.map((function(e){return e.name}))),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),i("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){e=!1}}),[D.options,i]),Object(s.useEffect)((function(){return e.current=!0,L(Object(N.a)(Object(N.a)({search:S,page:C.pagination.page,per_page:C.pagination.per_page,sort:C.order.sort,dir:C.order.dir},C.extraFilter&&C.extraFilter.categories&&{categories:C.extraFilter.categories.join(",")}),C.extraFilter&&C.extraFilter.genres&&{genres:C.extraFilter.genres.join(",")})),function(){e.current=!1}}),[L,S,C.pagination.page,C.pagination.per_page,C.order,C.extraFilter]),Object(F.jsxs)(c.a,{theme:Ce(Vt.length-1),children:[Object(F.jsx)(te,{open:u,handleClose:function(e){if(e){var t=b.data.map((function(e){return a[e.index].id})).join(",");qt.deleteCollection({ids:t}).then((function(e){if(i("Registros exclu\xeddos com sucesso",{variant:"success"}),b.data.length===y.pagination.per_page&&y.pagination.page>1){var t=y.pagination.page-2;v.changePage(t)}else L(Object(N.a)(Object(N.a)({search:S,page:C.pagination.page,per_page:C.pagination.per_page,sort:C.order.sort,dir:C.order.dir},C.extraFilter&&C.extraFilter.categories&&{categories:C.extraFilter.categories.join(",")}),C.extraFilter&&C.extraFilter.genres&&{genres:C.extraFilter.genres.join(",")}))}))}else p(!1)}}),Object(F.jsx)(ye,{title:"",columns:O,data:a,loading:o,debouncedSearchTime:300,ref:f,options:{serverSide:!0,searchText:y.search,page:y.pagination.page-1,rowsPerPage:y.pagination.per_page,rowsPerPageOptions:Ut,count:P,onFilterChange:function(e,t,r){var a=e||"categories",n=O.findIndex((function(e){return e.name===a}));v.changeExtraFilter(Object(d.a)({},a,t[n].length?t[n]:null))},customToolbar:function(){return Object(F.jsx)(Te,{handleClick:function(){v.resetFilter()}})},onSearchChange:function(e){return v.changeSearch(e)},onChangePage:function(e){return v.changePage(e)},onChangeRowsPerPage:function(e){return v.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return v.changeColumnSort(e,t)},onRowsDelete:function(e,t){return j(e),!1}}})]})},Gt=function(){return Object(F.jsxs)(S,{title:"Listagem v\xeddeos",children:[Object(F.jsx)(i.a,{dir:"rtl",paddingBottom:2,children:Object(F.jsx)(T.a,{title:"Adicionar v\xeddeo",color:"secondary",size:"small",component:u.b,to:"/videos/create",children:Object(F.jsx)(I.a,{})})}),Object(F.jsx)(i.a,{children:Object(F.jsx)(zt,{})})]})},Wt=r(22),Ht=r(44),Yt=r(957),Qt=r(960),Xt=r(80),Zt=r(958),Kt=r(298),Jt=r(949),$t=r(226),er=r.n($t),tr=r(167),rr=r.n(tr),ar=r(166),nr=r.n(ar),cr=r(914),or=r(955),ir=r(347),sr=r(956),lr=r(225),ur=r.n(lr);function dr(e){return 1===e.progress||pr(e)}function pr(e){return br(e)?e.files.some((function(e){return e.error})):void 0!==e.error}function br(e){return"video"in e}var jr,fr=r(944),hr=r(953),mr=r(232),gr=Object(p.a)((function(e){return{progressContainer:{position:"relative"},progressBackground:{color:mr.a[300]},progress:{position:"absolute",left:0}}})),Or=function(e){var t=e.uploadOrFile,r=e.size,a=gr(),n=pr(t);return Object(F.jsx)(fr.a,{in:t.progress<1,timeout:{enter:100,exit:2e3},children:Object(F.jsxs)("div",{className:a.progressContainer,children:[Object(F.jsx)(hr.a,{className:a.progressBackground,variant:"static",value:100,size:r}),Object(F.jsx)(hr.a,{className:a.progress,variant:"static",value:n?0:100*t.progress,size:r})]})})},xr=r(954),vr=r(223),yr=r.n(vr),Cr=r(224),Pr=r.n(Cr),Fr=r(123),kr=r.n(Fr),Sr=r(172),wr=r.n(Sr),Tr=Object(Ie.createActions)({addUpload:["payload"],removeUpload:["payload"],updateProgress:["payload"],setUploadError:["payload"]}),Rr=Tr.Types,Ir=Tr.Creators,Dr={uploads:[]},Ar=Object(Ie.createReducer)(Dr,(jr={},Object(d.a)(jr,Rr.ADD_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr,t=arguments.length>1?arguments[1]:void 0;if(!t.payload.files.length)return e;var r=Lr(e,t.payload.video.id);if(-1!==r&&e.uploads[r].progress<1)return e;var a=-1===r?e.uploads:wr()(e.uploads,{$splice:[[r,1]]});return{uploads:[].concat(Object(Wt.a)(a),[{video:t.payload.video,progress:0,files:t.payload.files.map((function(e){return{fileField:e.fileField,filename:e.file.name,progress:0}}))}])}})),Object(d.a)(jr,Rr.REMOVE_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr,t=arguments.length>1?arguments[1]:void 0,r=e.uploads.filter((function(e){return e.video.id!==t.payload.id}));if(r.length===e.uploads.length)return e;return{uploads:r}})),Object(d.a)(jr,Rr.UPDATE_PROGRESS,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr,t=arguments.length>1?arguments[1]:void 0,r=t.payload.video.id,a=t.payload.fileField,n=Nr(e,r,a),c=n.indexUpload,o=n.indexFile;if("undefined"===typeof c||"undefined"===typeof o)return e;var i=e.uploads[c],s=i.files[o];if(s.progress===t.payload.progress)return e;var l=wr()(e.uploads,Object(d.a)({},c,{$apply:function(e){var r=wr()(e.files,Object(d.a)({},o,{$set:Object(N.a)(Object(N.a)({},s),{},{progress:t.payload.progress})})),a=Br(r);return console.log("==>> updateProgess: ",Object(N.a)(Object(N.a)({},e),{},{progress:a,files:r})),Object(N.a)(Object(N.a)({},e),{},{progress:a,files:r})}}));return{uploads:l}})),Object(d.a)(jr,Rr.SET_UPLOAD_ERROR,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr,t=arguments.length>1?arguments[1]:void 0,r=t.payload.video.id,a=t.payload.fileField,n=Nr(e,r,a),c=n.indexUpload,o=n.indexFile;if("undefined"===typeof c||"undefined"===typeof o)return e;var i=e.uploads[c],s=i.files[o],l=wr()(e.uploads,Object(d.a)({},c,{files:Object(d.a)({},o,{$set:Object(N.a)(Object(N.a)({},s),{},{error:t.payload.error,progress:1})})}));return{uploads:l}})),jr)),Er=Ar;function Nr(e,t,r){var a=Lr(e,t);if(-1===a)return{};var n=function(e,t){return e.findIndex((function(e){return e.fileField===t}))}(e.uploads[a].files,r);return-1===n?{}:{indexUpload:a,indexFile:n}}function Br(e){var t=e.length;return t?e.reduce((function(e,t){return e+t.progress}),0)/t:0}function Lr(e,t){return e.uploads.findIndex((function(e){return e.video.id===t}))}var _r=r(222),Mr=Object(p.a)((function(e){return{successIcon:{color:e.palette.success.main},errorIcon:{color:e.palette.error.main}}})),qr=function(e){var t=e.upload,r=e.hover,a=Mr(),n=Object(Xt.b)(),c=pr(t),o=Object(s.useState)(!1),i=Object(m.a)(o,2),l=i[0],u=i[1],d=Object(_r.useDebounce)(l,2500),p=Object(m.a)(d,1)[0];return Object(s.useEffect)((function(){u(dr(t))}),[t]),p?Object(F.jsx)(fr.a,{in:l,timeout:{enter:1e3},children:Object(F.jsxs)(xr.a,{children:[Object(F.jsxs)("span",{hidden:r,children:[1===t.progress&&!c&&Object(F.jsx)(g.a,{className:a.successIcon,edge:"end",children:Object(F.jsx)(yr.a,{})}),c&&Object(F.jsx)(g.a,{className:a.errorIcon,edge:"end",children:Object(F.jsx)(Pr.a,{})})]}),Object(F.jsx)("span",{hidden:!r,children:Object(F.jsx)(g.a,{color:"primary",edge:"end",onClick:function(){return n(Ir.removeUpload({id:t.video.id}))},children:Object(F.jsx)(kr.a,{})})})]})}):null},Vr=Object(p.a)((function(e){return{listItem:{paddingTop:"7px",paddingBottom:"7px",height:"53px"},movieIcon:{color:e.palette.error.main,minWidth:"40px"},listItemText:{marginLeft:"6px",marginRight:"24px",color:e.palette.text.secondary}}})),Ur=function(e){var t=e.upload,r=Vr(),a=pr(t),n=Object(s.useState)(!1),c=Object(m.a)(n,2),o=c[0],i=c[1];return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Fe.a,{disableFocusListener:!0,disableTouchListener:!0,title:a?"N\xe3o foi poss\xedvel fazer o upload, clique para mais detalhes":"",placement:"left",children:Object(F.jsxs)(cr.a,{className:r.listItem,button:!0,onMouseOver:function(){return i(!0)},onMouseLeave:function(){return i(!1)},children:[Object(F.jsx)(or.a,{className:r.movieIcon,children:Object(F.jsx)(ur.a,{})}),Object(F.jsx)(ir.a,{className:r.listItemText,primary:Object(F.jsx)(f.a,{noWrap:!0,variant:"subtitle2",color:"inherit",children:t.video.title})}),Object(F.jsx)(Or,{size:30,uploadOrFile:t}),Object(F.jsx)(qr,{upload:t,hover:o})]})}),Object(F.jsx)(sr.a,{component:"li"})]})},zr=Object(p.a)((function(e){return{card:{width:450},cardActionRoot:{padding:"8px 8px 8px 16px",backgroundColor:e.palette.primary.main},title:{fontSize:"bold",color:e.palette.primary.contrastText},icons:{marginLeft:"auto !important",color:e.palette.primary.contrastText},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},list:{paddingTop:0,paddingBottom:0}}})),Gr=l.a.forwardRef((function(e,t){var r=e.id,a=zr(),n=Object(q.useSnackbar)().closeSnackbar,c=Object(s.useState)(!0),o=Object(m.a)(c,2),i=o[0],l=o[1],u=Object(Xt.c)((function(e){return e.upload.uploads})),p=function(e){return e.filter((function(e){return!dr(e)})).length}(u);return Object(F.jsxs)(Yt.a,{ref:t,className:a.card,children:[Object(F.jsxs)(Zt.a,{classes:{root:a.cardActionRoot},children:[Object(F.jsxs)(f.a,{variant:"subtitle2",className:a.title,children:["Fazendo upload de ",p," v\xeddeo(s)"]}),Object(F.jsxs)("div",{className:a.icons,children:[Object(F.jsx)(g.a,{color:"inherit",onClick:function(){return l(!i)},className:nr()(a.expand,Object(d.a)({},a.expandOpen,!i)),children:Object(F.jsx)(er.a,{})}),Object(F.jsx)(g.a,{color:"inherit",onClick:function(){return n(r)},children:Object(F.jsx)(rr.a,{})})]})]}),Object(F.jsx)(Kt.a,{in:i,children:Object(F.jsx)(Jt.a,{className:a.list,children:u.map((function(e,t){return Object(F.jsx)(Ur,{upload:e},t)}))})})]})})),Wr=Object(p.a)((function(e){return{root:{backgroundColor:"#f1f1f1",borderRadius:"4px",padding:e.spacing(1,1),color:e.palette.secondary.main}}})),Hr=function(e){var t=Wr();return Object(F.jsx)(st.a,Object(N.a)(Object(N.a)({container:!0,wrap:"wrap",className:t.root},e),{},{children:e.children}))},Yr=["onDelete","children"],Qr=function(e){var t=e.onDelete,r=e.children,a=Object(it.a)(e,Yr);return Object(F.jsx)(st.a,Object(N.a)(Object(N.a)({item:!0},a),{},{children:Object(F.jsxs)(st.a,{container:!0,alignItems:"center",spacing:3,children:[Object(F.jsx)(st.a,{item:!0,xs:1,children:Object(F.jsx)(g.a,{size:"small",color:"inherit",onClick:t,children:Object(F.jsx)(kr.a,{})})}),Object(F.jsx)(st.a,{item:!0,xs:10,md:11,children:r})]})}))},Xr=r(968),Zr=l.a.forwardRef((function(e,t){var r=e.AutocompleteProps,a=e.debouncedTime,n=void 0===a?300:a,c=e.fetchOptions,o=r,i=o.freeSolo,l=void 0!==i&&i,u=o.onOpen,d=o.onClose,p=o.onInputChange,b=Object(s.useState)(!1),j=Object(m.a)(b,2),f=j[0],h=j[1],g=Object(s.useState)(""),O=Object(m.a)(g,2),x=O[0],v=O[1],y=Object(_e.a)(x,n),C=Object(m.a)(y,1)[0],P=Object(s.useState)(!1),k=Object(m.a)(P,2),S=k[0],w=k[1],T=Object(s.useState)([]),R=Object(m.a)(T,2),I=R[0],D=R[1],B=Object(N.a)({margin:"normal",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0}},e.TextFieldProps&&Object(N.a)({},e.TextFieldProps)),L=Object(N.a)(Object(N.a)({loadingText:"Carregando...",noOptionsText:"Nenhum item encontrado"},r&&Object(N.a)({},r)),{},{open:f,options:I,loading:S,inputValue:x,onOpen:function(e){h(!0),u&&u(e)},onClose:function(e){h(!1),d&&d(e)},onInputChange:function(e,t,r){v(t),p&&p(e,t,r)},renderInput:function(e){return Object(F.jsx)(je.a,Object(N.a)(Object(N.a)(Object(N.a)({},e),B),{},{InputProps:Object(N.a)(Object(N.a)({},e.InputProps),{},{endAdornment:Object(F.jsxs)(F.Fragment,{children:[S&&Object(F.jsx)(hr.a,{color:"inherit",size:20}),e.InputProps.endAdornment]})})}))}});return Object(s.useEffect)((function(){f||l||D([])}),[f,l]),Object(s.useEffect)((function(){if(f&&(""!==C||!l)){var e=!0;return Object(E.a)(A.a.mark((function t(){var r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(!0),t.prev=1,t.next=4,c(C);case 4:r=t.sent,e&&D(r);case 6:return t.prev=6,w(!1),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[1,,6,9]])})))(),function(){e=!1}}}),[l,C,f,c]),Object(s.useImperativeHandle)(t,(function(){return{clear:function(){v(""),D([])}}})),Object(F.jsx)(Xr.a,Object(N.a)({},L))})),Kr=function(e,t){var r=Object(q.useSnackbar)().enqueueSnackbar;return{addItem:function(a){a&&""!==a&&(e.find((function(e){return e.id===a.id}))?r("Item j\xe1 adicionado",{variant:"info"}):(e.unshift(a),t(e)))},removeItem:function(r){var a=e.findIndex((function(e){return e.id===r.id}));-1!==a&&(e.splice(a,1),t(e))}}},Jr=function(){var e=Object(q.useSnackbar)().enqueueSnackbar;return Object(s.useCallback)(function(){var t=Object(E.a)(A.a.mark((function t(r){var a,n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r;case 3:return a=t.sent,n=a.data,t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(0),console.error(t.t0),We.a.isCancel(t.t0)||e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),[e])},$r=l.a.forwardRef((function(e,t){var r=e.castMembers,a=e.setCastMembers,n=e.error,c=e.disabled,o=Jr(),i=Kr(r,a),l=i.addItem,u=i.removeItem,d=Object(s.useRef)(),p=Object(s.useCallback)((function(e){return o(ht.list({queryParams:{search:e,all:"",sort:"name",dir:"asc"}})).then((function(e){return e.data}))}),[o]);return Object(s.useImperativeHandle)(t,(function(){return{clear:function(){return d.current.clear()}}})),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Zr,{ref:d,fetchOptions:p,AutocompleteProps:{clearOnEscape:!0,freeSolo:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},onChange:function(e,t){return l(t)},disabled:c},TextFieldProps:{label:"Membros de elencos",error:void 0!==n}}),Object(F.jsxs)(Ft.a,Object(N.a)(Object(N.a)({margin:"normal",fullWidth:!0,error:void 0!==n,disabled:!0===c},e.FormControlProps),{},{children:[Object(F.jsx)(Hr,{children:r.map((function(e,t){return Object(F.jsx)(Qr,{onDelete:function(){return u(e)},xs:6,children:Object(F.jsx)(f.a,{noWrap:!0,children:e.name})},t)}))}),n&&Object(F.jsx)(Pt.a,{children:n.message})]}))]})}));function ea(e,t){return e.filter((function(e){return 0!==e.categories.filter((function(e){return e.id===t.id})).length}))}var ta=Object(p.a)((function(e){return{genresSubtitle:{color:mr.a[800],fontSize:"0.8rem"}}})),ra=l.a.forwardRef((function(e,t){var r=e.categories,a=e.setCategories,n=e.genres,c=e.error,o=e.disabled,i=ta(),l=Jr(),u=Kr(r,a),d=u.addItem,p=u.removeItem,b=Object(s.useRef)(),j=Object(Ht.a)(),h=Object(s.useCallback)((function(e){return l(Ze.list({queryParams:{genres:n.map((function(e){return e.id})).join(","),all:""}})).then((function(e){return e.data}))}),[l,n]);return Object(s.useImperativeHandle)(t,(function(){return{clear:function(){return b.current.clear()}}})),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Zr,{ref:b,fetchOptions:h,AutocompleteProps:{clearOnEscape:!0,freeSolo:!1,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},onChange:function(e,t){return d(t)},disabled:!0===o||!n.length},TextFieldProps:{label:"Categorias",error:void 0!==c}}),Object(F.jsx)(Pt.a,{style:{height:j.spacing(3)},children:"Escolha pelo menos uma categoria de cada g\xeanero"}),Object(F.jsxs)(Ft.a,Object(N.a)(Object(N.a)({margin:"normal",fullWidth:!0,error:void 0!==c,disabled:!0===o},e.FormControlProps),{},{children:[Object(F.jsx)(Hr,{children:r.map((function(e,t){var r=ea(n,e).map((function(e){return e.name})).join(",");return Object(F.jsxs)(Qr,{onDelete:function(){return p(e)},xs:12,children:[Object(F.jsx)(f.a,{noWrap:!0,children:e.name}),Object(F.jsxs)(f.a,{noWrap:!0,className:i.genresSubtitle,children:["G\xeaneros: ",r]})]},t)}))}),c&&Object(F.jsx)(Pt.a,{children:c.message})]}))]})})),aa=l.a.forwardRef((function(e,t){var r=e.genres,a=e.setGenres,n=e.categories,c=e.setCategories,o=e.error,i=e.disabled,l=Jr(),u=Kr(r,a),d=u.addItem,p=u.removeItem,b=Object(s.useRef)(),j=Kr(n,c).removeItem,h=Object(Ht.a)(),m=Object(s.useCallback)((function(e){return l(Dt.list({queryParams:{search:e,all:""}})).then((function(e){return e.data}))}),[l]);return Object(s.useImperativeHandle)(t,(function(){return{clear:function(){return b.current.clear()}}})),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Zr,{ref:b,fetchOptions:m,AutocompleteProps:{clearOnEscape:!0,freeSolo:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},onChange:function(e,t){return d(t)},disabled:i},TextFieldProps:{label:"G\xeaneros",error:void 0!==o}}),Object(F.jsx)(Pt.a,{style:{height:h.spacing(3)},children:"Escolha os g\xeaneros do v\xeddeo"}),Object(F.jsxs)(Ft.a,Object(N.a)(Object(N.a)({margin:"normal",fullWidth:!0,error:void 0!==o,disabled:!0===i},e.FormControlProps),{},{children:[Object(F.jsx)(Hr,{children:r.map((function(e,t){return Object(F.jsx)(Qr,{onDelete:function(){n.filter((function(t){var a=ea(r,t);return 1===a.length&&a[0].id===e.id})).forEach((function(e){return j(e)})),p(e)},xs:12,children:Object(F.jsx)(f.a,{noWrap:!0,children:e.name})},t)}))}),o&&Object(F.jsx)(Pt.a,{children:o.message})]}))]})})),na=Object(p.a)({root:{width:"36px",height:"36px",fontSize:"1.2em",color:"#fff",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"}}),ca={L:"#39B549",10:"#20A3D4",12:"#E79738",14:"#E35E00",16:"#d00003",18:"#000000"},oa=function(e){var t=na();return Object(F.jsx)(f.a,{className:t.root,style:{backgroundColor:ca[e.rating]},children:e.rating})},ia=[{value:"L",control:Object(F.jsx)(wt.a,{color:"primary"}),label:Object(F.jsx)(oa,{rating:"L"}),labelPlacement:"top"},{value:"10",control:Object(F.jsx)(wt.a,{color:"primary"}),label:Object(F.jsx)(oa,{rating:"10"}),labelPlacement:"top"},{value:"12",control:Object(F.jsx)(wt.a,{color:"primary"}),label:Object(F.jsx)(oa,{rating:"12"}),labelPlacement:"top"},{value:"14",control:Object(F.jsx)(wt.a,{color:"primary"}),label:Object(F.jsx)(oa,{rating:"14"}),labelPlacement:"top"},{value:"18",control:Object(F.jsx)(wt.a,{color:"primary"}),label:Object(F.jsx)(oa,{rating:"18"}),labelPlacement:"top"}],sa=function(e){var t=e.value,r=e.setValue,a=e.error,n=e.disabled;return Object(F.jsxs)(Ft.a,Object(N.a)(Object(N.a)({error:void 0!==a,disabled:!0===n},e.FormControlProps),{},{children:[Object(F.jsx)(kt.a,{component:"legend",children:"Classifica\xe7\xe3o"}),Object(F.jsx)(i.a,{paddingTop:1,children:Object(F.jsx)(St.a,{name:"rating",onChange:function(e){r(e.target.value)},value:t,row:!0,children:ia.map((function(e,t){return Object(F.jsx)(rt.a,Object(N.a)({},e),t)}))})}),a&&Object(F.jsx)(Pt.a,{children:a.message})]}))},la=r(959),ua=l.a.forwardRef((function(e,t){var r=Object(s.useRef)(),a=Object(s.useState)(""),n=Object(m.a)(a,2),c=n[0],o=n[1],i=Object(N.a)(Object(N.a)({variant:"outlined"},e.TextFieldProps),{},{InputProps:Object(N.a)(Object(N.a)({},e.TextFieldProps&&e.TextFieldProps.InputProps&&Object(N.a)({},e.TextFieldProps.InputProps)),{},{readOnly:!0,endAdornment:Object(F.jsx)(la.a,{position:"end",children:e.ButtonFile})}),value:c}),l=Object(N.a)(Object(N.a)({},e.InputFileProps),{},{hidden:!0,ref:r,onChange:function(t){var r=t.target.files;r&&r.length&&o(Array.from(r).map((function(e){return e.name})).join(", ")),e.InputFileProps&&e.InputFileProps.onChange&&e.InputFileProps.onChange(t)}});return Object(s.useImperativeHandle)(t,(function(){return{openWindow:function(){return r.current.click()},clear:function(){return o("")}}})),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("input",Object(N.a)({type:"file"},l)),Object(F.jsx)(je.a,Object(N.a)({},i))]})})),da=r(423),pa=r.n(da),ba=l.a.forwardRef((function(e,t){var r=Object(s.useRef)(),a=e.accept,n=e.label,c=e.setValue,o=e.error,i=e.disabled;return Object(s.useImperativeHandle)(t,(function(){return{clear:function(){return r.current.clear()}}})),Object(F.jsx)(Ft.a,Object(N.a)(Object(N.a)({error:void 0!==o,disabled:!0===i,fullWidth:!0,margin:"normal"},e.FormControlProps),{},{children:Object(F.jsx)(ua,{ref:r,TextFieldProps:{label:n,InputLabelProps:{shrink:!0},style:{backgroundColor:"#fff"}},InputFileProps:{accept:a,onChange:function(e){var t=e.target.files;t.length&&c(t[0])}},ButtonFile:Object(F.jsx)(h.a,{endIcon:Object(F.jsx)(pa.a,{}),variant:"contained",color:"primary",onClick:function(){return r.current.openWindow()},children:"Adicionar"})})}))})),ja=Object(P.a)((function(e){return{cardUpload:{borderRadius:"4px",backgroundColor:"#f5f5f5",margin:e.spacing(2,0)},cardOpened:{borderRadius:"4px",backgroundColor:"#f5f5f5"},cardContentOpened:{paddingBottom:e.spacing(2)+"px important"}}})),fa=qe.d().shape({title:qe.f().label("T\xedtulo").required().max(255),description:qe.f().label("Sinopse").required(),year_launched:qe.c().label("Ano de lan\xe7amento").required().min(1),duration:qe.c().label("Dura\xe7\xe3o").required().min(1),cast_members:qe.a().label("Membros de elencos").min(1),genres:qe.a().label("G\xeaneros").min(1).test({message:"Cada g\xeanero escolhido precisa ter pelo menos uma categoria selecionada",test:function(e){var t=this;return e.every((function(e){return 0!==e.categories.filter((function(e){return t.parent.categories.map((function(e){return e.id})).includes(e.id)})).length}))}}),categories:qe.a().label("Categorias").min(1),rating:qe.f().label("Classifica\xe7\xe3o").required()}),ha=Object.keys(gt),ma=function(){var e=Object(nt.a)({validationSchema:fa,defaultValues:{rating:null,cast_members:[],genres:[],categories:[],opened:!1}}),t=e.register,r=e.handleSubmit,a=e.getValues,n=e.setValue,c=e.errors,o=e.reset,i=e.watch,l=e.triggerValidation,u=e.formState;pt(u.submitCount,c);var d=Object(q.useSnackbar)().enqueueSnackbar,p=Object(Me.f)(),b=Object(Me.h)().id,j=Object(s.useState)(null),h=Object(m.a)(j,2),g=h[0],O=h[1],x=Object(s.useContext)(re),v=Object(Ht.a)(),y=Object(ie.a)(v.breakpoints.up("md")),C=Object(s.useRef)(),P=Object(s.useRef)(),k=Object(s.useRef)(),S=Object(s.useRef)(Object(ce.zipObject)(ha,ha.map((function(){return Object(s.createRef)()})))),w=ja(),T=Object(Xt.b)();Object(s.useEffect)((function(){["rating","opened","cast_members","genres","categories"].concat(Object(Wt.a)(ha)).forEach((function(e){return t({name:e})}))}),[t]);var R=Object(s.useCallback)((function(e){Object.keys(S.current).forEach((function(e){return S.current[e].current.clear()})),C.current.clear(),P.current.clear(),k.current.clear(),o(e)}),[C,k,P,o,S]);function I(e,t){return D.apply(this,arguments)}function D(){return(D=Object(E.a)(A.a.mark((function e(t,r){var a,n,c,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(ce.omit)(t,[].concat(Object(Wt.a)(ha),["cast_members","genres","categories"]))).cast_members_id=t.cast_members.map((function(e){return e.id})),a.genres_id=t.genres.map((function(e){return e.id})),a.categories_id=t.categories.map((function(e){return e.id})),e.prev=4,n=g?qt.update(g.id,a):qt.create(a),e.next=8,n;case 8:c=e.sent,o=c.data,d("V\xeddeo salvo com sucesso",{variant:"success"}),N(o.data),b&&R(g),setTimeout((function(){r?b?p.replace("/videos/".concat(o.data.id,"/edit")):p.push("/videos/".concat(o.data.id,"/edit")):p.push("/videos")})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),console.error(e.t0),d("N\xe3o foi poss\xedvel gravar o v\xeddeo",{variant:"error"});case 20:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function N(e){var t=ha.filter((function(e){return a()[e]})).map((function(e){return{fileField:e,file:a()[e]}}));t.length&&(T(Ir.addUpload({video:e,files:t})),d("",{key:"snackbar-upload",persist:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},content:function(e,t){var r=e;return Object(F.jsx)(Gr,{id:r})}}))}return Object(s.useEffect)((function(){if(b){var e=!0;return Object(E.a)(A.a.mark((function t(){var r,a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,qt.get(b);case 3:r=t.sent,a=r.data,e&&(O(a.data),R(a.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),d("N\xe3o foi poss\xedvel encontrar o v\xeddeo: ".concat(b),{variant:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){e=!1}}}),[b,R,d]),Object(F.jsxs)(dt,{GridItemProps:{xs:12},onSubmit:r(I),children:[Object(F.jsxs)(st.a,{container:!0,spacing:5,children:[Object(F.jsxs)(st.a,{item:!0,xs:12,md:6,children:[Object(F.jsx)(je.a,{name:"title",label:"T\xedtulo",variant:"outlined",fullWidth:!0,inputRef:t,disabled:x,InputLabelProps:{shrink:!0},error:void 0!==c.title,helperText:c.title&&c.title.message}),Object(F.jsx)(je.a,{name:"description",label:"Sinopse",multiline:!0,rows:"4",margin:"normal",variant:"outlined",fullWidth:!0,inputRef:t,disabled:x,InputLabelProps:{shrink:!0},error:void 0!==c.description,helperText:c.description&&c.description.message}),Object(F.jsxs)(st.a,{container:!0,spacing:1,children:[Object(F.jsx)(st.a,{item:!0,xs:6,children:Object(F.jsx)(je.a,{name:"year_launched",label:"Ano de lan\xe7amento",type:"number",margin:"normal",variant:"outlined",fullWidth:!0,inputRef:t,disabled:x,InputLabelProps:{shrink:!0},error:void 0!==c.year_launched,helperText:c.year_launched&&c.year_launched.message})}),Object(F.jsx)(st.a,{item:!0,xs:6,children:Object(F.jsx)(je.a,{name:"duration",label:"Dura\xe7\xe3o",type:"number",margin:"normal",variant:"outlined",fullWidth:!0,inputRef:t,disabled:x,InputLabelProps:{shrink:!0},error:void 0!==c.duration,helperText:c.duration&&c.duration.message})})]}),Object(F.jsx)(st.a,{container:!0,spacing:2,children:Object(F.jsx)(st.a,{item:!0,xs:12,children:Object(F.jsx)($r,{ref:C,castMembers:i("cast_members"),setCastMembers:function(e){return n("cast_members",e,!0)},error:c.cast_members,disabled:x})})}),Object(F.jsxs)(st.a,{container:!0,spacing:2,children:[Object(F.jsx)(st.a,{item:!0,xs:12,md:6,children:Object(F.jsx)(aa,{ref:P,genres:i("genres"),setGenres:function(e){return n("genres",e,!0)},categories:i("categories"),setCategories:function(e){return n("categories",e,!0)},error:c.genres,disabled:x})}),Object(F.jsx)(st.a,{item:!0,xs:12,md:6,children:Object(F.jsx)(ra,{ref:k,categories:i("categories"),setCategories:function(e){return n("categories",e,!0)},genres:i("genres"),error:c.categories,disabled:x})})]})]}),Object(F.jsxs)(st.a,{item:!0,xs:12,md:6,children:[Object(F.jsx)(sa,{value:i("rating"),setValue:function(e){return n("rating",e,!0)},error:c.rating,disabled:x,FormControlProps:{margin:y?"none":"normal"}}),Object(F.jsx)(Yt.a,{className:w.cardUpload,children:Object(F.jsxs)(Qt.a,{children:[Object(F.jsx)(f.a,{color:"primary",variant:"h6",children:"Imagens"}),Object(F.jsx)(ba,{ref:S.current.thumb_file,accept:"image/*",label:"Thumb",setValue:function(e){return n("thumb_file",e)}}),Object(F.jsx)(ba,{ref:S.current.banner_file,accept:"image/*",label:"Banner",setValue:function(e){return n("banner_file",e)}})]})}),Object(F.jsx)(Yt.a,{className:w.cardUpload,children:Object(F.jsxs)(Qt.a,{children:[Object(F.jsx)(f.a,{color:"primary",variant:"h6",children:"V\xeddeos"}),Object(F.jsx)(ba,{ref:S.current.trailer_file,accept:"video/mp4",label:"Trailer",setValue:function(e){return n("trailer_file",e)}}),Object(F.jsx)(ba,{ref:S.current.video_file,accept:"video/mp4",label:"Principal",setValue:function(e){n("video_file",e)}})]})}),Object(F.jsx)(Yt.a,{className:w.cardOpened,children:Object(F.jsx)(Qt.a,{className:w.cardContentOpened,children:Object(F.jsx)(rt.a,{disabled:x,control:Object(F.jsx)(at.a,{name:"opened",color:"primary",onChange:function(){return n("opened",!a().opened)},checked:i("opened")}),label:Object(F.jsx)(f.a,{color:"primary",variant:"subtitle2",children:"Quero que esse conte\xfado apare\xe7a na se\xe7\xe3o lan\xe7amentos"}),labelPlacement:"end"})})})]})]}),Object(F.jsx)(ot,{disabledButtons:x,handleSave:function(){return l().then((function(e){e&&I(a(),null)}))}})]})},ga=function(){var e=Object(Me.h)().id;return Object(F.jsx)(S,{title:e?"Editar v\xeddeo":"Criar v\xeddeo",children:Object(F.jsx)(ma,{})})},Oa=r(972),xa=r(961),va=r(962),ya=(r(424),Object(p.a)((function(e){return{successIcon:{color:e.palette.success.main,marginLeft:e.spacing(1)},errorIcon:{color:e.palette.error.main,marginLeft:e.spacing(1)},divider:{height:"20px",marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}))),Ca=function(e){var t,r=e.uploadOrFile,a=ya(),n=Object(Xt.b)(),c=Object(s.useState)(!1),o=Object(m.a)(c,2),i=o[0],l=o[1],d=Object(_r.useDebounce)(i,2500),p=Object(m.a)(d,1)[0],b=pr(r),j=null===r||void 0===r||null===(t=r.video)||void 0===t?void 0:t.id,f=br(r);return Object(s.useEffect)((function(){l(dr(r))}),[r]),p?Object(F.jsx)(fr.a,{in:!0,timeout:{enter:1e3},children:Object(F.jsxs)(F.Fragment,{children:[1===r.progress&&!b&&Object(F.jsx)(yr.a,{className:a.successIcon}),b&&Object(F.jsx)(Pr.a,{className:a.errorIcon}),f&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(sr.a,{className:a.divider,orientation:"vertical"}),Object(F.jsx)(g.a,{onClick:function(){return n(Ir.removeUpload({id:j}))},children:Object(F.jsx)(kr.a,{color:"primary"})}),Object(F.jsx)(g.a,{component:u.b,to:"/videos/".concat(j,"/edit"),children:Object(F.jsx)(L.a,{color:"primary"})})]})]})}):null},Pa=Object(p.a)((function(e){return{gridTitle:{display:"flex",color:"#999999"},icon:{color:e.palette.error.main,minWidth:"40px"}}})),Fa=function(e){var t=e.uploadOrFile,r=Pa();return Object(F.jsxs)(cr.a,{children:[Object(F.jsxs)(st.a,{className:r.gridTitle,item:!0,xs:12,md:9,children:[Object(F.jsx)(ur.a,{className:r.icon}),Object(F.jsx)(f.a,{color:"inherit",children:e.children})]}),Object(F.jsxs)(st.a,{container:!0,direction:"row",alignItems:"center",justify:"flex-end",children:[Object(F.jsx)(Or,{size:48,uploadOrFile:t}),Object(F.jsx)(Ca,{uploadOrFile:t})]})]})},ka=Object(p.a)((function(e){return{panelSummary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},expandedIcon:{color:e.palette.primary.contrastText}}})),Sa=[{name:"dashboard",label:"Dashboard",path:"/",component:w,exact:!0},{name:"categories.list",label:"Listar categorias",path:"/categories",component:tt,exact:!0},{name:"categories.create",label:"Criar categoria",path:"/categories/create",component:ft,exact:!0},{name:"categories.edit",label:"Editar categoria",path:"/categories/:id/edit",component:ft,exact:!0},{name:"cast_members.list",label:"Listar membros de elencos",path:"/cast-members",component:Ct,exact:!0},{name:"cast_members.create",label:"Criar membro de elenco",path:"/cast-members/create",component:It,exact:!0},{name:"cast_members.edit",label:"Editar membro de elenco",path:"/cast-members/:id/edit",component:It,exact:!0},{name:"genres.list",label:"Listar g\xeaneros",path:"/genres",component:Bt,exact:!0},{name:"genres.create",label:"Criar g\xeaneros",path:"/genres/create",component:Mt,exact:!0},{name:"genres.edit",label:"Editar g\xeaneros",path:"/genres/:id/edit",component:Mt,exact:!0},{name:"videos.list",label:"Listar v\xeddeos",path:"/videos",component:Gt,exact:!0},{name:"videos.create",label:"Criar v\xeddeos",path:"/videos/create",component:ga,exact:!0},{name:"genres.edit",label:"Editar g\xeaneros",path:"/videos/:id/edit",component:ga,exact:!0},{name:"uploads",label:"Uploads",path:"/uploads",component:function(){var e=ka(),t=Object(Xt.c)((function(e){return e.upload.uploads}));return Object(F.jsx)(S,{title:"Uploads",children:t.map((function(t,r){return Object(F.jsx)(Yt.a,{elevation:5,children:Object(F.jsxs)(Qt.a,{children:[Object(F.jsx)(Fa,{uploadOrFile:t,children:t.video.title}),Object(F.jsxs)(Oa.a,{style:{margin:0},children:[Object(F.jsx)(xa.a,{className:e.panelSummary,expandIcon:Object(F.jsx)(er.a,{className:e.expandedIcon}),children:Object(F.jsx)(f.a,{children:"Ver detalhes"})}),Object(F.jsx)(va.a,{children:Object(F.jsx)(st.a,{item:!0,xs:12,children:Object(F.jsx)(Jt.a,{dense:!0,style:{padding:"0px"},children:t.files.map((function(e,t){return Object(F.jsxs)(l.a.Fragment,{children:[Object(F.jsx)(sr.a,{}),Object(F.jsx)(Fa,{uploadOrFile:e,children:"".concat(gt[e.fileField]," - ").concat(e.filename)})]},t)}))})})})]})]})},r)}))})},exact:!0}],wa={dashboard:"Dashboard","categories.list":"Categorias","cast_members.list":"Membros de elenco","genres.list":"G\xeaneros","videos.list":"V\xeddeos",uploads:"Uploads"},Ta=Sa.filter((function(e){return Object.keys(wa).includes(e.name)})),Ra=function(){var e=s.useState(null),t=Object(m.a)(e,2),r=t[0],a=t[1],n=Boolean(r),c=function(){return a(null)};return Object(F.jsxs)(s.Fragment,{children:[Object(F.jsx)(g.a,{edge:"start",color:"inherit","aria-label":"open drawer","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){return a(e.currentTarget)},children:Object(F.jsx)(y.a,{})}),Object(F.jsx)(O.a,{id:"menu-appbar",open:n,anchorEl:r,onClick:c,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null,children:Object.keys(wa).map((function(e,t){var r=Ta.find((function(t){return t.name===e}));return Object(F.jsx)(x.a,{component:u.b,to:r.path,onClick:c,children:wa[e]},t)}))})]})},Ia=Object(p.a)((function(e){return{toolbar:{backgroundColor:"#000000"},title:{flexGrow:1,textAlign:"center"},logo:Object(d.a)({width:100},e.breakpoints.up("sm"),{width:170})}})),Da=function(){var e=Ia();return Object(F.jsx)(b.a,{children:Object(F.jsxs)(j.a,{className:e.toolbar,children:[Object(F.jsx)(Ra,{}),Object(F.jsx)(f.a,{className:e.title,children:Object(F.jsx)("img",{src:"data:image/png;base64,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",alt:"CodeFlix",className:e.logo})}),Object(F.jsx)(h.a,{children:"Login"})]})})},Aa=function(){return Object(F.jsx)(Me.c,{children:Sa.map((function(e,t){return Object(F.jsx)(Me.a,{path:e.path,component:e.component,exact:!0===e.exact},t)}))})},Ea=r(408),Na=r(964),Ba=r(970),La=r(426),_a=r.n(La),Ma={};Sa.forEach((function(e){return Ma[e.path]=e.label}));var qa=Object(p.a)((function(e){return Object(Ea.a)({linkRouter:{color:e.palette.secondary.main,"&:focus, &:active":{color:e.palette.secondary.main},"&:hover":{color:e.palette.secondary.dark}}})})),Va=function(e){return Object(F.jsx)(Na.a,Object(N.a)(Object(N.a)({},e),{},{component:u.b}))};function Ua(){var e=qa();return Object(F.jsx)(C.a,{children:Object(F.jsx)(i.a,{paddingTop:2,paddingBottom:1,children:Object(F.jsx)(Me.a,{children:function(t){return function(t){var r=t.pathname.split("/").filter((function(e){return e}));return r.unshift("/"),Object(F.jsx)(Ba.a,{"aria-label":"breadcrumb",children:r.map((function(t,a){var n=a===r.length-1,c="".concat(r.slice(0,a+1).join("/").replace("//","/")),o=Object.keys(Ma).find((function(e){return new _a.a(e).match(c)}));return void 0!==o&&(n?Object(F.jsx)(f.a,{color:"textPrimary",children:Ma[o]},c):Object(F.jsx)(Va,{color:"inherit",to:c,className:e.linkRouter,children:Ma[o]},c))}))})}(t.location)}})})})}var za=Object(p.a)((function(e){return{variantSuccess:{backgroundColor:e.palette.success.main},variantError:{backgroundColor:e.palette.error.main},variantInfo:{backgroundColor:e.palette.primary.main}}})),Ga=function(e){var t,r={classes:za(),autoHideDuration:3e3,maxSnack:3,anchorOrigin:{horizontal:"right",vertical:"top"},preventDuplicate:!0,ref:function(e){return t=e},action:function(e){return Object(F.jsx)(g.a,{color:"inherit",style:{fontSize:20},onClick:function(){return t.closeSnackbar(e)},children:Object(F.jsx)(rr.a,{})})}},a=Object(N.a)(Object(N.a)({},r),e);return Object(F.jsx)(q.SnackbarProvider,Object(N.a)(Object(N.a)({},a),{},{children:e.children}))},Wa=r(965);function Ha(e){return Object(N.a)(Object(N.a)({},e),{},{palette:Object(N.a)(Object(N.a)({},e.palette),{},{primary:e.palette.error,type:"dark"})})}var Ya=function(){var e=Object(s.useContext)(re);return Object(F.jsx)(c.a,{theme:Ha,children:Object(F.jsx)(fr.a,{in:e,children:Object(F.jsx)(Wa.a,{color:"primary",style:{position:"fixed",width:"100%",zIndex:9999}})})})},Qa=function(e){var t=Object(s.useState)(!1),r=Object(m.a)(t,2),a=r[0],n=r[1],c=Object(s.useState)(0),o=Object(m.a)(c,2),i=o[0],l=o[1];function u(){l((function(e){return e-1}))}return Object(s.useMemo)((function(){var e=!0,t=function(e,t){var r,a=[],n=Object(ze.a)(Ye);try{for(n.s();!(r=n.n()).done;){var c=r.value.interceptors.request.use(e,t);a.push(c)}}catch(o){n.e(o)}finally{n.f()}return a}((function(t){return e&&!t.headers.hasOwnProperty("x-ignore-loading")&&(n(!0),l((function(e){return e+1}))),t})),r=function(e,t){var r,a=[],n=Object(ze.a)(Ye);try{for(n.s();!(r=n.n()).done;){var c=r.value.interceptors.response.use(e,t);a.push(c)}}catch(o){n.e(o)}finally{n.f()}return a}((function(t){var r,a;return e&&!(null===t||void 0===t||null===(r=t.config)||void 0===r||null===(a=r.headers)||void 0===a?void 0:a.hasOwnProperty("x-ignore-loading"))&&u(),t}),(function(t){var r,a;return e&&!(null===t||void 0===t||null===(r=t.config)||void 0===r||null===(a=r.headers)||void 0===a?void 0:a.hasOwnProperty("x-ignore-loading"))&&u(),Promise.reject(t)}));return function(){e=!1,t.forEach((function(e,t){return Ye[t].interceptors.request.eject(e)})),function(e){e.forEach((function(e,t){return Ye[t].interceptors.response.eject(e)}))}(r)}}),[]),Object(s.useEffect)((function(){i||n(!1)}),[i]),Object(F.jsx)(re.Provider,{value:a,children:e.children})},Xa=function(){return Object(F.jsx)(l.a.Fragment,{children:Object(F.jsx)(Qa,{children:Object(F.jsx)(c.a,{theme:H,children:Object(F.jsx)(Ga,{children:Object(F.jsx)(o.a,{children:Object(F.jsxs)(u.a,{basename:"/admin",children:[Object(F.jsx)(Ya,{}),Object(F.jsx)(Da,{}),Object(F.jsxs)(i.a,{paddingTop:"70px",children:[Object(F.jsx)(Ua,{}),Object(F.jsx)(Aa,{})]})]})})})})})})},Za=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,975)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),a(e),n(e),c(e),o(e)}))},Ka=r(115),Ja=r(140),$a=r(93),en=r(292),tn=A.a.mark(an),rn=A.a.mark(nn);function an(){var e,t,r,a,n,c,o;return A.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object($a.a)(Rr.ADD_UPLOAD);case 2:e=i.sent;case 3:return i.next=6,Object($a.e)(e);case 6:t=i.sent,r=t.payload,a=Object(ze.a)(r.files),i.prev=9,a.s();case 11:if((n=a.n()).done){i.next=25;break}return c=n.value,i.prev=13,i.next=16,Object($a.c)(nn,{video:r.video,fileInfo:c});case 16:o=i.sent,console.log("==>> ",o),i.next=23;break;case 20:i.prev=20,i.t0=i.catch(13),console.log(i.t0);case 23:i.next=11;break;case 25:i.next=30;break;case 27:i.prev=27,i.t1=i.catch(9),a.e(i.t1);case 30:return i.prev=30,a.f(),i.finish(30);case 33:console.log("==>>",r),i.next=3;break;case 36:case"end":return i.stop()}}),tn,null,[[9,27,30,33],[13,20]])}function nn(e){var t,r,a,n,c,o;return A.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.video,r=e.fileInfo,i.next=3,Object($a.c)(cn,{id:t.id,fileInfo:r});case 3:a=i.sent;case 4:return i.prev=5,i.next=8,Object($a.e)(a);case 8:if(n=i.sent,c=n.progress,!(o=n.response)){i.next=13;break}return i.abrupt("return",o);case 13:return i.next=15,Object($a.d)(Ir.updateProgress({video:t,fileField:r.fileField,progress:c}));case 15:i.next=22;break;case 17:return i.prev=17,i.t0=i.catch(5),i.next=21,Object($a.d)(Ir.setUploadError({video:t,fileField:r.fileField,error:i.t0}));case 21:throw i.t0;case 22:i.next=4;break;case 24:case"end":return i.stop()}}),rn,null,[[5,17]])}function cn(e){var t=e.id,r=e.fileInfo;return Object(en.b)((function(e){qt.partialUpdate(t,Object(d.a)({_method:"PATCH"},r.fileField,r.file),{http:{usePost:!0},config:{headers:{"x-ignore-loading":!0},onUploadProgress:function(t){if(t.lengthComputable){var r=t.loaded/t.total;e({progress:r})}}}}).then((function(t){return e({response:t})})).catch((function(t){return e(t)})).finally((function(){return e(en.a)}));return function(){}}))}var on=A.a.mark(sn);function sn(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($a.b)([an()]);case 2:case"end":return e.stop()}}),on)}var ln=Object(Ja.b)(),un=Object(Ka.d)(Object(Ka.b)({upload:Er}),Object(Ka.a)(ln));ln.run(sn);var dn=un;n.a.render(Object(F.jsx)(Xt.a,{store:dn,children:Object(F.jsx)(Xa,{})}),document.getElementById("root")),Za()}},[[898,1,2]]]);
//# sourceMappingURL=main.da646373.chunk.js.map